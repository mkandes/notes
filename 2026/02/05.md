# Modifying ZFS configuration
- Limit ARC to max 50% RAM
- Enable snapshots

```
mkandes@hardtack:~$ zfs list
NAME                                               USED  AVAIL  REFER  MOUNTPOINT
bpool                                              213M  1.54G    96K  /boot
bpool/BOOT                                         211M  1.54G    96K  none
bpool/BOOT/ubuntu_ybsehk                           211M  1.54G   211M  /boot
rpool                                             1.49T   306G   192K  /
rpool/ROOT                                        22.1G   306G   192K  none
rpool/ROOT/ubuntu_ybsehk                          22.1G   306G  13.5G  /
rpool/ROOT/ubuntu_ybsehk/srv                       192K   306G   192K  /srv
rpool/ROOT/ubuntu_ybsehk/usr                       664K   306G   192K  /usr
rpool/ROOT/ubuntu_ybsehk/usr/local                 472K   306G   472K  /usr/local
rpool/ROOT/ubuntu_ybsehk/var                      8.59G   306G   192K  /var
rpool/ROOT/ubuntu_ybsehk/var/games                 192K   306G   192K  /var/games
rpool/ROOT/ubuntu_ybsehk/var/lib                  8.47G   306G  8.29G  /var/lib
rpool/ROOT/ubuntu_ybsehk/var/lib/AccountsService   212K   306G   212K  /var/lib/AccountsService
rpool/ROOT/ubuntu_ybsehk/var/lib/NetworkManager    684K   306G   684K  /var/lib/NetworkManager
rpool/ROOT/ubuntu_ybsehk/var/lib/apt               101M   306G   101M  /var/lib/apt
rpool/ROOT/ubuntu_ybsehk/var/lib/dpkg             84.0M   306G  84.0M  /var/lib/dpkg
rpool/ROOT/ubuntu_ybsehk/var/log                   118M   306G   118M  /var/log
rpool/ROOT/ubuntu_ybsehk/var/mail                  192K   306G   192K  /var/mail
rpool/ROOT/ubuntu_ybsehk/var/snap                 4.17M   306G  4.17M  /var/snap
rpool/ROOT/ubuntu_ybsehk/var/spool                2.66M   306G  2.66M  /var/spool
rpool/ROOT/ubuntu_ybsehk/var/www                   192K   306G   192K  /var/www
rpool/USERDATA                                    1.47T   306G   192K  none
rpool/USERDATA/home_fdun0v                        1.47T   306G  1.47T  /home
rpool/USERDATA/root_fdun0v                         688K   306G   688K  /root
rpool/keystore                                    22.5M   306G  16.5M  -
mkandes@hardtack:~$
```

# Reference(s):
- https://github.com/openzfs/zfs/issues/17052
- https://blog.thalheim.io/2025/10/17/zfs-ate-my-ram-understanding-the-arc-cache
- https://www.linuxatemyram.com
- https://ubuntu.com/tutorials/using-zfs-snapshots-clones
