# Linux Hypervisor Setup: libvirt/qemu/kvm

```
mkandes@hardtack:~$ apt list --installed | grep dns

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

bind9-dnsutils/noble-updates,noble-security,now 1:9.18.39-0ubuntu0.24.04.2 amd64 [installed,automatic]
dns-root-data/noble-updates,now 2024071801~ubuntu0.24.04.1 all [installed,automatic]
dnsmasq-base/noble-updates,now 2.90-2ubuntu0.1 amd64 [installed,automatic]
libnss-mdns/noble,now 0.15.1-4build1 amd64 [installed,automatic]
python3-aiodns/noble,now 3.1.1-1 all [installed,automatic]
mkandes@hardtack:~$ apt install dnsmasq
E: Could not open lock file /var/lib/dpkg/lock-frontend - open (13: Permission denied)
E: Unable to acquire the dpkg frontend lock (/var/lib/dpkg/lock-frontend), are you root?
mkandes@hardtack:~$ sudo apt install dnsmasq
[sudo] password for mkandes: 
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following package was automatically installed and is no longer required:
  python3-proton-vpn-network-manager
Use 'sudo apt autoremove' to remove it.
The following NEW packages will be installed:
  dnsmasq
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 17.9 kB of archives.
After this operation, 88.1 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu noble-updates/universe amd64 dnsmasq all 2.90-2ubuntu0.1 [17.9 kB]
Fetched 17.9 kB in 1s (33.1 kB/s)  
Selecting previously unselected package dnsmasq.
(Reading database ... 492142 files and directories currently installed.)
Preparing to unpack .../dnsmasq_2.90-2ubuntu0.1_all.deb ...
Unpacking dnsmasq (2.90-2ubuntu0.1) ...
Setting up dnsmasq (2.90-2ubuntu0.1) ...
Created symlink /etc/systemd/system/multi-user.target.wants/dnsmasq.service â†’ /u
sr/lib/systemd/system/dnsmasq.service.
Could not execute systemctl:  at /usr/bin/deb-systemd-invoke line 148.
mkandes@hardtack:~$
```

```
mkandes@hardtack:~$ apt search dhclient
Sorting... Done
Full Text Search... Done
dhcpcd-base/noble-updates,now 1:10.0.6-1ubuntu3.2 amd64 [installed,automatic]
  DHCPv4 and DHCPv6 dual-stack client (binaries and exit hooks)

isc-dhcp-client/noble 4.4.3-P1-4ubuntu2 amd64
  DHCP client for automatically obtaining an IP address

isc-dhcp-common/noble 4.4.3-P1-4ubuntu2 amd64
  common manpages relevant to all of the isc-dhcp packages

python-aodhclient-doc/noble 3.5.1-0ubuntu1 all
  OpenStack Alarming as a Service - client doc

python3-aodhclient/noble 3.5.1-0ubuntu1 all
  OpenStack Alarming as a Service - Python 3.x client

mkandes@hardtack:~$ sudo apt-get install isc-dhcp-client
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following package was automatically installed and is no longer required:
  python3-proton-vpn-network-manager
Use 'sudo apt autoremove' to remove it.
The following additional packages will be installed:
  isc-dhcp-common
Suggested packages:
  avahi-autoipd isc-dhcp-client-ddns
The following NEW packages will be installed:
  isc-dhcp-client isc-dhcp-common
0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.
Need to get 375 kB of archives.
After this operation, 1,011 kB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://archive.ubuntu.com/ubuntu noble/universe amd64 isc-dhcp-client amd64 4.4.3-P1-4ubuntu2 [329 kB]
Get:2 http://archive.ubuntu.com/ubuntu noble/universe amd64 isc-dhcp-common amd64 4.4.3-P1-4ubuntu2 [45.8 kB]
Fetched 375 kB in 1s (485 kB/s)           
Selecting previously unselected package isc-dhcp-client.
(Reading database ... 492219 files and directories currently installed.)
Preparing to unpack .../isc-dhcp-client_4.4.3-P1-4ubuntu2_amd64.deb ...
Unpacking isc-dhcp-client (4.4.3-P1-4ubuntu2) ...
Selecting previously unselected package isc-dhcp-common.
Preparing to unpack .../isc-dhcp-common_4.4.3-P1-4ubuntu2_amd64.deb ...
Unpacking isc-dhcp-common (4.4.3-P1-4ubuntu2) ...
Setting up isc-dhcp-client (4.4.3-P1-4ubuntu2) ...
Setting up isc-dhcp-common (4.4.3-P1-4ubuntu2) ...
Processing triggers for man-db (2.12.0-4build2) ...
mkandes@hardtack:~$
```

```
mkandes@hardtack:~$ apt list --installed | grep dmidecode

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

dmidecode/noble-updates,now 3.5-3ubuntu0.1 amd64 [installed,automatic]
mkandes@hardtack:~$
```

```
mkandes@hardtack:~$ apt list --installed | grep ebtables

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

mkandes@hardtack:~$ sudo apt install ebtables
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following package was automatically installed and is no longer required:
  python3-proton-vpn-network-manager
Use 'sudo apt autoremove' to remove it.
The following NEW packages will be installed:
  ebtables
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 88.4 kB of archives.
After this operation, 287 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu noble/main amd64 ebtables amd64 2.0.11-6build1 [88.4 kB]
Fetched 88.4 kB in 1s (173 kB/s)  
Selecting previously unselected package ebtables.
(Reading database ... 492164 files and directories currently installed.)
Preparing to unpack .../ebtables_2.0.11-6build1_amd64.deb ...
Unpacking ebtables (2.0.11-6build1) ...
Setting up ebtables (2.0.11-6build1) ...
Processing triggers for man-db (2.12.0-4build2) ...
mkandes@hardtack:~$
```

```
mkandes@hardtack:~$ apt list --installed | grep bridge

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

libatk-bridge2.0-0t64/noble,now 2.52.0-1build1 amd64 [installed,automatic]
mkandes@hardtack:~$ sudo apt install bridge-utils
[sudo] password for mkandes: 
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following package was automatically installed and is no longer required:
  python3-proton-vpn-network-manager
Use 'sudo apt autoremove' to remove it.
Suggested packages:
  ifupdown
The following NEW packages will be installed:
  bridge-utils
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 33.9 kB of archives.
After this operation, 118 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu noble/main amd64 bridge-utils amd64 1.7.1-1ubuntu2 [33.9 kB]
Fetched 33.9 kB in 0s (125 kB/s)      
Selecting previously unselected package bridge-utils.
(Reading database ... 492189 files and directories currently installed.)
Preparing to unpack .../bridge-utils_1.7.1-1ubuntu2_amd64.deb ...
Unpacking bridge-utils (1.7.1-1ubuntu2) ...
Setting up bridge-utils (1.7.1-1ubuntu2) ...
Processing triggers for man-db (2.12.0-4build2) ...
mkandes@hardtack:~$
```

```
mkandes@hardtack:~$ apt list --installed | grep netcat

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

netcat-openbsd/noble,now 1.226-1ubuntu2 amd64 [installed,automatic]
mkandes@hardtack:~$ sudo apt install netcat
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Package netcat is a virtual package provided by:
  netcat-traditional 1.10-48
  netcat-openbsd 1.226-1ubuntu2
You should explicitly select one to install.

E: Package 'netcat' has no installation candidate
mkandes@hardtack:~$
```

# Reference(s):
- https://www.youtube.com/watch?v=HfNKpT2jo7U&t=66s
- https://en.wikipedia.org/wiki/Kernel-based_Virtual_Machine
- https://linux-kvm.org
- https://en.wikipedia.org/wiki/QEMU
- https://www.qemu.org
- https://en.wikipedia.org/wiki/Libvirt
- https://libvirt.org
- https://www.libvirt.org/manpages/virsh.html
- https://en.wikipedia.org/wiki/Virt-manager
- https://virt-manager.org
- https://en.wikipedia.org/wiki/Dnsmasq
- https://thekelleys.org.uk/dnsmasq/doc.html
- https://en.wikipedia.org/wiki/Dmidecode
- https://www.nongnu.org/dmidecode
- https://en.wikipedia.org/wiki/Netfilter
- https://netfilter.org
- https://ebtables.netfilter.org
- https://en.wikipedia.org/wiki/Netcat
- https://nc110.sourceforge.io
- 
