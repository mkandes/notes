# Deploying spack-0.21.2 on Expanse: Part V

```
[spack_cpu@login02 ~]$ squeue -u $USER
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
          39204093 ind-share openfoam spack_cp PD       0:00      1 (Dependency)
          39204092 ind-share scotch@7 spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204091 ind-share raxml-ng spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204090 ind-share raxml@8. spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204089 ind-share zoltan@3 spack_cp PD       0:00      1 (Dependency)
          39204088 ind-share parmetis spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204087 ind-share wps@4.6. spack_cp PD       0:00      1 (Dependency)
          39204086 ind-share wrf@4.6. spack_cp PD       0:00      1 (Dependency)
          39204085 ind-share netcdf-f spack_cp PD       0:00      1 (Dependency)
          39204084 ind-share netcdf-c spack_cp PD       0:00      1 (Dependency)
          39204083 ind-share netcdf-c spack_cp PD       0:00      1 (Dependency)
          39204082 ind-share ior@3.3. spack_cp PD       0:00      1 (Dependency)
          39204081 ind-share parallel spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204080 ind-share osu-micr spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204079 ind-share quantum- spack_cp PD       0:00      1 (Dependency)
          39204078 ind-share elpa@202 spack_cp PD       0:00      1 (Dependency)
          39204077 ind-share netlib-s spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204076 ind-share neuron@8 spack_cp PD       0:00      1 (Dependency)
          39204075 ind-share adios2@2 spack_cp PD       0:00      1 (Dependency)
          39204074 ind-share py-mpi4p spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204073 ind-share kahip@3. spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204072 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39204071 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39204070 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39204069 ind-share  hpl@2.3 spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204068 ind-share hdf5@1.1 spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204067 ind-share gromacs@ spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204066 ind-share fftw@3.3 spack_cp PD       0:00      1 (Dependency)
          39204065 ind-share fftw@3.3 spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204064 ind-share namd@2.1 spack_cp PD       0:00      1 (Dependency)
          39204063 ind-share charmpp@ spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204062 ind-share iq-tree@ spack_cp PD       0:00      1 (Dependency)
          39204061 ind-share boost@1. spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204060 ind-share amdscala spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204059 ind-share amdfftw@ spack_cp PD       0:00      1 (Dependency)
          39204058 ind-share amdfftw@ spack_cp PD       0:00      1 (DependencyNeverSatisfied)
[spack_cpu@login02 ~]$
```

```
[spack_cpu@login02 gcc@13.3.0]$ tail -n 25 openmpi@4.1.8.o39204021.exp-15-56 
==> openssh: Executing phase: 'autoreconf'
==> openssh: Executing phase: 'configure'
==> openssh: Executing phase: 'build'
==> openssh: Executing phase: 'install'
==> openssh: Successfully installed openssh-9.5p1-bcnejstnghftnebyiehhsidor64beahf
  Stage: 0.12s.  Autoreconf: 0.00s.  Configure: 4m 38.45s.  Build: 1m 20.48s.  Install: 3.04s.  Post-install: 4.66s.  Total: 6m 12.43s
[+] /cm/shared/apps/spack/0.21.2/cpu/dev/opt/spack/linux-rocky8-zen2/gcc-13.3.0/openssh-9.5p1-bcnejstnghftnebyiehhsidor64beahf
==> Installing pmix-5.0.1-ukntpodu5a7ejaf4d3adjwmr5ehmhduq [40/41]
==> No binary for pmix-5.0.1-ukntpodu5a7ejaf4d3adjwmr5ehmhduq found: installing from source
==> Fetching https://mirror.spack.io/_source-cache/archive/d4/d4371792d4ba4c791e1010100b4bf9a65500ababaf5ff25d681f938527a67d4a.tar.bz2
==> No patches needed for pmix
==> pmix: Executing phase: 'autoreconf'
==> pmix: Executing phase: 'configure'
==> pmix: Executing phase: 'build'
==> pmix: Executing phase: 'install'
==> pmix: Successfully installed pmix-5.0.1-ukntpodu5a7ejaf4d3adjwmr5ehmhduq
  Stage: 1.05s.  Autoreconf: 0.00s.  Configure: 1m 53.44s.  Build: 2m 18.48s.  Install: 12.00s.  Post-install: 0.20s.  Total: 4m 25.41s
[+] /cm/shared/apps/spack/0.21.2/cpu/dev/opt/spack/linux-rocky8-zen2/gcc-13.3.0/pmix-5.0.1-ukntpodu5a7ejaf4d3adjwmr5ehmhduq
==> Installing openmpi-4.1.8-4ex7oqpa7lqibxo4mkghfmalxwzcefnc [41/41]
==> No binary for openmpi-4.1.8-4ex7oqpa7lqibxo4mkghfmalxwzcefnc found: installing from source
==> Fetching https://mirror.spack.io/_source-cache/archive/46/466f68e3132a1dc02710cc2011fafced8336d98359fa2dae4dddcfd5719f12a9.tar.bz2
==> No patches needed for openmpi
==> openmpi: Executing phase: 'autoreconf'
==> openmpi: Executing phase: 'configure'
==> openmpi: Executing phase: 'build'
[spack_cpu@login02 gcc@13.3.0]$ cd openmpi@4.1.8/
[spack_cpu@login02 openmpi@4.1.8]$ ls
adios2@2.10.1.sh     charmpp@6.10.2.sh    hdf5@1.14.3.sh      ior@3.3.0.sh       netcdf-cxx4@4.3.1.sh       osu-micro-benchmarks@7.4.sh  raxml@8.2.13.sh    zoltan@3.901.sh
amdfftw@4.2-omp.sh   elpa@2024.03.001.sh  hpl@2.3-i64-omp.sh  iq-tree@2.3.6.sh   netcdf-fortran@4.6.1.sh    parallel-netcdf@1.13.0.sh    raxml-ng@1.2.2.sh
amdfftw@4.2.sh       fftw@3.3.10-omp.sh   hpl@2.3-i64.sh      kahip@3.16.sh      netlib-scalapack@2.2.0.sh  parmetis@4.0.3.sh            scotch@7.0.5.sh
amdscalapack@4.2.sh  fftw@3.3.10.sh       hpl@2.3-omp.sh      namd@2.14.sh       neuron@8.2.3.sh            py-mpi4py@4.0.0.sh           wps@4.6.0.sh
boost@1.86.0.sh      gromacs@2024.3.sh    hpl@2.3.sh          netcdf-c@4.9.2.sh  openfoam@2406.sh           quantum-espresso@7.3.1.sh    wrf@4.6.0.sh
[spack_cpu@login02 openmpi@4.1.8]$ pwd
/cm/shared/apps/spack/0.21.2/cpu/dev/etc/spack/sdsc/exp/cpu/dev/specs/gcc@13.3.0/openmpi@4.1.8
[spack_cpu@login02 openmpi@4.1.8]$
```

```
[spack_cpu@login02 gcc@13.3.0]$ head -n 25 openmpi@4.1.8.sh 
#!/usr/bin/env bash

#SBATCH --job-name=openmpi@4.1.8
#SBATCH --account=use300
#SBATCH --reservation=root_73
#SBATCH --clusters=expanse
#SBATCH --partition=ind-shared
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=16
#SBATCH --mem=32G
#SBATCH --time=00:30:00
#SBATCH --output=%x.o%j.%N

declare -xir UNIX_TIME="$(date +'%s')"
declare -xr LOCAL_TIME="$(date +'%Y%m%dT%H%M%S%z')"

declare -xr JOB_SCRIPT="$(scontrol show job ${SLURM_JOB_ID} | awk -F= '/Command=/{print $2}')"
declare -xr JOB_SCRIPT_MD5="$(md5sum ${JOB_SCRIPT} | awk '{print $1}')"
declare -xr JOB_SCRIPT_SHA256="$(sha256sum ${JOB_SCRIPT} | awk '{print $1}')"
declare -xr JOB_SCRIPT_NUMBER_OF_LINES="$(wc -l ${JOB_SCRIPT} | awk '{print $1}')"

declare -xr SCHEDULER_NAME='slurm'
declare -xr SCHEDULER_MAJOR='23'
declare -xr SCHEDULER_MINOR='02'
[spack_cpu@login02 gcc@13.3.0]$
```

```
[spack_cpu@login02 ~]$ !7998
srun --partition=ind-shared --reservation=root_73  --account=use300 --nodes=1 --nodelist=exp-15-56 --ntasks-per-node=1 --cpus-per-task=16 --mem=32G --time=12:00:00 --pty --wait=0 /bin/bash
[spack_cpu@exp-15-56 ~]$
```

```
[spack_cpu@exp-15-56 gcc@13.3.0]$ ls
adios2@2.10.1.o39204007.exp-15-56            cgal@4.13.o39204010.exp-15-56         namd@2.14.o39203974.exp-15-56                py-numpy@1.26.4-omp.sh
adios2@2.10.1.sh                             cgal@4.13.sh                          namd@2.14.sh                                 py-numpy@1.26.4.sh
amdblis@4.2-i64.o39203994.exp-15-56          cgal@5.6.1.o39204011.exp-15-56        NAMD_2.14_Source.tar.gz                      py-numpy@2.1.2-i64.o39204013.exp-15-56
amdblis@4.2-i64-omp.o39203998.exp-15-56      cgal@5.6.1.sh                         netcdf-c@4.9.2.o39203980.exp-15-56           py-numpy@2.1.2-i64-omp.o39204015.exp-15-56
amdblis@4.2-i64-omp.sh                       charmpp@6.10.2.o39203966.exp-15-56    netcdf-c@4.9.2.sh                            py-numpy@2.1.2-i64-omp.sh
amdblis@4.2-i64.sh                           charmpp@6.10.2.sh                     netcdf-cxx4@4.3.1.o39203981.exp-15-56        py-numpy@2.1.2-i64.sh
amdblis@4.2.o39203992.exp-15-56              eigen@3.4.0.o39203967.exp-15-56       netcdf-cxx4@4.3.1.sh                         py-numpy@2.1.2.o39204006.exp-15-56
amdblis@4.2-omp.o39203996.exp-15-56          eigen@3.4.0.sh                        netcdf-fortran@4.6.1.o39203982.exp-15-56     py-numpy@2.1.2-omp.o39204014.exp-15-56
amdblis@4.2-omp.sh                           fftw@3.3.10.o39203972.exp-15-56       netcdf-fortran@4.6.1.sh                      py-numpy@2.1.2-omp.sh
amdblis@4.2.sh                               fftw@3.3.10-omp.o39203973.exp-15-56   netlib-lapack@3.12.0.o39203985.exp-15-56     py-numpy@2.1.2.sh
amdfftw@4.2.o39203969.exp-15-56              fftw@3.3.10-omp.sh                    netlib-lapack@3.12.0.sh                      py-pip@24.2.o39204000.exp-15-56
amdfftw@4.2-omp.o39203971.exp-15-56          fftw@3.3.10.sh                        openblas@0.3.28-i64.o39203988.exp-15-56      py-pip@24.2.sh
amdfftw@4.2-omp.sh                           gsl@2.8.o39203975.exp-15-56           openblas@0.3.28-i64-omp.o39203990.exp-15-56  py-setuptools@75.1.0.o39204001.exp-15-56
amdfftw@4.2.sh                               gsl@2.8.sh                            openblas@0.3.28-i64-omp.sh                   py-setuptools@75.1.0.sh
amdlibflame@4.2-i64.o39203995.exp-15-56      hdf5@1.14.3.o39203979.exp-15-56       openblas@0.3.28-i64.sh                       python@3.11.9.o39203991.exp-15-56
amdlibflame@4.2-i64-omp.o39203999.exp-15-56  hdf5@1.14.3.sh                        openblas@0.3.28.o39203986.exp-15-56          python@3.11.9.sh
amdlibflame@4.2-i64-omp.sh                   iq-tree@2.3.6.o39204012.exp-15-56     openblas@0.3.28-omp.o39203989.exp-15-56      py-virtualenv@20.26.5.o39204016.exp-15-56
amdlibflame@4.2-i64.sh                       iq-tree@2.3.6.sh                      openblas@0.3.28-omp.sh                       py-virtualenv@20.26.5.sh
amdlibflame@4.2.o39203993.exp-15-56          libbeagle@3.1.2.o39203977.exp-15-56   openblas@0.3.28.sh                           scotch@7.0.5.o39204017.exp-15-56
amdlibflame@4.2-omp.o39203997.exp-15-56      libbeagle@3.1.2.sh                    openmpi@4.1.8                                scotch@7.0.5.sh
amdlibflame@4.2-omp.sh                       libbeagle@4.0.1.sh                    openmpi@4.1.8.o39204021.exp-15-56            stream@5.10.o39204018.exp-15-56
amdlibflame@4.2.sh                           libxc@6.2.2.o39203976.exp-15-56       openmpi@4.1.8.sh                             stream@5.10-omp.o39204019.exp-15-56
arrayfire@3.9.0.o39204009.exp-15-56          libxc@6.2.2.sh                        py-numpy@1.26.4-i64.o39204003.exp-15-56      stream@5.10-omp.sh
arrayfire@3.9.0.sh                           metis@5.1.0.o39203983.exp-15-56       py-numpy@1.26.4-i64-omp.o39204005.exp-15-56  stream@5.10.sh
beast2@2.7.7.o39203978.exp-15-56             metis@5.1.0.sh                        py-numpy@1.26.4-i64-omp.sh                   ucx@1.14.1.o39204020.exp-15-56
beast2@2.7.7.sh                              mvapich2@2.3.7-2                      py-numpy@1.26.4-i64.sh                       ucx@1.14.1.sh
boost@1.86.0.o39204008.exp-15-56             mvapich2@2.3.7-2.o39203984.exp-15-56  py-numpy@1.26.4.o39204002.exp-15-56
boost@1.86.0.sh                              mvapich2@2.3.7-2.sh                   py-numpy@1.26.4-omp.o39204004.exp-15-56
[spack_cpu@exp-15-56 gcc@13.3.0]$ head -n 25 openmpi@4.1.8.sh 
#!/usr/bin/env bash

#SBATCH --job-name=openmpi@4.1.8
#SBATCH --account=use300
#SBATCH --reservation=root_73
#SBATCH --clusters=expanse
#SBATCH --partition=ind-shared
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=16
#SBATCH --mem=32G
#SBATCH --time=01:00:00
#SBATCH --output=%x.o%j.%N

declare -xir UNIX_TIME="$(date +'%s')"
declare -xr LOCAL_TIME="$(date +'%Y%m%dT%H%M%S%z')"

declare -xr JOB_SCRIPT="$(scontrol show job ${SLURM_JOB_ID} | awk -F= '/Command=/{print $2}')"
declare -xr JOB_SCRIPT_MD5="$(md5sum ${JOB_SCRIPT} | awk '{print $1}')"
declare -xr JOB_SCRIPT_SHA256="$(sha256sum ${JOB_SCRIPT} | awk '{print $1}')"
declare -xr JOB_SCRIPT_NUMBER_OF_LINES="$(wc -l ${JOB_SCRIPT} | awk '{print $1}')"

declare -xr SCHEDULER_NAME='slurm'
declare -xr SCHEDULER_MAJOR='23'
declare -xr SCHEDULER_MINOR='02'
[spack_cpu@exp-15-56 gcc@13.3.0]$
```

```
[spack_cpu@exp-15-56 dev]$ ls
deploy.o39203939.exp-15-56  deploy.sh  specs  yamls
[spack_cpu@exp-15-56 dev]$ pwd
/cm/shared/apps/spack/0.21.2/cpu/dev/etc/spack/sdsc/exp/cpu/dev
[spack_cpu@exp-15-56 dev]$ cd ~/scripts/
[spack_cpu@exp-15-56 scripts]$ squeue -u $USER
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
          39204093 ind-share openfoam spack_cp PD       0:00      1 (Dependency)
          39204092 ind-share scotch@7 spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204091 ind-share raxml-ng spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204090 ind-share raxml@8. spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204089 ind-share zoltan@3 spack_cp PD       0:00      1 (Dependency)
          39204088 ind-share parmetis spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204087 ind-share wps@4.6. spack_cp PD       0:00      1 (Dependency)
          39204086 ind-share wrf@4.6. spack_cp PD       0:00      1 (Dependency)
          39204085 ind-share netcdf-f spack_cp PD       0:00      1 (Dependency)
          39204084 ind-share netcdf-c spack_cp PD       0:00      1 (Dependency)
          39204083 ind-share netcdf-c spack_cp PD       0:00      1 (Dependency)
          39204082 ind-share ior@3.3. spack_cp PD       0:00      1 (Dependency)
          39204081 ind-share parallel spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204080 ind-share osu-micr spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204079 ind-share quantum- spack_cp PD       0:00      1 (Dependency)
          39204078 ind-share elpa@202 spack_cp PD       0:00      1 (Dependency)
          39204077 ind-share netlib-s spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204076 ind-share neuron@8 spack_cp PD       0:00      1 (Dependency)
          39204075 ind-share adios2@2 spack_cp PD       0:00      1 (Dependency)
          39204074 ind-share py-mpi4p spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204073 ind-share kahip@3. spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204072 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39204071 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39204070 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39204069 ind-share  hpl@2.3 spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204068 ind-share hdf5@1.1 spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204067 ind-share gromacs@ spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204066 ind-share fftw@3.3 spack_cp PD       0:00      1 (Dependency)
          39204065 ind-share fftw@3.3 spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204064 ind-share namd@2.1 spack_cp PD       0:00      1 (Dependency)
          39204063 ind-share charmpp@ spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204062 ind-share iq-tree@ spack_cp PD       0:00      1 (Dependency)
          39204061 ind-share boost@1. spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204060 ind-share amdscala spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39204059 ind-share amdfftw@ spack_cp PD       0:00      1 (Dependency)
          39204058 ind-share amdfftw@ spack_cp PD       0:00      1 (DependencyNeverSatisfied)
          39335798 ind-share     bash spack_cp  R       8:50      1 exp-15-56
[spack_cpu@exp-15-56 scripts]$ ./scancel-jobs.sh 
srun: Job step aborted: Waiting up to 32 seconds for job step to finish.
[spack_cpu@exp-15-56 scripts]$ slurmstepd: error: *** STEP 39335798.0 ON exp-15-56 CANCELLED AT 2025-05-13T13:50:34 ***
exit
[spack_cpu@login02 ~]$ squeue -u $USER
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
[spack_cpu@login02 ~]$
```

```
[spack_cpu@login02 ~]$ srun --partition=ind-shared --reservation=root_73  --account=use300 --nodes=1 --nodelist=exp-15-56 --ntasks-per-node=1 --cpus-per-task=16 --mem=32G --time=12:00:00 --pty --wait=0 /bin/bash
[spack_cpu@exp-15-56 ~]$ cd /cm/shared/apps/spack/0.21.2/cpu/dev/etc/spack/sdsc/exp/cpu/dev
[spack_cpu@exp-15-56 dev]$ ls
deploy.o39203939.exp-15-56  deploy.sh  specs  yamls
[spack_cpu@exp-15-56 dev]$ sbatch deploy.sh 
Submitted batch job 39336070 on cluster expanse
[spack_cpu@exp-15-56 dev]$ squeue -u $USER
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
          39336065 ind-share     bash spack_cp  R       0:40      1 exp-15-56
          39336070 ind-share   deploy spack_cp  R       0:04      1 exp-15-56
[spack_cpu@exp-15-56 dev]$
```

```
[spack_cpu@exp-15-56 dev]$ squeue -u $USER
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
          39336365 ind-share openfoam spack_cp PD       0:00      1 (Dependency)
          39336364 ind-share scotch@7 spack_cp PD       0:00      1 (Dependency)
          39336363 ind-share raxml-ng spack_cp PD       0:00      1 (Dependency)
          39336362 ind-share raxml@8. spack_cp PD       0:00      1 (Dependency)
          39336361 ind-share zoltan@3 spack_cp PD       0:00      1 (Dependency)
          39336360 ind-share parmetis spack_cp PD       0:00      1 (Dependency)
          39336359 ind-share wps@4.6. spack_cp PD       0:00      1 (Dependency)
          39336358 ind-share wrf@4.6. spack_cp PD       0:00      1 (Dependency)
          39336356 ind-share netcdf-f spack_cp PD       0:00      1 (Dependency)
          39336355 ind-share netcdf-c spack_cp PD       0:00      1 (Dependency)
          39336354 ind-share netcdf-c spack_cp PD       0:00      1 (Dependency)
          39336352 ind-share ior@3.3. spack_cp PD       0:00      1 (Dependency)
          39336351 ind-share parallel spack_cp PD       0:00      1 (Dependency)
          39336350 ind-share osu-micr spack_cp PD       0:00      1 (Dependency)
          39336349 ind-share netlib-s spack_cp PD       0:00      1 (Dependency)
          39336348 ind-share neuron@8 spack_cp PD       0:00      1 (Dependency)
          39336347 ind-share adios2@2 spack_cp PD       0:00      1 (Dependency)
          39336346 ind-share py-mpi4p spack_cp PD       0:00      1 (Dependency)
          39336345 ind-share kahip@3. spack_cp PD       0:00      1 (Dependency)
          39336344 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39336343 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39336342 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39336341 ind-share  hpl@2.3 spack_cp PD       0:00      1 (Dependency)
          39336340 ind-share quantum- spack_cp PD       0:00      1 (Dependency)
          39336338 ind-share hdf5@1.1 spack_cp PD       0:00      1 (Dependency)
          39336337 ind-share fftw@3.3 spack_cp PD       0:00      1 (Dependency)
          39336336 ind-share fftw@3.3 spack_cp PD       0:00      1 (Dependency)
          39336335 ind-share namd@2.1 spack_cp PD       0:00      1 (Dependency)
          39336334 ind-share charmpp@ spack_cp PD       0:00      1 (Dependency)
          39336333 ind-share iq-tree@ spack_cp PD       0:00      1 (Dependency)
          39336332 ind-share boost@1. spack_cp PD       0:00      1 (Dependency)
          39336331 ind-share elpa@202 spack_cp PD       0:00      1 (Dependency)
          39336330 ind-share amdscala spack_cp PD       0:00      1 (Dependency)
          39336329 ind-share amdscala spack_cp PD       0:00      1 (Dependency)
          39336328 ind-share gromacs@ spack_cp PD       0:00      1 (Dependency)
          39336327 ind-share amdfftw@ spack_cp PD       0:00      1 (Dependency)
          39336326 ind-share amdfftw@ spack_cp PD       0:00      1 (Dependency)
          39336325 ind-share openfoam spack_cp PD       0:00      1 (Dependency)
          39336324 ind-share scotch@7 spack_cp PD       0:00      1 (Dependency)
          39336323 ind-share raxml-ng spack_cp PD       0:00      1 (Dependency)
          39336322 ind-share raxml@8. spack_cp PD       0:00      1 (Dependency)
          39336320 ind-share zoltan@3 spack_cp PD       0:00      1 (Dependency)
          39336319 ind-share parmetis spack_cp PD       0:00      1 (Dependency)
          39336318 ind-share wps@4.6. spack_cp PD       0:00      1 (Dependency)
          39336317 ind-share wrf@4.6. spack_cp PD       0:00      1 (Dependency)
          39336316 ind-share netcdf-f spack_cp PD       0:00      1 (Dependency)
          39336315 ind-share netcdf-c spack_cp PD       0:00      1 (Dependency)
          39336314 ind-share netcdf-c spack_cp PD       0:00      1 (Dependency)
          39336313 ind-share ior@3.3. spack_cp PD       0:00      1 (Dependency)
          39336312 ind-share parallel spack_cp PD       0:00      1 (Dependency)
          39336311 ind-share osu-micr spack_cp PD       0:00      1 (Dependency)
          39336310 ind-share netlib-s spack_cp PD       0:00      1 (Dependency)
          39336308 ind-share neuron@8 spack_cp PD       0:00      1 (Dependency)
          39336307 ind-share adios2@2 spack_cp PD       0:00      1 (Dependency)
          39336306 ind-share py-mpi4p spack_cp PD       0:00      1 (Dependency)
          39336305 ind-share kahip@3. spack_cp PD       0:00      1 (Dependency)
          39336304 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39336303 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39336302 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39336301 ind-share  hpl@2.3 spack_cp PD       0:00      1 (Dependency)
          39336300 ind-share quantum- spack_cp PD       0:00      1 (Dependency)
          39336299 ind-share hdf5@1.1 spack_cp PD       0:00      1 (Dependency)
          39336298 ind-share fftw@3.3 spack_cp PD       0:00      1 (Dependency)
          39336297 ind-share fftw@3.3 spack_cp PD       0:00      1 (Dependency)
          39336296 ind-share namd@2.1 spack_cp PD       0:00      1 (Dependency)
          39336295 ind-share charmpp@ spack_cp PD       0:00      1 (Dependency)
          39336294 ind-share iq-tree@ spack_cp PD       0:00      1 (Dependency)
          39336293 ind-share boost@1. spack_cp PD       0:00      1 (Dependency)
          39336292 ind-share elpa@202 spack_cp PD       0:00      1 (Dependency)
          39336291 ind-share amdscala spack_cp PD       0:00      1 (Dependency)
          39336289 ind-share amdscala spack_cp PD       0:00      1 (Dependency)
          39336288 ind-share gromacs@ spack_cp PD       0:00      1 (Dependency)
          39336287 ind-share amdfftw@ spack_cp PD       0:00      1 (Dependency)
          39336286 ind-share amdfftw@ spack_cp PD       0:00      1 (Dependency)
          39336285 ind-share openmpi@ spack_cp PD       0:00      1 (Dependency)
          39336284 ind-share ucx@1.14 spack_cp PD       0:00      1 (Priority)
          39336283 ind-share stream@5 spack_cp PD       0:00      1 (Dependency)
          39336282 ind-share stream@5 spack_cp PD       0:00      1 (Priority)
          39336281 ind-share scotch@7 spack_cp PD       0:00      1 (Priority)
          39336280 ind-share py-virtu spack_cp PD       0:00      1 (Dependency)
          39336279 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336278 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336277 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336276 ind-share iq-tree@ spack_cp PD       0:00      1 (Dependency)
          39336275 ind-share cgal@5.6 spack_cp PD       0:00      1 (Dependency)
          39336274 ind-share cgal@4.1 spack_cp PD       0:00      1 (Dependency)
          39336272 ind-share arrayfir spack_cp PD       0:00      1 (Dependency)
          39336271 ind-share boost@1. spack_cp PD       0:00      1 (Dependency)
          39336270 ind-share adios2@2 spack_cp PD       0:00      1 (Dependency)
          39336269 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336268 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336267 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336266 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336265 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336264 ind-share py-setup spack_cp PD       0:00      1 (Dependency)
          39336263 ind-share py-pip@2 spack_cp PD       0:00      1 (Dependency)
          39336262 ind-share amdlibfl spack_cp PD       0:00      1 (Dependency)
          39336261 ind-share amdblis@ spack_cp PD       0:00      1 (Dependency)
          39336260 ind-share amdlibfl spack_cp PD       0:00      1 (Dependency)
          39336258 ind-share amdblis@ spack_cp PD       0:00      1 (Dependency)
          39336257 ind-share amdlibfl spack_cp PD       0:00      1 (Dependency)
          39336256 ind-share amdblis@ spack_cp PD       0:00      1 (Dependency)
          39336255 ind-share amdlibfl spack_cp PD       0:00      1 (Dependency)
          39336254 ind-share amdblis@ spack_cp PD       0:00      1 (Dependency)
          39336253 ind-share python@3 spack_cp PD       0:00      1 (Priority)
          39336252 ind-share openblas spack_cp PD       0:00      1 (Dependency)
          39336251 ind-share openblas spack_cp PD       0:00      1 (Dependency)
          39336250 ind-share openblas spack_cp PD       0:00      1 (Dependency)
          39336249 ind-share openblas spack_cp PD       0:00      1 (Priority)
          39336248 ind-share netlib-l spack_cp PD       0:00      1 (Priority)
          39336246 ind-share mvapich2 spack_cp PD       0:00      1 (Priority)
          39336245 ind-share metis@5. spack_cp PD       0:00      1 (Priority)
          39336244 ind-share netcdf-f spack_cp PD       0:00      1 (Dependency)
          39336243 ind-share netcdf-c spack_cp PD       0:00      1 (Dependency)
          39336242 ind-share netcdf-c spack_cp PD       0:00      1 (Dependency)
          39336241 ind-share hdf5@1.1 spack_cp PD       0:00      1 (Priority)
          39336240 ind-share beast2@2 spack_cp PD       0:00      1 (Dependency)
          39336239 ind-share libbeagl spack_cp PD       0:00      1 (Priority)
          39336238 ind-share libxc@6. spack_cp PD       0:00      1 (Priority)
          39336237 ind-share  gsl@2.8 spack_cp PD       0:00      1 (Priority)
          39336236 ind-share fftw@3.3 spack_cp PD       0:00      1 (Dependency)
          39336235 ind-share fftw@3.3 spack_cp PD       0:00      1 (Priority)
          39336234 ind-share namd@2.1 spack_cp PD       0:00      1 (Dependency)
          39336233 ind-share amdfftw@ spack_cp PD       0:00      1 (Dependency)
          39336232 ind-share amdfftw@ spack_cp PD       0:00      1 (Priority)
          39336228 ind-share openfoam spack_cp PD       0:00      1 (Dependency)
          39336227 ind-share scotch@7 spack_cp PD       0:00      1 (Dependency)
          39336226 ind-share raxml-ng spack_cp PD       0:00      1 (Dependency)
          39336225 ind-share raxml@8. spack_cp PD       0:00      1 (Dependency)
          39336224 ind-share zoltan@3 spack_cp PD       0:00      1 (Dependency)
          39336223 ind-share parmetis spack_cp PD       0:00      1 (Dependency)
          39336222 ind-share wps@4.6. spack_cp PD       0:00      1 (Dependency)
          39336221 ind-share wrf@4.6. spack_cp PD       0:00      1 (Dependency)
          39336220 ind-share netcdf-f spack_cp PD       0:00      1 (Dependency)
          39336219 ind-share netcdf-c spack_cp PD       0:00      1 (Dependency)
          39336218 ind-share netcdf-c spack_cp PD       0:00      1 (Dependency)
          39336217 ind-share ior@3.3. spack_cp PD       0:00      1 (Dependency)
          39336216 ind-share parallel spack_cp PD       0:00      1 (Dependency)
          39336215 ind-share osu-micr spack_cp PD       0:00      1 (Dependency)
          39336214 ind-share quantum- spack_cp PD       0:00      1 (Dependency)
          39336213 ind-share elpa@202 spack_cp PD       0:00      1 (Dependency)
          39336212 ind-share netlib-s spack_cp PD       0:00      1 (Dependency)
          39336210 ind-share neuron@8 spack_cp PD       0:00      1 (Dependency)
          39336209 ind-share adios2@2 spack_cp PD       0:00      1 (Dependency)
          39336208 ind-share py-mpi4p spack_cp PD       0:00      1 (Dependency)
          39336207 ind-share kahip@3. spack_cp PD       0:00      1 (Dependency)
          39336206 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39336205 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39336204 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39336203 ind-share  hpl@2.3 spack_cp PD       0:00      1 (Dependency)
          39336202 ind-share hdf5@1.1 spack_cp PD       0:00      1 (Dependency)
          39336201 ind-share gromacs@ spack_cp PD       0:00      1 (Dependency)
          39336200 ind-share fftw@3.3 spack_cp PD       0:00      1 (Dependency)
          39336199 ind-share fftw@3.3 spack_cp PD       0:00      1 (Dependency)
          39336198 ind-share namd@2.1 spack_cp PD       0:00      1 (Dependency)
          39336197 ind-share charmpp@ spack_cp PD       0:00      1 (Dependency)
          39336196 ind-share iq-tree@ spack_cp PD       0:00      1 (Dependency)
          39336194 ind-share boost@1. spack_cp PD       0:00      1 (Dependency)
          39336193 ind-share amdscala spack_cp PD       0:00      1 (Dependency)
          39336192 ind-share amdfftw@ spack_cp PD       0:00      1 (Dependency)
          39336191 ind-share amdfftw@ spack_cp PD       0:00      1 (Dependency)
          39336190 ind-share openfoam spack_cp PD       0:00      1 (Dependency)
          39336189 ind-share scotch@7 spack_cp PD       0:00      1 (Dependency)
          39336188 ind-share raxml-ng spack_cp PD       0:00      1 (Dependency)
          39336187 ind-share raxml@8. spack_cp PD       0:00      1 (Dependency)
          39336186 ind-share zoltan@3 spack_cp PD       0:00      1 (Dependency)
          39336185 ind-share parmetis spack_cp PD       0:00      1 (Dependency)
          39336184 ind-share wps@4.6. spack_cp PD       0:00      1 (Dependency)
          39336183 ind-share wrf@4.6. spack_cp PD       0:00      1 (Dependency)
          39336182 ind-share netcdf-f spack_cp PD       0:00      1 (Dependency)
          39336181 ind-share netcdf-c spack_cp PD       0:00      1 (Dependency)
          39336179 ind-share netcdf-c spack_cp PD       0:00      1 (Dependency)
          39336178 ind-share ior@3.3. spack_cp PD       0:00      1 (Dependency)
          39336177 ind-share parallel spack_cp PD       0:00      1 (Dependency)
          39336176 ind-share osu-micr spack_cp PD       0:00      1 (Dependency)
          39336175 ind-share quantum- spack_cp PD       0:00      1 (Dependency)
          39336174 ind-share elpa@202 spack_cp PD       0:00      1 (Dependency)
          39336173 ind-share netlib-s spack_cp PD       0:00      1 (Dependency)
          39336172 ind-share neuron@8 spack_cp PD       0:00      1 (Dependency)
          39336171 ind-share adios2@2 spack_cp PD       0:00      1 (Dependency)
          39336170 ind-share py-mpi4p spack_cp PD       0:00      1 (Dependency)
          39336169 ind-share kahip@3. spack_cp PD       0:00      1 (Dependency)
          39336168 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39336167 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39336166 ind-share hpl@2.3- spack_cp PD       0:00      1 (Dependency)
          39336165 ind-share  hpl@2.3 spack_cp PD       0:00      1 (Dependency)
          39336163 ind-share hdf5@1.1 spack_cp PD       0:00      1 (Dependency)
          39336162 ind-share gromacs@ spack_cp PD       0:00      1 (Dependency)
          39336161 ind-share fftw@3.3 spack_cp PD       0:00      1 (Dependency)
          39336160 ind-share fftw@3.3 spack_cp PD       0:00      1 (Dependency)
          39336159 ind-share namd@2.1 spack_cp PD       0:00      1 (Dependency)
          39336158 ind-share charmpp@ spack_cp PD       0:00      1 (Dependency)
          39336157 ind-share iq-tree@ spack_cp PD       0:00      1 (Dependency)
          39336156 ind-share boost@1. spack_cp PD       0:00      1 (Dependency)
          39336155 ind-share amdscala spack_cp PD       0:00      1 (Dependency)
          39336154 ind-share amdfftw@ spack_cp PD       0:00      1 (Dependency)
          39336153 ind-share amdfftw@ spack_cp PD       0:00      1 (Dependency)
          39336152 ind-share openmpi@ spack_cp PD       0:00      1 (Dependency)
          39336150 ind-share stream@5 spack_cp PD       0:00      1 (Priority)
          39336146 ind-share py-virtu spack_cp PD       0:00      1 (Dependency)
          39336145 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336144 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336143 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336142 ind-share iq-tree@ spack_cp PD       0:00      1 (Dependency)
          39336141 ind-share cgal@5.6 spack_cp PD       0:00      1 (Dependency)
          39336140 ind-share cgal@4.1 spack_cp PD       0:00      1 (Dependency)
          39336139 ind-share arrayfir spack_cp PD       0:00      1 (Dependency)
          39336138 ind-share boost@1. spack_cp PD       0:00      1 (Dependency)
          39336137 ind-share adios2@2 spack_cp PD       0:00      1 (Dependency)
          39336136 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336135 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336134 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336133 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336131 ind-share py-numpy spack_cp PD       0:00      1 (Dependency)
          39336130 ind-share py-setup spack_cp PD       0:00      1 (Dependency)
          39336129 ind-share py-pip@2 spack_cp PD       0:00      1 (Priority)
          39336128 ind-share amdlibfl spack_cp PD       0:00      1 (Dependency)
          39336127 ind-share amdblis@ spack_cp PD       0:00      1 (Priority)
          39336126 ind-share amdlibfl spack_cp PD       0:00      1 (Dependency)
          39336125 ind-share amdblis@ spack_cp PD       0:00      1 (Priority)
          39336124 ind-share amdlibfl spack_cp PD       0:00      1 (Dependency)
          39336123 ind-share amdblis@ spack_cp PD       0:00      1 (Priority)
          39336122 ind-share amdlibfl spack_cp PD       0:00      1 (Dependency)
          39336121 ind-share amdblis@ spack_cp PD       0:00      1 (Resources)
          39336151 ind-share ucx@1.14 spack_cp  R       0:15      1 exp-15-56
          39336113 ind-share mvapich2 spack_cp  R       1:00      1 exp-15-56
          39336119 ind-share openblas spack_cp  R       0:01      1 exp-15-56
          39336118 ind-share openblas spack_cp  R       0:02      1 exp-15-56
          39336110 ind-share netcdf-c spack_cp  R       0:15      1 exp-15-56
          39336111 ind-share netcdf-f spack_cp  R       0:15      1 exp-15-56
          39336065 ind-share     bash spack_cp  R       4:52      1 exp-15-56
[spack_cpu@exp-15-56 dev]$
```

```
[spack_cpu@exp-15-56 dev]$ squeue -u $USER
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
          39336222 ind-share wps@4.6. spack_cp PD       0:00      1 (Dependency)
          39336228 ind-share openfoam spack_cp  R      34:47      1 exp-15-56
          39336221 ind-share wrf@4.6. spack_cp  R      28:07      1 exp-15-56
          39336065 ind-share     bash spack_cp  R    1:35:24      1 exp-15-56
[spack_cpu@exp-15-56 dev]$
```

```
[spack_cpu@exp-15-56 dev]$ squeue -u $USER
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
          39336228 ind-share openfoam spack_cp  R      47:59      1 exp-15-56
          39336065 ind-share     bash spack_cp  R    1:48:36      1 exp-15-56
[spack_cpu@exp-15-56 dev]$
```

```
[spack_cpu@exp-15-56 dev]$ ls -lahtr
total 145K
drwxr-sr-x 3 spack_cpu spack   1 May  7 19:25 ..
drwxr-sr-x 2 spack_cpu spack   3 May  7 19:25 yamls
-rw-r--r-- 1 spack_cpu spack 53K May  8 07:59 deploy.o39203939.exp-15-56
-rw-r--r-- 1 spack_cpu spack 36K May  8 09:23 deploy.sh
drwxr-sr-x 4 spack_cpu spack   5 May 13 13:52 .
-rw-r--r-- 1 spack_cpu spack 56K May 13 13:52 deploy.o39336070.exp-15-56
drwxr-sr-x 4 spack_cpu spack  68 May 13 13:54 specs
[spack_cpu@exp-15-56 dev]$ less deploy.o39336070.exp-15-56
[spack_cpu@exp-15-56 dev]$ cat deploy.o39336070.exp-15-56
1747169536 20250513T135216-0700 39336070 78b81726b21c88d28e048f709c4174ff 095bff7c92652c028e24bd8b0b7a7d886cf6ff603a037960ddb057a8e2e21a87 346 /cm/shared/apps/spack/0.21.2/cpu/dev/etc/spack/sdsc/exp/cpu/dev/deploy.sh
#!/usr/bin/env bash

#SBATCH --job-name=deploy
#SBATCH --account=use300
#SBATCH --reservation=root_73
#SBATCH --clusters=expanse
#SBATCH --partition=ind-shared
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=1
#SBATCH --mem=1G
#SBATCH --time=00:30:00
#SBATCH --output=%x.o%j.%N

declare -xir UNIX_TIME="$(date +'%s')"
declare -xr LOCAL_TIME="$(date +'%Y%m%dT%H%M%S%z')"

declare -xr JOB_SCRIPT="$(scontrol show job ${SLURM_JOB_ID} | awk -F= '/Command=/{print $2}')"
declare -xr JOB_SCRIPT_MD5="$(md5sum ${JOB_SCRIPT} | awk '{print $1}')"
declare -xr JOB_SCRIPT_SHA256="$(sha256sum ${JOB_SCRIPT} | awk '{print $1}')"
declare -xr JOB_SCRIPT_NUMBER_OF_LINES="$(wc -l ${JOB_SCRIPT} | awk '{print $1}')"

declare -xr SCHEDULER_NAME='slurm'
declare -xr SCHEDULER_MAJOR='23'
declare -xr SCHEDULER_MINOR='02'
declare -xr SCHEDULER_REVISION='7'
declare -xr SCHEDULER_VERSION="${SCHEDULER_MAJOR}.${SCHEDULER_MINOR}.${SCHEDULER_REVISION}"
declare -xr SCHEDULER_MODULE="${SCHEDULER_NAME}/${SLURM_CLUSTER_NAME}/${SCHEDULER_VERSION}"

declare -xr SPACK_MAJOR='0'
declare -xr SPACK_MINOR='21'
declare -xr SPACK_REVISION='2'
declare -xr SPACK_VERSION="${SPACK_MAJOR}.${SPACK_MINOR}.${SPACK_REVISION}"
declare -xr SPACK_INSTANCE_NAME='cpu'
declare -xr SPACK_INSTANCE_VERSION='dev'
declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"

echo "${UNIX_TIME} ${LOCAL_TIME} ${SLURM_JOB_ID} ${JOB_SCRIPT_MD5} ${JOB_SCRIPT_SHA256} ${JOB_SCRIPT_NUMBER_OF_LINES} ${JOB_SCRIPT}"
cat  "${JOB_SCRIPT}"

module purge
module load "${SCHEDULER_MODULE}"
module list
. "${SPACK_INSTANCE_DIR}/share/spack/setup-env.sh"
printenv

spack config get compilers  
spack config get config  
spack config get mirrors
spack config get modules
spack config get packages
spack config get repos
spack config get upstreams

cp -p yamls/compilers.yaml "${SPACK_INSTANCE_DIR}/etc/spack/compilers.yaml"
cp -p yamls/modules.yaml "${SPACK_INSTANCE_DIR}/etc/spack/modules.yaml"
cp -p yamls/packages.yaml "${SPACK_INSTANCE_DIR}/etc/spack/packages.yaml"

cd "${SLURM_SUBMIT_DIR}/specs"
BZIP2_JOB_ID="$(sbatch 'bzip2@1.0.8.sh' | grep -o '[[:digit:]]*')"
  CURL_JOB_ID="$(sbatch --dependency="afterok:${BZIP2_JOB_ID}" 'curl@8.4.0.sh' | grep -o '[[:digit:]]*')"
    AOCC_JOB_ID="$(sbatch --dependency="afterok:${CURL_JOB_ID}" 'aocc@4.2.0.sh' | grep -o '[[:digit:]]*')"
    CMAKE_JOB_ID="$(sbatch --dependency="afterok:${CURL_JOB_ID}" 'cmake@3.27.7.sh' | grep -o '[[:digit:]]*')"
    GCC_JOB_ID="$(sbatch --dependency="afterok:${CURL_JOB_ID}" 'gcc@13.3.0.sh' | grep -o '[[:digit:]]*')"
      SQLITE_JOB_ID="$(sbatch --dependency="afterok:${CMAKE_JOB_ID}:${GCC_JOB_ID}" 'sqlite@3.43.2.sh' | grep -o '[[:digit:]]*')"
        ARIA2_JOB_ID="$(sbatch --dependency="afterok:${SQLITE_JOB_ID}" 'aria2@1.37.0.sh' | grep -o '[[:digit:]]*')"
        GDB_JOB_ID="$(sbatch --dependency="afterok:${SQLITE_JOB_ID}" 'gdb@14.2.sh' | grep -o '[[:digit:]]*')"
          MERCURIAL_JOB_ID="$(sbatch --dependency="afterok:${GDB_JOB_ID}" 'mercurial@6.8.1.sh' | grep -o '[[:digit:]]*')"
    PERL_JOB_ID="$(sbatch --dependency="afterok:${CURL_JOB_ID}" 'perl@5.38.2.sh' | grep -o '[[:digit:]]*')"
      ENTREZDIRECT_JOB_ID="$(sbatch --dependency="afterok:${PERL_JOB_ID}" 'entrezdirect@22.6.20240924.sh' | grep -o '[[:digit:]]*')"
      GIT_JOB_ID="$(sbatch --dependency="afterok:${PERL_JOB_ID}" 'git@2.45.2.sh' | grep -o '[[:digit:]]*')"
        GO_JOB_ID="$(sbatch --dependency="afterok:${GIT_JOB_ID}" 'go@1.23.1.sh' | grep -o '[[:digit:]]*')"
          GITLFS_JOB_ID="$(sbatch --dependency="afterok:${GO_JOB_ID}" 'git-lfs@3.5.1.sh' | grep -o '[[:digit:]]*')"
          GH_JOB_ID="$(sbatch --dependency="afterok:${GO_JOB_ID}" 'gh@2.57.0.sh' | grep -o '[[:digit:]]*')"
          RCLONE_JOB_ID="$(sbatch --dependency="afterok:${GO_JOB_ID}" 'rclone@1.68.1.sh' | grep -o '[[:digit:]]*')"
      PARALLEL_JOB_ID="$(sbatch --dependency="afterok:${PERL_JOB_ID}" 'parallel@20240922.sh' | grep -o '[[:digit:]]*')"
      SUBVERSION_JOB_ID="$(sbatch --dependency="afterok:${GDB_JOB_ID}:${PERL_JOB_ID}:${SQLITE_JOB_ID}" 'subversion@1.14.3.sh' | grep -o '[[:digit:]]*')"
    PIGZ_JOB_ID="$(sbatch --dependency="afterok:${CURL_JOB_ID}" 'pigz@2.8.sh' | grep -o '[[:digit:]]*')"
      TAR_JOB_ID="$(sbatch --dependency="afterok:${PIGZ_JOB_ID}" 'tar@1.34.sh' | grep -o '[[:digit:]]*')"
  OPENJDK_JOB_ID="$(sbatch --dependency="afterok:${BZIP2_JOB_ID}" 'openjdk@11.0.24_8.sh' | grep -o '[[:digit:]]*')"
  SRATOOLKIT_JOB_ID="$(sbatch --dependency="afterok:${BZIP2_JOB_ID}" 'sratoolkit@3.1.1.sh' | grep -o '[[:digit:]]*')"

cd "${SLURM_SUBMIT_DIR}/specs/gcc@13.3.0"
CHARMPP_JOB_ID="$(sbatch --dependency="afterok:${GCC_JOB_ID}" 'charmpp@6.10.2.sh' | grep -o '[[:digit:]]*')"
EIGEN_JOB_ID="$(sbatch --dependency="afterok:${GCC_JOB_ID}" 'eigen@3.4.0.sh' | grep -o '[[:digit:]]*')"
  AMDFFTW_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'amdfftw@4.2.sh' | grep -o '[[:digit:]]*')"
    AMDFFTW_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDFFTW_JOB_ID}" 'amdfftw@4.2-omp.sh' | grep -o '[[:digit:]]*')"
  FFTW_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'fftw@3.3.10.sh' | grep -o '[[:digit:]]*')"
    FFTW_OMP_JOB_ID="$(sbatch --dependency="afterok:${FFTW_JOB_ID}" 'fftw@3.3.10-omp.sh' | grep -o '[[:digit:]]*')"
    NAMD2_JOB_ID="$(sbatch --dependency="afterok:${CHARMPP_JOB_ID}:${FFTW_JOB_ID}" 'namd@2.14.sh' | grep -o '[[:digit:]]*')"
  GSL_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'gsl@2.8.sh' | grep -o '[[:digit:]]*')"
  LIBXC_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'libxc@6.2.2.sh' | grep -o '[[:digit:]]*')"
  LIBBEAGLE_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'libbeagle@3.1.2.sh' | grep -o '[[:digit:]]*')"
    BEAST2_JOB_ID="$(sbatch --dependency="afterok:${LIBBEAGLE_JOB_ID}" 'beast2@2.7.7.sh' | grep -o '[[:digit:]]*')"
  HDF5_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'hdf5@1.14.3.sh' | grep -o '[[:digit:]]*')"
    NETCDF_C_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}" 'netcdf-c@4.9.2.sh' | grep -o '[[:digit:]]*')"
      NETCDF_CXX4_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_C_JOB_ID}" 'netcdf-cxx4@4.3.1.sh' | grep -o '[[:digit:]]*')"
      NETCDF_FORTRAN_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_C_JOB_ID}" 'netcdf-fortran@4.6.1.sh' | grep -o '[[:digit:]]*')"
  METIS_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'metis@5.1.0.sh' | grep -o '[[:digit:]]*')"
  MVAPICH2_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'mvapich2@2.3.7-2.sh' | grep -o '[[:digit:]]*')"
  NETLIB_LAPACK_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'netlib-lapack@3.12.0.sh' | grep -o '[[:digit:]]*')"
  OPENBLAS_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'openblas@0.3.28.sh' | grep -o '[[:digit:]]*')"
    OPENBLAS_I64_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_JOB_ID}" 'openblas@0.3.28-i64.sh' | grep -o '[[:digit:]]*')"
    OPENBLAS_OMP_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_JOB_ID}" 'openblas@0.3.28-omp.sh' | grep -o '[[:digit:]]*')"
    OPENBLAS_I64_OMP_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_JOB_ID}" 'openblas@0.3.28-i64-omp.sh' | grep -o '[[:digit:]]*')"
  PYTHON_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'python@3.11.9.sh' | grep -o '[[:digit:]]*')"
    AMDBLIS_JOB_ID="$(sbatch --dependency="afterok:${PYTHON_JOB_ID}" 'amdblis@4.2.sh' | grep -o '[[:digit:]]*')"
      AMDLIBFLAME_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_JOB_ID}" 'amdlibflame@4.2.sh' | grep -o '[[:digit:]]*')"
    AMDBLIS_I64_JOB_ID="$(sbatch --dependency="afterok:${PYTHON_JOB_ID}" 'amdblis@4.2-i64.sh' | grep -o '[[:digit:]]*')"
      AMDLIBFLAME_I64_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_I64_JOB_ID}" 'amdlibflame@4.2-i64.sh' | grep -o '[[:digit:]]*')"
    AMDBLIS_OMP_JOB_ID="$(sbatch --dependency="afterok:${PYTHON_JOB_ID}" 'amdblis@4.2-omp.sh' | grep -o '[[:digit:]]*')"
      AMDLIBFLAME_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_OMP_JOB_ID}" 'amdlibflame@4.2-omp.sh' | grep -o '[[:digit:]]*')"
    AMDBLIS_I64_OMP_JOB_ID="$(sbatch --dependency="afterok:${PYTHON_JOB_ID}" 'amdblis@4.2-i64-omp.sh' | grep -o '[[:digit:]]*')"
      AMDLIBFLAME_I64_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_I64_OMP_JOB_ID}" 'amdlibflame@4.2-i64-omp.sh' | grep -o '[[:digit:]]*')"
    PIP_JOB_ID="$(sbatch --dependency="afterok:${PYTHON_JOB_ID}" 'py-pip@24.2.sh' | grep -o '[[:digit:]]*')"
      SETUPTOOLS_JOB_ID="$(sbatch --dependency="afterok:${PIP_JOB_ID}" 'py-setuptools@75.1.0.sh' | grep -o '[[:digit:]]*')"
        NUMPY1_JOB_ID="$(sbatch --dependency="afterok:${SETUPTOOLS_JOB_ID}:${OPENBLAS_JOB_ID}" 'py-numpy@1.26.4.sh' | grep -o '[[:digit:]]*')"
          NUMPY1_I64_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_I64_JOB_ID}:${NUMPY1_JOB_ID}" 'py-numpy@1.26.4-i64.sh' | grep -o '[[:digit:]]*')"
          NUMPY1_OMP_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_OMP_JOB_ID}:${NUMPY1_JOB_ID}" 'py-numpy@1.26.4-omp.sh' | grep -o '[[:digit:]]*')"
          NUMPY1_I64_OMP_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_I64_OMP_JOB_ID}:${NUMPY1_JOB_ID}" 'py-numpy@1.26.4-i64-omp.sh' | grep -o '[[:digit:]]*')"
          NUMPY2_JOB_ID="$(sbatch --dependency="afterok:${NUMPY1_JOB_ID}" 'py-numpy@2.1.2.sh' | grep -o '[[:digit:]]*')"
            ADIOS2_JOB_ID="$(sbatch --dependency="afterok:${NUMPY2_JOB_ID}" 'adios2@2.10.1.sh' | grep -o '[[:digit:]]*')"
            BOOST_JOB_ID="$(sbatch --dependency="afterok:${NUMPY2_JOB_ID}" 'boost@1.86.0.sh' | grep -o '[[:digit:]]*')"
              ARRAYFIRE_JOB_ID="$(sbatch --dependency="afterok:${BOOST_JOB_ID}:${FFTW_JOB_ID}:${OPENBLAS_JOB_ID}" 'arrayfire@3.9.0.sh' | grep -o '[[:digit:]]*')"
              CGAL4_JOB_ID="$(sbatch --dependency="afterok:${BOOST_JOB_ID}" 'cgal@4.13.sh' | grep -o '[[:digit:]]*')"
              CGAL5_JOB_ID="$(sbatch --dependency="afterok:${BOOST_JOB_ID}" 'cgal@5.6.1.sh' | grep -o '[[:digit:]]*')"
              IQTREE_JOB_ID="$(sbatch --dependency="afterok:${BOOST_JOB_ID}" 'iq-tree@2.3.6.sh' | grep -o '[[:digit:]]*')"
            NUMPY2_I64_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_I64_JOB_ID}:${NUMPY2_JOB_ID}" 'py-numpy@2.1.2-i64.sh' | grep -o '[[:digit:]]*')"
            NUMPY2_OMP_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_OMP_JOB_ID}:${NUMPY2_JOB_ID}" 'py-numpy@2.1.2-omp.sh' | grep -o '[[:digit:]]*')"
            NUMPY2_I64_OMP_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_I64_OMP_JOB_ID}:${NUMPY2_JOB_ID}" 'py-numpy@2.1.2-i64-omp.sh' | grep -o '[[:digit:]]*')"
        VENV_JOB_ID="$(sbatch --dependency="afterok:${SETUPTOOLS_JOB_ID}" 'py-virtualenv@20.26.5.sh' | grep -o '[[:digit:]]*')"
  SCOTCH_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'scotch@7.0.5.sh' | grep -o '[[:digit:]]*')"
  STREAM_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'stream@5.10.sh' | grep -o '[[:digit:]]*')"
    STREAM_OMP_JOB_ID="$(sbatch --dependency="afterok:${STREAM_JOB_ID}" 'stream@5.10-omp.sh' | grep -o '[[:digit:]]*')"
  UCX_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'ucx@1.14.1.sh' | grep -o '[[:digit:]]*')"
    OPENMPI_JOB_ID="$(sbatch --dependency="afterok:${UCX_JOB_ID}" 'openmpi@4.1.8.sh' | grep -o '[[:digit:]]*')"

cd "${SLURM_SUBMIT_DIR}/specs/gcc@13.3.0/mvapich2@2.3.7-2"
AMDFFTW_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'amdfftw@4.2.sh' | grep -o '[[:digit:]]*')"
  AMDFFTW_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDFFTW_JOB_ID}" 'amdfftw@4.2-omp.sh' | grep -o '[[:digit:]]*')"
AMDSCALAPACK_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_JOB_ID}:${AMDLIBFLAME_JOB_ID}:${MVAPICH2_JOB_ID}" 'amdscalapack@4.2.sh' | grep -o '[[:digit:]]*')"
BOOST_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}:${NUMPY1_JOB_ID}" 'boost@1.86.0.sh' | grep -o '[[:digit:]]*')"
  IQTREE_JOB_ID="$(sbatch --dependency="afterok:${BOOST_JOB_ID}" 'iq-tree@2.3.6.sh' | grep -o '[[:digit:]]*')"
CHARMPP_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'charmpp@6.10.2.sh' | grep -o '[[:digit:]]*')"
  NAMD2_JOB_ID="$(sbatch --dependency="afterok:${CHARMPP_JOB_ID}:${FFTW_JOB_ID}" 'namd@2.14.sh' | grep -o '[[:digit:]]*')"
FFTW_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'fftw@3.3.10.sh' | grep -o '[[:digit:]]*')"
  FFTW_OMP_JOB_ID="$(sbatch --dependency="afterok:${FFTW_JOB_ID}" 'fftw@3.3.10-omp.sh' | grep -o '[[:digit:]]*')"
GROMACS_JOB_ID="$(sbatch --dependency="afterok:${FFTW_JOB_ID}:${MVAPICH2_JOB_ID}:${OPENBLAS_JOB_ID}" 'gromacs@2024.3.sh' | grep -o '[[:digit:]]*')"
HDF5_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'hdf5@1.14.3.sh' | grep -o '[[:digit:]]*')"
HPL_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}:${OPENBLAS_JOB_ID}" 'hpl@2.3.sh' | grep -o '[[:digit:]]*')"
  HPL_I64_JOB_ID="$(sbatch --dependency="afterok:${HPL_JOB_ID}:${OPENBLAS_I64_JOB_ID}" 'hpl@2.3-i64.sh' | grep -o '[[:digit:]]*')"
  HPL_OMP_JOB_ID="$(sbatch --dependency="afterok:${HPL_JOB_ID}:${OPENBLAS_OMP_JOB_ID}" 'hpl@2.3-omp.sh' | grep -o '[[:digit:]]*')"
  HPL_I64_OMP_JOB_ID="$(sbatch --dependency="afterok:${HPL_JOB_ID}:${OPENBLAS_I64_OMP_JOB_ID}" 'hpl@2.3-i64-omp.sh' | grep -o '[[:digit:]]*')"
KAHIP_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'kahip@3.16.sh' | grep -o '[[:digit:]]*')"
MPI4PY_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}:${PYTHON_JOB_ID}" 'py-mpi4py@4.0.0.sh' | grep -o '[[:digit:]]*')"
  ADIOS2_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}:${MPI4PY_JOB_ID}:${NUMPY1_JOB_ID}" 'adios2@2.10.1.sh' | grep -o '[[:digit:]]*')"
  NEURON_JOB_ID="$(sbatch --dependency="afterok:${MPI4PY_JOB_ID}:${NUMPY2_JOB_ID}" 'neuron@8.2.3.sh' | grep -o '[[:digit:]]*')"
NETLIB_SCALAPACK_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}:${OPENBLAS_JOB_ID}" 'netlib-scalapack@2.2.0.sh' | grep -o '[[:digit:]]*')"
  ELPA_JOB_ID="$(sbatch --dependency="afterok:${NETLIB_SCALAPACK_JOB_ID}:${PYTHON_JOB_ID}" 'elpa@2024.03.001.sh' | grep -o '[[:digit:]]*')"
    QUANTUM_ESPRESSO_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}:${ELPA_JOB_ID}" 'quantum-espresso@7.3.1.sh' | grep -o '[[:digit:]]*')"
OMB_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'osu-micro-benchmarks@7.4.sh' | grep -o '[[:digit:]]*')"
PARALLEL_NETCDF_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'parallel-netcdf@1.13.0.sh' | grep -o '[[:digit:]]*')"
  IOR_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}:${PARALLEL_NETCDF_JOB_ID}" 'ior@3.3.0.sh' | grep -o '[[:digit:]]*')"
  NETCDF_C_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}:${PARALLEL_NETCDF_JOB_ID}" 'netcdf-c@4.9.2.sh' | grep -o '[[:digit:]]*')"
    NETCDF_CXX4_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_C_JOB_ID}" 'netcdf-cxx4@4.3.1.sh' | grep -o '[[:digit:]]*')"
    NETCDF_FORTRAN_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_C_JOB_ID}" 'netcdf-fortran@4.6.1.sh' | grep -o '[[:digit:]]*')"
      WRF_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_FORTRAN_JOB_ID}" 'wrf@4.6.0.sh' | grep -o '[[:digit:]]*')"
        WPS_JOB_ID="$(sbatch --dependency="afterok:${WRF_JOB_ID}" 'wps@4.6.0.sh' | grep -o '[[:digit:]]*')"
PARMETIS_JOB_ID="$(sbatch --dependency="afterok:${METIS_JOB_ID}:${MVAPICH2_JOB_ID}" 'parmetis@4.0.3.sh' | grep -o '[[:digit:]]*')"
  ZOLTAN_JOB_ID="$(sbatch --dependency="afterok:${PARMETIS_JOB_ID}" 'zoltan@3.901.sh' | grep -o '[[:digit:]]*')"
RAXML_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'raxml@8.2.13.sh' | grep -o '[[:digit:]]*')"
RAXML_NG_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'raxml-ng@1.2.2.sh' | grep -o '[[:digit:]]*')"
SCOTCH_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'scotch@7.0.5.sh' | grep -o '[[:digit:]]*')"
  OPENFOAM_JOB_ID="$(sbatch --dependency="afterok:${ADIOS2_JOB_ID}:${CGAL5_JOB_ID}:${SCOTCH_JOB_ID}:${ZOLTAN_JOB_ID}" 'openfoam@2406.sh' | grep -o '[[:digit:]]*')"

cd "${SLURM_SUBMIT_DIR}/specs/gcc@13.3.0/openmpi@4.1.8"
AMDFFTW_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'amdfftw@4.2.sh' | grep -o '[[:digit:]]*')"
  AMDFFTW_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDFFTW_JOB_ID}" 'amdfftw@4.2-omp.sh' | grep -o '[[:digit:]]*')"
AMDSCALAPACK_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_JOB_ID}:${AMDLIBFLAME_JOB_ID}:${OPENMPI_JOB_ID}" 'amdscalapack@4.2.sh' | grep -o '[[:digit:]]*')"
BOOST_JOB_ID="$(sbatch --dependency="afterok:${NUMPY1_JOB_ID}:${OPENMPI_JOB_ID}" 'boost@1.86.0.sh' | grep -o '[[:digit:]]*')"
  IQTREE_JOB_ID="$(sbatch --dependency="afterok:${BOOST_JOB_ID}" 'iq-tree@2.3.6.sh' | grep -o '[[:digit:]]*')"
CHARMPP_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'charmpp@6.10.2.sh' | grep -o '[[:digit:]]*')"
  NAMD2_JOB_ID="$(sbatch --dependency="afterok:${CHARMPP_JOB_ID}:${FFTW_JOB_ID}" 'namd@2.14.sh' | grep -o '[[:digit:]]*')"
FFTW_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'fftw@3.3.10.sh' | grep -o '[[:digit:]]*')"
  FFTW_OMP_JOB_ID="$(sbatch --dependency="afterok:${FFTW_JOB_ID}" 'fftw@3.3.10-omp.sh' | grep -o '[[:digit:]]*')"
GROMACS_JOB_ID="$(sbatch --dependency="afterok:${FFTW_JOB_ID}:${OPENBLAS_JOB_ID}:${OPENMPI_JOB_ID}" 'gromacs@2024.3.sh' | grep -o '[[:digit:]]*')"
HDF5_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'hdf5@1.14.3.sh' | grep -o '[[:digit:]]*')"
HPL_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_JOB_ID}:${OPENMPI_JOB_ID}" 'hpl@2.3.sh' | grep -o '[[:digit:]]*')"
  HPL_I64_JOB_ID="$(sbatch --dependency="afterok:${HPL_JOB_ID}:${OPENBLAS_I64_JOB_ID}" 'hpl@2.3-i64.sh' | grep -o '[[:digit:]]*')"
  HPL_OMP_JOB_ID="$(sbatch --dependency="afterok:${HPL_JOB_ID}:${OPENBLAS_OMP_JOB_ID}" 'hpl@2.3-omp.sh' | grep -o '[[:digit:]]*')"
  HPL_I64_OMP_JOB_ID="$(sbatch --dependency="afterok:${HPL_JOB_ID}:${OPENBLAS_I64_OMP_JOB_ID}" 'hpl@2.3-i64-omp.sh' | grep -o '[[:digit:]]*')"
KAHIP_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'kahip@3.16.sh' | grep -o '[[:digit:]]*')"
MPI4PY_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}:${PYTHON_JOB_ID}" 'py-mpi4py@4.0.0.sh' | grep -o '[[:digit:]]*')"
  ADIOS2_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}:${MPI4PY_JOB_ID}:${NUMPY1_JOB_ID}" 'adios2@2.10.1.sh' | grep -o '[[:digit:]]*')"
  NEURON_JOB_ID="$(sbatch --dependency="afterok:${MPI4PY_JOB_ID}:${NUMPY2_JOB_ID}" 'neuron@8.2.3.sh' | grep -o '[[:digit:]]*')"
NETLIB_SCALAPACK_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_JOB_ID}:${OPENMPI_JOB_ID}" 'netlib-scalapack@2.2.0.sh' | grep -o '[[:digit:]]*')"
  ELPA_JOB_ID="$(sbatch --dependency="afterok:${NETLIB_SCALAPACK_JOB_ID}:${PYTHON_JOB_ID}" 'elpa@2024.03.001.sh' | grep -o '[[:digit:]]*')"
    QUANTUM_ESPRESSO_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}:${ELPA_JOB_ID}" 'quantum-espresso@7.3.1.sh' | grep -o '[[:digit:]]*')"
OMB_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'osu-micro-benchmarks@7.4.sh' | grep -o '[[:digit:]]*')"
PARALLEL_NETCDF_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'parallel-netcdf@1.13.0.sh' | grep -o '[[:digit:]]*')"
  IOR_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}:${PARALLEL_NETCDF_JOB_ID}" 'ior@3.3.0.sh' | grep -o '[[:digit:]]*')"
  NETCDF_C_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}:${PARALLEL_NETCDF_JOB_ID}" 'netcdf-c@4.9.2.sh' | grep -o '[[:digit:]]*')"
    NETCDF_CXX4_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_C_JOB_ID}" 'netcdf-cxx4@4.3.1.sh' | grep -o '[[:digit:]]*')"
    NETCDF_FORTRAN_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_C_JOB_ID}" 'netcdf-fortran@4.6.1.sh' | grep -o '[[:digit:]]*')"
     WRF_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_FORTRAN_JOB_ID}" 'wrf@4.6.0.sh' | grep -o '[[:digit:]]*')"
        WPS_JOB_ID="$(sbatch --dependency="afterok:${WRF_JOB_ID}" 'wps@4.6.0.sh' | grep -o '[[:digit:]]*')"
PARMETIS_JOB_ID="$(sbatch --dependency="afterok:${METIS_JOB_ID}:${OPENMPI_JOB_ID}" 'parmetis@4.0.3.sh' | grep -o '[[:digit:]]*')"
  ZOLTAN_JOB_ID="$(sbatch --dependency="afterok:${PARMETIS_JOB_ID}" 'zoltan@3.901.sh' | grep -o '[[:digit:]]*')"
RAXML_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'raxml@8.2.13.sh' | grep -o '[[:digit:]]*')"
RAXML_NG_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'raxml-ng@1.2.2.sh' | grep -o '[[:digit:]]*')"
SCOTCH_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'scotch@7.0.5.sh' | grep -o '[[:digit:]]*')"
  OPENFOAM_JOB_ID="$(sbatch --dependency="afterok:${ADIOS2_JOB_ID}:${CGAL5_JOB_ID}:${SCOTCH_JOB_ID}:${ZOLTAN_JOB_ID}" 'openfoam@2406.sh' | grep -o '[[:digit:]]*')"

cd "${SLURM_SUBMIT_DIR}/specs/aocc@4.2.0"
CHARMPP_JOB_ID="$(sbatch --dependency="afterok:${AOCC_JOB_ID}" 'charmpp@6.10.2.sh' | grep -o '[[:digit:]]*')"
EIGEN_JOB_ID="$(sbatch --dependency="afterok:${AOCC_JOB_ID}" 'eigen@3.4.0.sh' | grep -o '[[:digit:]]*')"
  AMDFFTW_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'amdfftw@4.2.sh' | grep -o '[[:digit:]]*')"
    AMDFFTW_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDFFTW_JOB_ID}" 'amdfftw@4.2-omp.sh' | grep -o '[[:digit:]]*')"
    NAMD2_JOB_ID="$(sbatch --dependency="afterok:${CHARMPP_JOB_ID}:${AMDFFTW_JOB_ID}" 'namd@2.14.sh' | grep -o '[[:digit:]]*')"
  FFTW_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'fftw@3.3.10.sh' | grep -o '[[:digit:]]*')"
    FFTW_OMP_JOB_ID="$(sbatch --dependency="afterok:${FFTW_JOB_ID}" 'fftw@3.3.10-omp.sh' | grep -o '[[:digit:]]*')"
  GSL_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'gsl@2.8.sh' | grep -o '[[:digit:]]*')"
  LIBXC_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'libxc@6.2.2.sh' | grep -o '[[:digit:]]*')"
  LIBBEAGLE_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'libbeagle@3.1.2.sh' | grep -o '[[:digit:]]*')"
    BEAST2_JOB_ID="$(sbatch --dependency="afterok:${LIBBEAGLE_JOB_ID}" 'beast2@2.7.7.sh' | grep -o '[[:digit:]]*')"
  HDF5_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'hdf5@1.14.3.sh' | grep -o '[[:digit:]]*')"
    NETCDF_C_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}" 'netcdf-c@4.9.2.sh' | grep -o '[[:digit:]]*')"
      NETCDF_CXX4_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_C_JOB_ID}" 'netcdf-cxx4@4.3.1.sh' | grep -o '[[:digit:]]*')"
      NETCDF_FORTRAN_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_C_JOB_ID}" 'netcdf-fortran@4.6.1.sh' | grep -o '[[:digit:]]*')"
  METIS_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'metis@5.1.0.sh' | grep -o '[[:digit:]]*')"
  MVAPICH2_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'mvapich2@2.3.7-2.sh' | grep -o '[[:digit:]]*')"
  NETLIB_LAPACK_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'netlib-lapack@3.12.0.sh' | grep -o '[[:digit:]]*')"
  OPENBLAS_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'openblas@0.3.28.sh' | grep -o '[[:digit:]]*')"
    #MAGMA_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_JOB_ID}" 'magma@2.6.1.sh' | grep -o '[[:digit:]]*')"
    OPENBLAS_I64_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_JOB_ID}" 'openblas@0.3.28-i64.sh' | grep -o '[[:digit:]]*')"
    OPENBLAS_OMP_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_JOB_ID}" 'openblas@0.3.28-omp.sh' | grep -o '[[:digit:]]*')"
    OPENBLAS_I64_OMP_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_JOB_ID}" 'openblas@0.3.28-i64-omp.sh' | grep -o '[[:digit:]]*')"
  PYTHON_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'python@3.11.9.sh' | grep -o '[[:digit:]]*')"
    AMDBLIS_JOB_ID="$(sbatch --dependency="afterok:${PYTHON_JOB_ID}" 'amdblis@4.2.sh' | grep -o '[[:digit:]]*')"
      AMDLIBFLAME_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_JOB_ID}" 'amdlibflame@4.2.sh' | grep -o '[[:digit:]]*')"
    AMDBLIS_I64_JOB_ID="$(sbatch --dependency="afterok:${PYTHON_JOB_ID}" 'amdblis@4.2-i64.sh' | grep -o '[[:digit:]]*')"
      AMDLIBFLAME_I64_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_I64_JOB_ID}" 'amdlibflame@4.2-i64.sh' | grep -o '[[:digit:]]*')"
    AMDBLIS_OMP_JOB_ID="$(sbatch --dependency="afterok:${PYTHON_JOB_ID}" 'amdblis@4.2-omp.sh' | grep -o '[[:digit:]]*')"
      AMDLIBFLAME_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_OMP_JOB_ID}" 'amdlibflame@4.2-omp.sh' | grep -o '[[:digit:]]*')"
    AMDBLIS_I64_OMP_JOB_ID="$(sbatch --dependency="afterok:${PYTHON_JOB_ID}" 'amdblis@4.2-i64-omp.sh' | grep -o '[[:digit:]]*')"
      AMDLIBFLAME_I64_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_I64_OMP_JOB_ID}" 'amdlibflame@4.2-i64-omp.sh' | grep -o '[[:digit:]]*')"
    PIP_JOB_ID="$(sbatch --dependency="afterok:${PYTHON_JOB_ID}" 'py-pip@24.2.sh' | grep -o '[[:digit:]]*')"
      SETUPTOOLS_JOB_ID="$(sbatch --dependency="afterok:${PIP_JOB_ID}" 'py-setuptools@75.1.0.sh' | grep -o '[[:digit:]]*')"
        NUMPY1_JOB_ID="$(sbatch --dependency="afterok:${AMDLIBFLAME_JOB_ID}:${SETUPTOOLS_JOB_ID}" 'py-numpy@1.26.4.sh' | grep -o '[[:digit:]]*')"
          NUMPY1_I64_JOB_ID="$(sbatch --dependency="afterok:${AMDLIBFLAME_I64_JOB_ID}:${NUMPY1_JOB_ID}" 'py-numpy@1.26.4-i64.sh' | grep -o '[[:digit:]]*')"
          NUMPY1_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDLIBFLAME_OMP_JOB_ID}:${NUMPY1_JOB_ID}" 'py-numpy@1.26.4-omp.sh' | grep -o '[[:digit:]]*')"
          NUMPY1_I64_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDLIBFLAME_I64_OMP_JOB_ID}:${NUMPY1_JOB_ID}" 'py-numpy@1.26.4-i64-omp.sh' | grep -o '[[:digit:]]*')"
          NUMPY2_JOB_ID="$(sbatch --dependency="afterok:${NUMPY1_JOB_ID}" 'py-numpy@2.1.2.sh' | grep -o '[[:digit:]]*')"
            ADIOS2_JOB_ID="$(sbatch --dependency="afterok:${NUMPY2_JOB_ID}" 'adios2@2.10.1.sh' | grep -o '[[:digit:]]*')"
            BOOST_JOB_ID="$(sbatch --dependency="afterok:${NUMPY2_JOB_ID}" 'boost@1.86.0.sh' | grep -o '[[:digit:]]*')"
              ARRAYFIRE_JOB_ID="$(sbatch --dependency="afterok:${BOOST_JOB_ID}:${FFTW_JOB_ID}:${OPENBLAS_JOB_ID}" 'arrayfire@3.9.0.sh' | grep -o '[[:digit:]]*')"
              CGAL4_JOB_ID="$(sbatch --dependency="afterok:${BOOST_JOB_ID}" 'cgal@4.13.sh' | grep -o '[[:digit:]]*')"
              CGAL5_JOB_ID="$(sbatch --dependency="afterok:${BOOST_JOB_ID}" 'cgal@5.6.1.sh' | grep -o '[[:digit:]]*')"
              IQTREE_JOB_ID="$(sbatch --dependency="afterok:${BOOST_JOB_ID}" 'iq-tree@2.3.6.sh' | grep -o '[[:digit:]]*')"
            NUMPY2_I64_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_I64_JOB_ID}:${NUMPY2_JOB_ID}" 'py-numpy@2.1.2-i64.sh' | grep -o '[[:digit:]]*')"
            NUMPY2_OMP_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_OMP_JOB_ID}:${NUMPY2_JOB_ID}" 'py-numpy@2.1.2-omp.sh' | grep -o '[[:digit:]]*')"
            NUMPY2_I64_OMP_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_I64_OMP_JOB_ID}:${NUMPY2_JOB_ID}" 'py-numpy@2.1.2-i64-omp.sh' | grep -o '[[:digit:]]*')"
        VENV_JOB_ID="$(sbatch --dependency="afterok:${SETUPTOOLS_JOB_ID}" 'py-virtualenv@20.26.5.sh' | grep -o '[[:digit:]]*')"
  SCOTCH_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'scotch@7.0.5.sh' | grep -o '[[:digit:]]*')"
  STREAM_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'stream@5.10.sh' | grep -o '[[:digit:]]*')"
    STREAM_OMP_JOB_ID="$(sbatch --dependency="afterok:${STREAM_JOB_ID}" 'stream@5.10-omp.sh' | grep -o '[[:digit:]]*')"
  UCX_JOB_ID="$(sbatch --dependency="afterok:${EIGEN_JOB_ID}" 'ucx@1.14.1.sh' | grep -o '[[:digit:]]*')"
    OPENMPI_JOB_ID="$(sbatch --dependency="afterok:${UCX_JOB_ID}" 'openmpi@4.1.8.sh' | grep -o '[[:digit:]]*')"

cd "${SLURM_SUBMIT_DIR}/specs/aocc@4.2.0/mvapich2@2.3.7-2"
AMDFFTW_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'amdfftw@4.2.sh' | grep -o '[[:digit:]]*')"
  AMDFFTW_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDFFTW_JOB_ID}" 'amdfftw@4.2-omp.sh' | grep -o '[[:digit:]]*')"
  GROMACS_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_JOB_ID}:${AMDLIBFLAME_JOB_ID}:${AMDFFTW_JOB_ID}:${MVAPICH2_JOB_ID}" 'gromacs@2024.3.sh' | grep -o '[[:digit:]]*')"
AMDSCALAPACK_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_JOB_ID}:${AMDLIBFLAME_JOB_ID}:${MVAPICH2_JOB_ID}" 'amdscalapack@4.2.sh' | grep -o '[[:digit:]]*')"
  AMDSCALAPACK_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDSCALAPACK_JOB_ID}" 'amdscalapack@4.2-omp.sh' | grep -o '[[:digit:]]*')"
    ELPA_JOB_ID="$(sbatch --dependency="afterok:${AMDSCALAPACK_OMP_JOB_ID}" 'elpa@2024.03.001.sh' | grep -o '[[:digit:]]*')"
BOOST_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}:${NUMPY1_JOB_ID}" 'boost@1.86.0.sh' | grep -o '[[:digit:]]*')"
  IQTREE_JOB_ID="$(sbatch --dependency="afterok:${BOOST_JOB_ID}" 'iq-tree@2.3.6.sh' | grep -o '[[:digit:]]*')"
CHARMPP_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'charmpp@6.10.2.sh' | grep -o '[[:digit:]]*')"
  NAMD2_JOB_ID="$(sbatch --dependency="afterok:${AMDFFTW_JOB_ID}:${CHARMPP_JOB_ID}" 'namd@2.14.sh' | grep -o '[[:digit:]]*')"
FFTW_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'fftw@3.3.10.sh' | grep -o '[[:digit:]]*')"
  FFTW_OMP_JOB_ID="$(sbatch --dependency="afterok:${FFTW_JOB_ID}" 'fftw@3.3.10-omp.sh' | grep -o '[[:digit:]]*')"
HDF5_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'hdf5@1.14.3.sh' | grep -o '[[:digit:]]*')"
  QUANTUM_ESPRESSO_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}" 'quantum-espresso@7.3.1.sh' | grep -o '[[:digit:]]*')"
HPL_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_I64_JOB_ID}:${MVAPICH2_JOB_ID}" 'hpl@2.3.sh' | grep -o '[[:digit:]]*')"
  HPL_I64_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_I64_JOB_ID}:${HPL_JOB_ID}" 'hpl@2.3-i64.sh' | grep -o '[[:digit:]]*')"
  HPL_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_OMP_JOB_ID}:${HPL_JOB_ID}" 'hpl@2.3-omp.sh' | grep -o '[[:digit:]]*')"
  HPL_I64_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_I64_OMP_JOB_ID}:${HPL_JOB_ID}" 'hpl@2.3-i64-omp.sh' | grep -o '[[:digit:]]*')"
KAHIP_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'kahip@3.16.sh' | grep -o '[[:digit:]]*')"
MPI4PY_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}:${PYTHON_JOB_ID}" 'py-mpi4py@4.0.0.sh' | grep -o '[[:digit:]]*')"
  ADIOS2_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}:${MPI4PY_JOB_ID}:${NUMPY1_JOB_ID}" 'adios2@2.10.1.sh' | grep -o '[[:digit:]]*')"
  NEURON_JOB_ID="$(sbatch --dependency="afterok:${MPI4PY_JOB_ID}:${NUMPY2_JOB_ID}" 'neuron@8.2.3.sh' | grep -o '[[:digit:]]*')"
NETLIB_SCALAPACK_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}:${OPENBLAS_JOB_ID}" 'netlib-scalapack@2.2.0.sh' | grep -o '[[:digit:]]*')"
OMB_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'osu-micro-benchmarks@7.4.sh' | grep -o '[[:digit:]]*')"
PARALLEL_NETCDF_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'parallel-netcdf@1.13.0.sh' | grep -o '[[:digit:]]*')"
  IOR_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}:${PARALLEL_NETCDF_JOB_ID}" 'ior@3.3.0.sh' | grep -o '[[:digit:]]*')"
  NETCDF_C_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}:${PARALLEL_NETCDF_JOB_ID}" 'netcdf-c@4.9.2.sh' | grep -o '[[:digit:]]*')"
    NETCDF_CXX4_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_C_JOB_ID}" 'netcdf-cxx4@4.3.1.sh' | grep -o '[[:digit:]]*')"
    NETCDF_FORTRAN_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_C_JOB_ID}" 'netcdf-fortran@4.6.1.sh' | grep -o '[[:digit:]]*')"
      WRF_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_FORTRAN_JOB_ID}" 'wrf@4.6.0.sh' | grep -o '[[:digit:]]*')"
        WPS_JOB_ID="$(sbatch --dependency="afterok:${WRF_JOB_ID}" 'wps@4.6.0.sh' | grep -o '[[:digit:]]*')"
PARMETIS_JOB_ID="$(sbatch --dependency="afterok:${METIS_JOB_ID}:${MVAPICH2_JOB_ID}" 'parmetis@4.0.3.sh' | grep -o '[[:digit:]]*')"
  ZOLTAN_JOB_ID="$(sbatch --dependency="afterok:${PARMETIS_JOB_ID}" 'zoltan@3.901.sh' | grep -o '[[:digit:]]*')"
RAXML_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'raxml@8.2.13.sh' | grep -o '[[:digit:]]*')"
RAXML_NG_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'raxml-ng@1.2.2.sh' | grep -o '[[:digit:]]*')"
SCOTCH_JOB_ID="$(sbatch --dependency="afterok:${MVAPICH2_JOB_ID}" 'scotch@7.0.5.sh' | grep -o '[[:digit:]]*')"
  OPENFOAM_JOB_ID="$(sbatch --dependency="afterok:${ADIOS2_JOB_ID}:${CGAL5_JOB_ID}:${SCOTCH_JOB_ID}:${ZOLTAN_JOB_ID}" 'openfoam@2406.sh' | grep -o '[[:digit:]]*')"

cd "${SLURM_SUBMIT_DIR}/specs/aocc@4.2.0/openmpi@4.1.8"
AMDFFTW_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'amdfftw@4.2.sh' | grep -o '[[:digit:]]*')"
  AMDFFTW_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDFFTW_JOB_ID}" 'amdfftw@4.2-omp.sh' | grep -o '[[:digit:]]*')"
  GROMACS_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_JOB_ID}:${AMDLIBFLAME_JOB_ID}:${AMDFFTW_JOB_ID}:${OPENBLAS_JOB_ID}" 'gromacs@2024.3.sh' | grep -o '[[:digit:]]*')"
AMDSCALAPACK_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_JOB_ID}:${AMDLIBFLAME_JOB_ID}:${OPENMPI_JOB_ID}" 'amdscalapack@4.2.sh' | grep -o '[[:digit:]]*')"
  AMDSCALAPACK_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDSCALAPACK_JOB_ID}" 'amdscalapack@4.2-omp.sh' | grep -o '[[:digit:]]*')"
    ELPA_JOB_ID="$(sbatch --dependency="afterok:${AMDSCALAPACK_OMP_JOB_ID}" 'elpa@2024.03.001.sh' | grep -o '[[:digit:]]*')"
BOOST_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}:${NUMPY1_JOB_ID}" 'boost@1.86.0.sh' | grep -o '[[:digit:]]*')"
  IQTREE_JOB_ID="$(sbatch --dependency="afterok:${BOOST_JOB_ID}" 'iq-tree@2.3.6.sh' | grep -o '[[:digit:]]*')"
CHARMPP_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'charmpp@6.10.2.sh' | grep -o '[[:digit:]]*')"
  NAMD2_JOB_ID="$(sbatch --dependency="afterok:${AMDFFTW_JOB_ID}:${CHARMPP_JOB_ID}" 'namd@2.14.sh' | grep -o '[[:digit:]]*')"
FFTW_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'fftw@3.3.10.sh' | grep -o '[[:digit:]]*')"
  FFTW_OMP_JOB_ID="$(sbatch --dependency="afterok:${FFTW_JOB_ID}" 'fftw@3.3.10-omp.sh' | grep -o '[[:digit:]]*')"
HDF5_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'hdf5@1.14.3.sh' | grep -o '[[:digit:]]*')"
  QUANTUM_ESPRESSO_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}" 'quantum-espresso@7.3.1.sh' | grep -o '[[:digit:]]*')"
HPL_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_I64_JOB_ID}:${OPENMPI_JOB_ID}" 'hpl@2.3.sh' | grep -o '[[:digit:]]*')"
  HPL_I64_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_I64_JOB_ID}:${HPL_JOB_ID}" 'hpl@2.3-i64.sh' | grep -o '[[:digit:]]*')"
  HPL_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_OMP_JOB_ID}:${HPL_JOB_ID}" 'hpl@2.3-omp.sh' | grep -o '[[:digit:]]*')"
  HPL_I64_OMP_JOB_ID="$(sbatch --dependency="afterok:${AMDBLIS_I64_OMP_JOB_ID}:${HPL_JOB_ID}" 'hpl@2.3-i64-omp.sh' | grep -o '[[:digit:]]*')"
KAHIP_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'kahip@3.16.sh' | grep -o '[[:digit:]]*')"
MPI4PY_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}:${PYTHON_JOB_ID}" 'py-mpi4py@4.0.0.sh' | grep -o '[[:digit:]]*')"
  ADIOS2_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}:${MPI4PY_JOB_ID}:${NUMPY1_JOB_ID}" 'adios2@2.10.1.sh' | grep -o '[[:digit:]]*')"
  NEURON_JOB_ID="$(sbatch --dependency="afterok:${MPI4PY_JOB_ID}:${NUMPY2_JOB_ID}" 'neuron@8.2.3.sh' | grep -o '[[:digit:]]*')"
NETLIB_SCALAPACK_JOB_ID="$(sbatch --dependency="afterok:${OPENBLAS_JOB_ID}:${OPENMPI_JOB_ID}" 'netlib-scalapack@2.2.0.sh' | grep -o '[[:digit:]]*')"
OMB_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'osu-micro-benchmarks@7.4.sh' | grep -o '[[:digit:]]*')"
PARALLEL_NETCDF_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'parallel-netcdf@1.13.0.sh' | grep -o '[[:digit:]]*')"
  IOR_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}:${PARALLEL_NETCDF_JOB_ID}" 'ior@3.3.0.sh' | grep -o '[[:digit:]]*')"
  NETCDF_C_JOB_ID="$(sbatch --dependency="afterok:${HDF5_JOB_ID}:${PARALLEL_NETCDF_JOB_ID}" 'netcdf-c@4.9.2.sh' | grep -o '[[:digit:]]*')"
    NETCDF_CXX4_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_C_JOB_ID}" 'netcdf-cxx4@4.3.1.sh' | grep -o '[[:digit:]]*')"
    NETCDF_FORTRAN_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_C_JOB_ID}" 'netcdf-fortran@4.6.1.sh' | grep -o '[[:digit:]]*')"
      WRF_JOB_ID="$(sbatch --dependency="afterok:${NETCDF_FORTRAN_JOB_ID}" 'wrf@4.6.0.sh' | grep -o '[[:digit:]]*')"
        WPS_JOB_ID="$(sbatch --dependency="afterok:${WRF_JOB_ID}" 'wps@4.6.0.sh' | grep -o '[[:digit:]]*')"
PARMETIS_JOB_ID="$(sbatch --dependency="afterok:${METIS_JOB_ID}:${OPENMPI_JOB_ID}" 'parmetis@4.0.3.sh' | grep -o '[[:digit:]]*')"
  ZOLTAN_JOB_ID="$(sbatch --dependency="afterok:${PARMETIS_JOB_ID}" 'zoltan@3.901.sh' | grep -o '[[:digit:]]*')"
RAXML_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'raxml@8.2.13.sh' | grep -o '[[:digit:]]*')"
RAXML_NG_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'raxml-ng@1.2.2.sh' | grep -o '[[:digit:]]*')"
SCOTCH_JOB_ID="$(sbatch --dependency="afterok:${OPENMPI_JOB_ID}" 'scotch@7.0.5.sh' | grep -o '[[:digit:]]*')"
  OPENFOAM_JOB_ID="$(sbatch --dependency="afterok:${ADIOS2_JOB_ID}:${CGAL5_JOB_ID}:${SCOTCH_JOB_ID}:${ZOLTAN_JOB_ID}" 'openfoam@2406.sh' | grep -o '[[:digit:]]*')"

Currently Loaded Modules:
  1) slurm/expanse/23.02.7

 

SLURM_JOB_GROUP=spack
LD_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:/cm/shared/apps/slurm/current/lib64
LS_COLORS=rs=0:di=38;5;33:ln=38;5;51:mh=00:pi=40;38;5;11:so=38;5;13:do=38;5;5:bd=48;5;232;38;5;11:cd=48;5;232;38;5;3:or=48;5;232;38;5;9:mi=01;05;37;41:su=48;5;196;38;5;15:sg=48;5;11;38;5;16:ca=48;5;196;38;5;226:tw=48;5;10;38;5;16:ow=48;5;10;38;5;21:st=48;5;21;38;5;15:ex=38;5;40:*.tar=38;5;9:*.tgz=38;5;9:*.arc=38;5;9:*.arj=38;5;9:*.taz=38;5;9:*.lha=38;5;9:*.lz4=38;5;9:*.lzh=38;5;9:*.lzma=38;5;9:*.tlz=38;5;9:*.txz=38;5;9:*.tzo=38;5;9:*.t7z=38;5;9:*.zip=38;5;9:*.z=38;5;9:*.dz=38;5;9:*.gz=38;5;9:*.lrz=38;5;9:*.lz=38;5;9:*.lzo=38;5;9:*.xz=38;5;9:*.zst=38;5;9:*.tzst=38;5;9:*.bz2=38;5;9:*.bz=38;5;9:*.tbz=38;5;9:*.tbz2=38;5;9:*.tz=38;5;9:*.deb=38;5;9:*.rpm=38;5;9:*.jar=38;5;9:*.war=38;5;9:*.ear=38;5;9:*.sar=38;5;9:*.rar=38;5;9:*.alz=38;5;9:*.ace=38;5;9:*.zoo=38;5;9:*.cpio=38;5;9:*.7z=38;5;9:*.rz=38;5;9:*.cab=38;5;9:*.wim=38;5;9:*.swm=38;5;9:*.dwm=38;5;9:*.esd=38;5;9:*.jpg=38;5;13:*.jpeg=38;5;13:*.mjpg=38;5;13:*.mjpeg=38;5;13:*.gif=38;5;13:*.bmp=38;5;13:*.pbm=38;5;13:*.pgm=38;5;13:*.ppm=38;5;13:*.tga=38;5;13:*.xbm=38;5;13:*.xpm=38;5;13:*.tif=38;5;13:*.tiff=38;5;13:*.png=38;5;13:*.svg=38;5;13:*.svgz=38;5;13:*.mng=38;5;13:*.pcx=38;5;13:*.mov=38;5;13:*.mpg=38;5;13:*.mpeg=38;5;13:*.m2v=38;5;13:*.mkv=38;5;13:*.webm=38;5;13:*.ogm=38;5;13:*.mp4=38;5;13:*.m4v=38;5;13:*.mp4v=38;5;13:*.vob=38;5;13:*.qt=38;5;13:*.nuv=38;5;13:*.wmv=38;5;13:*.asf=38;5;13:*.rm=38;5;13:*.rmvb=38;5;13:*.flc=38;5;13:*.avi=38;5;13:*.fli=38;5;13:*.flv=38;5;13:*.gl=38;5;13:*.dl=38;5;13:*.xcf=38;5;13:*.xwd=38;5;13:*.yuv=38;5;13:*.cgm=38;5;13:*.emf=38;5;13:*.ogv=38;5;13:*.ogx=38;5;13:*.aac=38;5;45:*.au=38;5;45:*.flac=38;5;45:*.m4a=38;5;45:*.mid=38;5;45:*.midi=38;5;45:*.mka=38;5;45:*.mp3=38;5;45:*.mpc=38;5;45:*.ogg=38;5;45:*.ra=38;5;45:*.wav=38;5;45:*.oga=38;5;45:*.opus=38;5;45:*.spx=38;5;45:*.xspf=38;5;45:
SRUN_DEBUG=3
SLURM_STEP_ID=0
SLURM_NODEID=0
SLURM_TASK_PID=655361
__LMOD_REF_COUNT_PATH=/cm/shared/apps/slurm/current/sbin:1;/cm/shared/apps/slurm/current/bin:1;/home/spack_cpu/.local/bin:2;/home/spack_cpu/bin:2;/usr/local/bin:1;/usr/bin:1;/usr/local/sbin:1;/usr/sbin:1
_ModuleTable002_=L2V0Yy9tb2R1bGVmaWxlcyIsIi91c3Ivc2hhcmUvbW9kdWxlZmlsZXMiLCIvdXNyL3NoYXJlL01vZHVsZXMvbW9kdWxlZmlsZXMiLCIvY20vc2hhcmVkL21vZHVsZWZpbGVzIix9LFsic3lzdGVtQmFzZU1QQVRIIl09Ii9jbS9sb2NhbC9tb2R1bGVmaWxlczovY20vc2hhcmVkL2FwcHMvYWNjZXNzL21vZHVsZWZpbGVzOi9jbS9zaGFyZWQvbW9kdWxlZmlsZXM6L2V0Yy9tb2R1bGVmaWxlczovdXNyL3NoYXJlL21vZHVsZWZpbGVzOi91c3Ivc2hhcmUvTW9kdWxlcy9tb2R1bGVmaWxlcyIsfQ==
SSH_CONNECTION=198.202.100.14 34434 198.202.100.14 22
SPACK_PYTHON=/usr/bin/python3
SPACK_MAJOR=0
SLURM_PRIO_PROCESS=0
SLURM_CPU_BIND_VERBOSE=quiet
LANG=en_US.UTF-8
SLURM_SUBMIT_DIR=/cm/shared/apps/spack/0.21.2/cpu/dev/etc/spack/sdsc/exp/cpu/dev
HISTCONTROL=ignoredups
SCHEDULER_NAME=slurm
HOSTNAME=exp-15-56
LMOD_SYSTEM_DEFAULT_MODULES=DefaultModules
OLDPWD=/home/spack_cpu
__LMOD_REF_COUNT__LMFILES_=/cm/shared/modulefiles/slurm/expanse/23.02.7:1
SLURM_CPUS_PER_TASK=1
SLURM_STEPID=0
SLURM_SRUN_COMM_HOST=10.21.0.20
SCHEDULER_MINOR=02
SLURM_DISTRIBUTION=cyclic
ENVIRONMENT=BATCH
SPACK_VERSION=0.21.2
SPACK_MINOR=21
SLURM_PROCID=0
SPACK_INSTANCE_VERSION=dev
SLURM_JOB_GID=11491
SCHEDULER_REVISION=7
SPACK_INSTANCE_DIR=/cm/shared/apps/spack/0.21.2/cpu/dev
__LMOD_REF_COUNT_LD_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:1;/cm/shared/apps/slurm/current/lib64:1
SLURM_CPU_BIND=quiet,mask_cpu:0x0000000000000000000000000000FFFF
SCHEDULER_VERSION=23.02.7
SLURMD_NODENAME=exp-15-56
SLURM_JOB_END_TIME=1747171336
JOB_SCRIPT_MD5=78b81726b21c88d28e048f709c4174ff
SLURM_TASKS_PER_NODE=1
S_COLORS=auto
which_declare=declare -f
SLURM_JOB_RESERVATION=root_73
XDG_SESSION_ID=452614
USER=spack_cpu
SLURM_NNODES=1
SLURM_LAUNCH_NODE_IPADDR=10.21.0.20
SLURM_PMIX_TMPDIR=/scratch/spack_cpu/job_39336070
SLURM_TMPDIR=/scratch/spack_cpu/job_39336070
SLURM_STEP_TASKS_PER_NODE=1
JOB_SCRIPT_NUMBER_OF_LINES=346
SLURM_JOB_START_TIME=1747169536
SLURM_NTASKS_PER_NODE=1
__LMOD_REF_COUNT_MODULEPATH=/cm/local/modulefiles:1;/cm/shared/apps/access/modulefiles:1;/etc/modulefiles:1;/usr/share/modulefiles:1;/usr/share/Modules/modulefiles:1;/cm/shared/modulefiles:1
__LMOD_REF_COUNT_LOADEDMODULES=slurm/expanse/23.02.7:1
SCHEDULER_MAJOR=23
PWD=/cm/shared/apps/spack/0.21.2/cpu/dev/etc/spack/sdsc/exp/cpu/dev
ENABLE_LMOD=1
SLURM_JOB_NODELIST=exp-15-56
HOME=/home/spack_cpu
SLURM_CLUSTER_NAME=expanse
LMOD_COLORIZE=yes
LOCAL_TIME=20250513T135216-0700
LMOD_SYSHOST=expanse
SLURM_NODELIST=exp-15-56
SSH_CLIENT=198.202.100.14 34434 22
LMOD_VERSION=8.2.4
CPATH=/cm/shared/apps/slurm/current/include
SLURM_NTASKS=1
LMOD_SETTARG_CMD=:
SLURM_JOB_CPUS_PER_NODE=1
BASH_ENV=/usr/share/lmod/lmod/init/bash
SLURM_TOPOLOGY_ADDR=exp-15-56
SLURMD_DEBUG=2
SLURM_WORKING_CLUSTER=expanse:mgr1:6817:9984:109
JOB_SCRIPT_SHA256=095bff7c92652c028e24bd8b0b7a7d886cf6ff603a037960ddb057a8e2e21a87
__LMOD_REF_COUNT_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:1;/cm/shared/apps/slurm/current/lib64:1
SLURM_STEP_NODELIST=exp-15-56
SLURM_JOB_NAME=deploy
SLURM_SRUN_COMM_PORT=36395
TMPDIR=/scratch/spack_cpu/job_39336070
LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:/cm/shared/apps/slurm/current/lib64
LMOD_sys=Linux
SLURM_JOBID=39336070
_ModuleTable001_=X01vZHVsZVRhYmxlXz17WyJNVHZlcnNpb24iXT0zLFsiY19yZWJ1aWxkVGltZSJdPWZhbHNlLFsiY19zaG9ydFRpbWUiXT1mYWxzZSxkZXB0aFQ9e30sZmFtaWx5PXt9LG1UPXtbInNsdXJtL2V4cGFuc2UiXT17WyJmbiJdPSIvY20vc2hhcmVkL21vZHVsZWZpbGVzL3NsdXJtL2V4cGFuc2UvMjMuMDIuNyIsWyJmdWxsTmFtZSJdPSJzbHVybS9leHBhbnNlLzIzLjAyLjciLFsibG9hZE9yZGVyIl09MSxwcm9wVD17fSxbInN0YWNrRGVwdGgiXT0wLFsic3RhdHVzIl09ImFjdGl2ZSIsWyJ1c2VyTmFtZSJdPSJzbHVybS9leHBhbnNlLzIzLjAyLjciLH0sfSxtcGF0aEE9eyIvY20vbG9jYWwvbW9kdWxlZmlsZXMiLCIvY20vc2hhcmVkL2FwcHMvYWNjZXNzL21vZHVsZWZpbGVzIiwi
SLURM_CONF=/cm/shared/apps/slurm/var/etc/expanse/slurm.conf
LOADEDMODULES=slurm/expanse/23.02.7
__LMOD_REF_COUNT_MANPATH=/cm/shared/apps/slurm/current/man:3;/usr/share/lmod/lmod/share/man:1;/usr/local/share/man:2;/usr/share/man:2;/cm/local/apps/environment-modules/current/share/man:2
_ModuleTable003_=TmFtZSJdPSJzaGFyZWQiLH0sc2x1cm09e1siZm4iXT0iL2NtL2xvY2FsL21vZHVsZWZpbGVzL3NsdXJtL2V4cGFuc2UvMjMuMDIuNyIsWyJmdWxsTmFtZSJdPSJzbHVybS9leHBhbnNlLzIzLjAyLjciLFsibG9hZE9yZGVyIl09Myxwcm9wVD17fSxbInN0YWNrRGVwdGgiXT0yLFsic3RhdHVzIl09ImFjdGl2ZSIsWyJ1c2VyTmFtZSJdPSJzbHVybSIsfSx9LG1wYXRoQT17Ii9jbS9zaGFyZWQvYXBwcy9zcGFjay8wLjE3LjMvY3B1L2Ivc2hhcmUvc3BhY2svbG1vZC9saW51eC1yb2NreTgteDg2XzY0L0NvcmUiLCIvY20vbG9jYWwvbW9kdWxlZmlsZXMiLCIvY20vc2hhcmVkL2FwcHMvYWNjZXNzL21vZHVsZWZpbGVzIiwiL2V0Yy9tb2R1bGVmaWxlcyIsIi91c3Ivc2hhcmUvbW9k
SLURM_NODE_ALIASES=(null)
LMOD_ROOT=/usr/share/lmod
SLURM_JOB_QOS=ind-shared-normal
SLURM_TOPOLOGY_ADDR_PATTERN=node
SSH_TTY=/dev/pts/564
MAIL=/var/spool/mail/spack_cpu
SLURM_CPUS_ON_NODE=1
LMOD_arch=x86_64
SLURM_JOB_NUM_NODES=1
__Init_Default_Modules=1
CMD_WLM_CLUSTER_NAME=expanse
SLURM_MEM_PER_NODE=1024
SPACK_ROOT=/cm/shared/apps/spack/0.21.2/cpu/dev
TERM=xterm-256color
SHELL=/bin/bash
_ModuleTable_Sz_=2
SLURM_JOB_UID=527834
__LMOD_REF_COUNT_CPATH=/cm/shared/apps/slurm/current/include:1
SLURM_JOB_PARTITION=ind-shared
SLURM_SCRIPT_CONTEXT=prolog_task
SLURM_PTY_WIN_ROW=66
SLURM_CPU_BIND_LIST=0x0000000000000000000000000000FFFF
SPACK_INSTANCE_NAME=cpu
SLURM_JOB_USER=spack_cpu
JOB_SCRIPT=/cm/shared/apps/spack/0.21.2/cpu/dev/etc/spack/sdsc/exp/cpu/dev/deploy.sh
SLURM_PTY_WIN_COL=178
SLURM_NPROCS=1
SHLVL=3
SLURM_SUBMIT_HOST=exp-15-56
UNIX_TIME=1747169536
SLURM_JOB_ACCOUNT=use300
MANPATH=/cm/shared/apps/slurm/current/man:/usr/share/lmod/lmod/share/man:/usr/local/share/man:/usr/share/man:/cm/local/apps/environment-modules/current/share/man
LMOD_PREPEND_BLOCK=normal
SLURM_STEP_LAUNCHER_PORT=36395
MODULEPATH=/cm/local/modulefiles:/cm/shared/apps/access/modulefiles:/etc/modulefiles:/usr/share/modulefiles:/usr/share/Modules/modulefiles:/cm/shared/modulefiles
SLURM_PTY_PORT=33111
SLURM_GTIDS=0
LOGNAME=spack_cpu
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/527834/bus
XDG_RUNTIME_DIR=/run/user/527834
MODULEPATH_ROOT=/usr/share/modulefiles
LMOD_PACKAGE_PATH=/usr/share/lmod/etc/site/lmod
PATH=/cm/shared/apps/spack/0.21.2/cpu/dev/bin:/cm/shared/apps/slurm/current/sbin:/cm/shared/apps/slurm/current/bin:/home/spack_cpu/.local/bin:/home/spack_cpu/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin
SLURM_JOB_ID=39336070
_LMFILES_=/cm/shared/modulefiles/slurm/expanse/23.02.7
SLURM_CPU_BIND_TYPE=mask_cpu:
SPACK_REVISION=2
DEBUGINFOD_URLS=https://debuginfod.centos.org/ 
SLURM_STEP_NUM_TASKS=1
SCHEDULER_MODULE=slurm/expanse/23.02.7
MODULESHOME=/usr/share/lmod/lmod
LMOD_SETTARG_FULL_SUPPORT=no
HISTSIZE=-1
LMOD_PKG=/usr/share/lmod/lmod
SLURM_STEP_NUM_NODES=1
LMOD_CMD=/usr/share/lmod/lmod/libexec/lmod
SLURM_LOCALID=0
LESSOPEN=||/usr/bin/lesspipe.sh %s
LMOD_FULL_SETTARG_SUPPORT=no
LMOD_DIR=/usr/share/lmod/lmod/libexec
BASH_FUNC_which%%=() {  ( alias;
 eval ${which_declare} ) | /usr/bin/which --tty-only --read-alias --read-functions --show-tilde --show-dot $@
}
BASH_FUNC_module%%=() {  eval $($LMOD_CMD bash "$@") && eval $(${LMOD_SETTARG_CMD:-:} -s sh)
}
BASH_FUNC_spack%%=() {  : this is a shell function from: /cm/shared/apps/spack/0.21.2/cpu/dev/share/spack/setup-env.sh;
 : the real spack script is here: /cm/shared/apps/spack/0.21.2/cpu/dev/bin/spack;
 _spack_shell_wrapper "$@";
 return $?
}
BASH_FUNC__spack_shell_wrapper%%=() {  for var in DYLD_LIBRARY_PATH DYLD_FALLBACK_LIBRARY_PATH;
 do
 eval "if [ -n \"\${${var}-}\" ]; then export SPACK_$var=\${${var}}; fi";
 done;
 if [ -n "${ZSH_VERSION:-}" ]; then
 emulate -L sh;
 fi;
 _sp_flags="";
 while [ ! -z ${1+x} ] && [ "${1#-}" != "${1}" ]; do
 _sp_flags="$_sp_flags $1";
 shift;
 done;
 if [ -n "$_sp_flags" ] && [ "${_sp_flags#*h}" != "${_sp_flags}" ] || [ "${_sp_flags#*V}" != "${_sp_flags}" ]; then
 command spack $_sp_flags "$@";
 return;
 fi;
 _sp_subcommand="";
 if [ ! -z ${1+x} ]; then
 _sp_subcommand="$1";
 shift;
 fi;
 case $_sp_subcommand in 
 "cd")
 _sp_arg="";
 if [ -n "$1" ]; then
 _sp_arg="$1";
 shift;
 fi;
 if [ "$_sp_arg" = "-h" ] || [ "$_sp_arg" = "--help" ]; then
 command spack cd -h;
 else
 LOC="$(SPACK_COLOR="${SPACK_COLOR:-always}" spack location $_sp_arg "$@")";
 if [ -d "$LOC" ]; then
 cd "$LOC";
 else
 return 1;
 fi;
 fi;
 return
 ;;
 "env")
 _sp_arg="";
 if [ -n "$1" ]; then
 _sp_arg="$1";
 shift;
 fi;
 if [ "$_sp_arg" = "-h" ] || [ "$_sp_arg" = "--help" ]; then
 command spack env -h;
 else
 case $_sp_arg in 
 activate)
 _a=" $@";
 if [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ] || [ "${_a#* -h}" != "$_a" ] || [ "${_a#* --help}" != "$_a" ]; then
 command spack env activate "$@";
 else
 stdout="$(SPACK_COLOR="${SPACK_COLOR:-always}" command spack $_sp_flags env activate --sh "$@")" || return;
 eval "$stdout";
 fi
 ;;
 deactivate)
 _a=" $@";
 if [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ]; then
 command spack env deactivate "$@";
 else
 if [ -n "$*" ]; then
 command spack env deactivate -h;
 else
 stdout="$(SPACK_COLOR="${SPACK_COLOR:-always}" command spack $_sp_flags env deactivate --sh)" || return;
 eval "$stdout";
 fi;
 fi
 ;;
 *)
 command spack env $_sp_arg "$@"
 ;;
 esac;
 fi;
 return
 ;;
 "load" | "unload")
 _a=" $@";
 if [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ] || [ "${_a#* -h}" != "$_a" ] || [ "${_a#* --list}" != "$_a" ] || [ "${_a#* --help}" != "$_a" ]; then
 command spack $_sp_flags $_sp_subcommand "$@";
 else
 stdout="$(SPACK_COLOR="${SPACK_COLOR:-always}" command spack $_sp_flags $_sp_subcommand --sh "$@")" || return;
 eval "$stdout";
 fi
 ;;
 *)
 command spack $_sp_flags $_sp_subcommand "$@"
 ;;
 esac
}
BASH_FUNC_ml%%=() {  eval $($LMOD_DIR/ml_cmd "$@")
}
_=/usr/bin/printenv
compilers:
- compiler:
    spec: gcc@8.5.0
    paths:
      cc: /usr/bin/gcc
      cxx: /usr/bin/g++
      f77: /usr/bin/gfortran
      fc: /usr/bin/gfortran
    flags:
      cflags: -O2 -march=native
      cxxflags: -O2 -march=native
      fflags: -O2 -march=native
    operating_system: rocky8
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
- compiler:
    spec: gcc@13.3.0
    paths:
      cc: /cm/shared/apps/spack/0.21.2/cpu/dev/opt/spack/linux-rocky8-zen/gcc-8.5.0/gcc-13.3.0-t46rsdvjjujldykahnkgwwxg4mx3gjj4/bin/gcc
      cxx: /cm/shared/apps/spack/0.21.2/cpu/dev/opt/spack/linux-rocky8-zen/gcc-8.5.0/gcc-13.3.0-t46rsdvjjujldykahnkgwwxg4mx3gjj4/bin/g++
      f77: /cm/shared/apps/spack/0.21.2/cpu/dev/opt/spack/linux-rocky8-zen/gcc-8.5.0/gcc-13.3.0-t46rsdvjjujldykahnkgwwxg4mx3gjj4/bin/gfortran
      fc: /cm/shared/apps/spack/0.21.2/cpu/dev/opt/spack/linux-rocky8-zen/gcc-8.5.0/gcc-13.3.0-t46rsdvjjujldykahnkgwwxg4mx3gjj4/bin/gfortran
    flags:
      cflags: -O2 -march=native
      cxxflags: -O2 -march=native
      fflags: -O2 -march=native
    operating_system: rocky8
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
- compiler:
    spec: aocc@4.2.0
    paths:
      cc: /cm/shared/apps/spack/0.21.2/cpu/dev/opt/spack/linux-rocky8-zen/gcc-8.5.0/aocc-4.2.0-unqsjyxhwisok55jl3zbkfnpdvqhahcn/bin/clang
      cxx: /cm/shared/apps/spack/0.21.2/cpu/dev/opt/spack/linux-rocky8-zen/gcc-8.5.0/aocc-4.2.0-unqsjyxhwisok55jl3zbkfnpdvqhahcn/bin/clang++
      f77: /cm/shared/apps/spack/0.21.2/cpu/dev/opt/spack/linux-rocky8-zen/gcc-8.5.0/aocc-4.2.0-unqsjyxhwisok55jl3zbkfnpdvqhahcn/bin/flang
      fc: /cm/shared/apps/spack/0.21.2/cpu/dev/opt/spack/linux-rocky8-zen/gcc-8.5.0/aocc-4.2.0-unqsjyxhwisok55jl3zbkfnpdvqhahcn/bin/flang
    flags:
      cflags: -O2 -march=native
      cxxflags: -O2 -march=native
      fflags: -O2 -march=native
    operating_system: rocky8
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
config:
  install_tree:
    root: $spack/opt/spack
    projections:
      all: '{architecture}/{compiler.name}-{compiler.version}/{name}-{version}-{hash}'
    # install_tree can include an optional padded length (int or boolean)
    # default is False (do not pad)
    # if padded_length is True, Spack will pad as close to the system max path
    # length as possible
    # if padded_length is an integer, Spack will pad to that many characters,
    # assuming it is higher than the length of the install_tree root.
    # padded_length: 128


  # Locations where templates should be found
  template_dirs:
  - $spack/share/spack/templates

  # Directory where licenses should be located
  license_dir: $spack/etc/spack/licenses
  build_stage:
  - $tempdir/$user/spack-stage
  - $user_cache_path/stage
  test_stage: $user_cache_path/test
  source_cache: $spack/var/spack/cache
  misc_cache: $user_cache_path/cache
  connect_timeout: 10
  verify_ssl: true
  suppress_gpg_warnings: false
  install_missing_compilers: false
  checksum: true
  deprecated: false
  dirty: false
  build_language: C
  locks: true
  url_fetch_method: urllib
  ccache: false
  concretizer: clingo
  db_lock_timeout: 60
  package_lock_timeout: null
  shared_linking:
    # Spack automatically embeds runtime search paths in ELF binaries for their
    # dependencies. Their type can either be "rpath" or "runpath". For glibc, rpath is
    # inherited and has precedence over LD_LIBRARY_PATH; runpath is not inherited
    # and of lower precedence. DO NOT MIX these within the same install tree.
    type: rpath


    # (Experimental) Embed absolute paths of dependent libraries directly in ELF
    # binaries to avoid runtime search. This can improve startup time of
    # executables with many dependencies, in particular on slow filesystems.
    bind: false


  # Set to 'false' to allow installation on filesystems that doesn't allow setgid bit
  # manipulation by unprivileged user (e.g. AFS)
  allow_sgid: true
  install_status: true
  binary_index_ttl: 600
  flags:
    # Whether to keep -Werror flags active in package builds.
    keep_werror: none

  # A mapping of aliases that can be used to define new commands. For instance,
  # `sp: spec -I` will define a new command `sp` that will execute `spec` with
  # the `-I` argument. Aliases cannot override existing commands.
  aliases:
    concretise: concretize
    containerise: containerize
    rm: remove
  debug: false
  build_jobs: 1
mirrors:
  spack-public:
    binary: false
    url: https://mirror.spack.io
modules:
  default:
    # Where to install modules
    'enable:':
    - lmod
    lmod:
      core_compilers:
      - gcc@8.5.0
      hierarchy:
      - mpi
      hash_length: 0
      hide_implicits: true
      naming_scheme: '{name}/{version}-{hash:7}'
      projections:
        all: '{name}/{version}-{hash:7}'
      all:
        autoload: direct
        environment:
          set:
            '{name}_ROOT': '{prefix}'
        suffixes:
          +complex: cmplx
          +openmp: omp
          threads=openmp: omp
          +ilp64: i64
      intel:
        environment:
          set:
            INTEL_LICENSE_FILE: 40000@elprado.sdsc.edu:40200@elprado.sdsc.edu
    roots:
      tcl: $spack/share/spack/modules
      lmod: $spack/share/spack/lmod
    # What type of modules to use ("tcl" and/or "lmod")

    tcl:
      all:
        autoload: direct

    # Default configurations if lmod is enabled
  prefix_inspections:
    ./bin:
    - PATH
    ./man:
    - MANPATH
    ./share/man:
    - MANPATH
    ./share/aclocal:
    - ACLOCAL_PATH
    ./lib/pkgconfig:
    - PKG_CONFIG_PATH
    ./lib64/pkgconfig:
    - PKG_CONFIG_PATH
    ./share/pkgconfig:
    - PKG_CONFIG_PATH
    ./:
    - CMAKE_PREFIX_PATH

  # These are configurations for the module set named "default"
packages:
  lmod:
    externals:
    - spec: lmod@8.2.4
      prefix: /usr
    buildable: false
  lustre:
    externals:
    - spec: lustre@2.15.2
      prefix: /usr
    buildable: false
  openssl:
    externals:
    - spec: openssl@1.1.1k
      prefix: /usr
    buildable: false
  rdma-core:
    externals:
    - spec: rdma-core@43.0
      prefix: /usr
    buildable: false
  hcoll:
    externals:
    - spec: hcoll@4.8.3220
      prefix: /opt/mellanox/hcoll
    buildable: false
  knem:
    externals:
    - spec: knem@1.1.4
      prefix: /opt/knem-1.1.4.90mlnx3
    buildable: false
  xpmem:
    externals:
    - spec: xpmem@2.4.6
      prefix: /usr
    buildable: false
  slurm:
    externals:
    - spec: slurm@23.02.7
      prefix: /cm/shared/apps/slurm/current
    buildable: false
  all:
    compiler: [gcc, intel, pgi, clang, xl, nag, fj, aocc]
    providers:
      awk: [gawk]
      blas: [openblas, amdblis]
      D: [ldc]
      daal: [intel-oneapi-daal]
      elf: [elfutils]
      fftw-api: [fftw, amdfftw]
      flame: [libflame, amdlibflame]
      fuse: [libfuse]
      gl: [glx, osmesa]
      glu: [mesa-glu, openglu]
      golang: [go, gcc]
      go-or-gccgo-bootstrap: [go-bootstrap, gcc]
      iconv: [libiconv]
      ipp: [intel-oneapi-ipp]
      java: [openjdk, jdk, ibm-java]
      jpeg: [libjpeg-turbo, libjpeg]
      lapack: [openblas, amdlibflame]
      libglx: [mesa+glx, mesa18+glx]
      libllvm: [llvm]
      libosmesa: [mesa+osmesa, mesa18+osmesa]
      lua-lang: [lua, lua-luajit-openresty, lua-luajit]
      luajit: [lua-luajit-openresty, lua-luajit]
      mariadb-client: [mariadb-c-client, mariadb]
      mkl: [intel-oneapi-mkl]
      mpe: [mpe2]
      mpi: [openmpi, mpich]
      mysql-client: [mysql, mariadb-c-client]
      opencl: [pocl]
      onedal: [intel-oneapi-dal]
      pbs: [openpbs, torque]
      pil: [py-pillow]
      pkgconfig: [pkgconf, pkg-config]
      qmake: [qt-base, qt]
      rpc: [libtirpc]
      scalapack: [netlib-scalapack, amdscalapack]
      sycl: [hipsycl]
      szip: [libaec, libszip]
      tbb: [intel-tbb]
      unwind: [libunwind]
      uuid: [util-linux-uuid, libuuid]
      xxd: [xxd-standalone, vim]
      yacc: [bison, byacc]
      ziglang: [zig]
      zlib-api: [zlib-ng+compat, zlib]
    permissions:
      read: world
      write: user
repos:
- $spack/var/spack/repos/sdsc
- $spack/var/spack/repos/builtin
upstreams: {}
[spack_cpu@exp-15-56 dev]$
```

```
[spack_cpu@exp-15-56 gcc@13.3.0]$ cd openmpi@4.1.8/
[spack_cpu@exp-15-56 openmpi@4.1.8]$ ls
adios2@2.10.1.o39336209.exp-15-56     gromacs@2024.3.sh                    NAMD_2.14_Source.tar.gz                       py-mpi4py@4.0.0.o39336208.exp-15-56
adios2@2.10.1.sh                      hdf5@1.14.3.o39336202.exp-15-56      netcdf-c@4.9.2.o39336218.exp-15-56            py-mpi4py@4.0.0.sh
amdfftw@4.2.o39336191.exp-15-56       hdf5@1.14.3.sh                       netcdf-c@4.9.2.sh                             quantum-espresso@7.3.1.o39336214.exp-15-56
amdfftw@4.2-omp.o39336192.exp-15-56   hpl@2.3-i64.o39336204.exp-15-56      netcdf-cxx4@4.3.1.o39336219.exp-15-56         quantum-espresso@7.3.1.sh
amdfftw@4.2-omp.sh                    hpl@2.3-i64-omp.o39336206.exp-15-56  netcdf-cxx4@4.3.1.sh                          raxml@8.2.13.o39336225.exp-15-56
amdfftw@4.2.sh                        hpl@2.3-i64-omp.sh                   netcdf-fortran@4.6.1.o39336220.exp-15-56      raxml@8.2.13.sh
amdscalapack@4.2.o39336193.exp-15-56  hpl@2.3-i64.sh                       netcdf-fortran@4.6.1.sh                       raxml-ng@1.2.2.o39336226.exp-15-56
amdscalapack@4.2.sh                   hpl@2.3.o39336203.exp-15-56          netlib-scalapack@2.2.0.o39336212.exp-15-56    raxml-ng@1.2.2.sh
boost@1.86.0.o39336194.exp-15-56      hpl@2.3-omp.o39336205.exp-15-56      netlib-scalapack@2.2.0.sh                     scotch@7.0.5.o39336227.exp-15-56
boost@1.86.0.sh                       hpl@2.3-omp.sh                       neuron@8.2.3.o39336210.exp-15-56              scotch@7.0.5.sh
charmpp@6.10.2.o39336197.exp-15-56    hpl@2.3.sh                           neuron@8.2.3.sh                               wps@4.6.0.o39336222.exp-15-56
charmpp@6.10.2.sh                     ior@3.3.0.o39336217.exp-15-56        openfoam@2406.o39336228.exp-15-56             wps@4.6.0.sh
elpa@2024.03.001.o39336213.exp-15-56  ior@3.3.0.sh                         openfoam@2406.sh                              wrf@4.6.0.o39336221.exp-15-56
elpa@2024.03.001.sh                   iq-tree@2.3.6.o39336196.exp-15-56    osu-micro-benchmarks@7.4.o39336215.exp-15-56  wrf@4.6.0.sh
fftw@3.3.10.o39336199.exp-15-56       iq-tree@2.3.6.sh                     osu-micro-benchmarks@7.4.sh                   zoltan@3.901.o39336224.exp-15-56
fftw@3.3.10-omp.o39336200.exp-15-56   kahip@3.16.o39336207.exp-15-56       parallel-netcdf@1.13.0.o39336216.exp-15-56    zoltan@3.901.sh
fftw@3.3.10-omp.sh                    kahip@3.16.sh                        parallel-netcdf@1.13.0.sh
fftw@3.3.10.sh                        namd@2.14.o39336198.exp-15-56        parmetis@4.0.3.o39336223.exp-15-56
gromacs@2024.3.o39336201.exp-15-56    namd@2.14.sh                         parmetis@4.0.3.sh
[spack_cpu@exp-15-56 openmpi@4.1.8]$ pwd
/cm/shared/apps/spack/0.21.2/cpu/dev/etc/spack/sdsc/exp/cpu/dev/specs/gcc@13.3.0/openmpi@4.1.8
[spack_cpu@exp-15-56 openmpi@4.1.8]$
```

```
[spack_cpu@exp-15-56 dev]$ git push
Username for 'https://github.com': mkandes
Password for 'https://mkandes@github.com': 
remote: Support for password authentication was removed on August 13, 2021.
remote: Please see https://docs.github.com/get-started/getting-started-with-git/about-remote-repositories#cloning-with-https-urls for information on currently recommended modes of authentication.
fatal: Authentication failed for 'https://github.com/sdsc/spack.git/'
[spack_cpu@exp-15-56 dev]$ git push
Username for 'https://github.com': mkandes
Password for 'https://mkandes@github.com': 
Enumerating objects: 542, done.
Counting objects: 100% (542/542), done.
Delta compression using up to 128 threads
Compressing objects: 100% (527/527), done.
Writing objects: 100% (530/530), 55.87 MiB | 31.83 MiB/s, done.
Total 530 (delta 483), reused 1 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (483/483), completed with 2 local objects.
remote: warning: See https://gh.io/lfs for more information.
remote: warning: File etc/spack/sdsc/exp/cpu/dev/specs/aocc@4.2.0/NAMD_2.14_Source.tar.gz is 55.08 MB; this is larger than GitHub's recommended maximum file size of 50.00 MB
remote: warning: GH001: Large files detected. You may want to try Git Large File Storage - https://git-lfs.github.com.
To https://github.com/sdsc/spack.git
   68bdb4af90..f3856e41af  sdsc-0.21.2 -> sdsc-0.21.2
[spack_cpu@exp-15-56 dev]$
```
