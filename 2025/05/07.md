# Deploying sdsc-0.21.2 on Expanse: Part III

```
mkandes@hardtack:~$ ssh exp
Last login: Wed May  7 12:33:55 2025 from 208.58.212.11
[mkandes@login01 ~]$ sudo -u spack_cpu ssh login01
PIN+Yubi: 
Welcome to Bright release         9.0

                                                         Based on Rocky Linux 8
                                                                    ID: #000002

--------------------------------------------------------------------------------

                                 WELCOME TO
                  _______  __ ____  ___    _   _______ ______
                 / ____/ |/ // __ \/   |  / | / / ___// ____/
                / __/  |   // /_/ / /| | /  |/ /\__ \/ __/
               / /___ /   |/ ____/ ___ |/ /|  /___/ / /___
              /_____//_/|_/_/   /_/  |_/_/ |_//____/_____/

--------------------------------------------------------------------------------

Use the following commands to adjust your environment:

'module avail'            - show available modules
'module add <module>'     - adds a module to your environment for this session
'module initadd <module>' - configure module to be loaded at every login

-------------------------------------------------------------------------------
Last login: Wed May  7 12:41:28 2025 from 198.202.100.13
[spack_cpu@login01 ~]$
```

```
[spack_cpu@login01 ~]$ srun --partition=ind-shared --reservation=root_73  --account=use300 --nodes=1 --nodelist=exp-15-56 --ntasks-per-node=1 --cpus-per-task=16 --mem=32G --time=12:00:00 --pty --wait=0 /bin/bash
[spack_cpu@exp-15-56 ~]$
```

```
[spack_cpu@exp-15-56 ~]$ cd /cm/shared/apps/spack/
[spack_cpu@exp-15-56 spack]$ ls
0.15.4  0.17.3  0.21.2  cpu  gpu
[spack_cpu@exp-15-56 spack]$
```

```
[spack_cpu@exp-15-56 spack]$ cd 0.21.2/
[spack_cpu@exp-15-56 0.21.2]$ ls -lahtr
total 0
drwxrwsr-x 7 root spack 5 May  7 12:44 ..
drwxrwsr-x 2 root spack 0 May  7 12:48 .
[spack_cpu@exp-15-56 0.21.2]$
```

```
[spack_cpu@exp-15-56 0.21.2]$ mkdir cpu
[spack_cpu@exp-15-56 0.21.2]$ ls -lahtr
total 0
drwxrwsr-x 7 root      spack 5 May  7 12:44 ..
drwxr-sr-x 2 spack_cpu spack 0 May  7 19:23 cpu
drwxrwsr-x 3 root      spack 1 May  7 19:23 .
[spack_cpu@exp-15-56 0.21.2]$ 
```

```
[spack_cpu@exp-15-56 0.21.2]$ cd cpu/
[spack_cpu@exp-15-56 cpu]$ git clone https://github.com/sdsc/spack.git
Cloning into 'spack'...
remote: Enumerating objects: 625834, done.
remote: Total 625834 (delta 0), reused 0 (delta 0), pack-reused 625834 (from 1)
Receiving objects: 100% (625834/625834), 455.92 MiB | 47.52 MiB/s, done.
Resolving deltas: 100% (291384/291384), done.
Updating files: 100% (12153/12153), done.
[spack_cpu@exp-15-56 cpu]$ ls -lahtr
total 0
drwxrwsr-x 3 root      spack  1 May  7 19:23 ..
drwxr-sr-x 3 spack_cpu spack  1 May  7 19:24 .
drwxr-sr-x 9 spack_cpu spack 25 May  7 19:25 spack
[spack_cpu@exp-15-56 cpu]$
```

```
[spack_cpu@exp-15-56 cpu]$ mv spack/ dev/
[spack_cpu@exp-15-56 cpu]$ pwd
/cm/shared/apps/spack/0.21.2/cpu
[spack_cpu@exp-15-56 cpu]$ ls -lahtr
total 0
drwxrwsr-x 3 root      spack  1 May  7 19:23 ..
drwxr-sr-x 9 spack_cpu spack 25 May  7 19:25 dev
drwxr-sr-x 3 spack_cpu spack  1 May  7 19:25 .
[spack_cpu@exp-15-56 cpu]$
```

```
[spack_cpu@exp-15-56 cpu]$ cd dev/
[spack_cpu@exp-15-56 dev]$ ls
bin           COPYRIGHT  LICENSE-APACHE  pyproject.toml  SECURITY.md
CHANGELOG.md  etc        LICENSE-MIT     pytest.ini      share
CITATION.cff  lib        NOTICE          README.md       var
[spack_cpu@exp-15-56 dev]$ git branch
* sdsc-0.21.2
[spack_cpu@exp-15-56 dev]$
```

```
[spack_cpu@exp-15-56 dev]$ cd etc/spack/
[spack_cpu@exp-15-56 spack]$ ls
defaults  repos.yaml  sdsc
[spack_cpu@exp-15-56 spack]$ cd sdsc/
[spack_cpu@exp-15-56 sdsc]$ ls
exp
[spack_cpu@exp-15-56 sdsc]$ cd exp/
[spack_cpu@exp-15-56 exp]$ ls
cpu  gpu
[spack_cpu@exp-15-56 exp]$ cd cpu/
[spack_cpu@exp-15-56 cpu]$ ls
dev
[spack_cpu@exp-15-56 cpu]$ cd dev/
[spack_cpu@exp-15-56 dev]$ ls
deploy.sh  specs  yamls
[spack_cpu@exp-15-56 dev]$ pwd
/cm/shared/apps/spack/0.21.2/cpu/dev/etc/spack/sdsc/exp/cpu/dev
[spack_cpu@exp-15-56 dev]$
```

```
[spack_cpu@exp-15-56 dev]$ pwd
/cm/shared/apps/spack/0.21.2/cpu/dev/etc/spack/sdsc/exp/cpu/dev
[spack_cpu@exp-15-56 dev]$ ls -lahtr
total 36K
drwxr-sr-x 3 spack_cpu spack   1 May  7 19:25 ..
drwxr-sr-x 4 spack_cpu spack  24 May  7 19:25 specs
drwxr-sr-x 2 spack_cpu spack   3 May  7 19:25 yamls
-rw-r--r-- 1 spack_cpu spack 36K May  7 19:35 deploy.sh
drwxr-sr-x 4 spack_cpu spack   3 May  7 19:35 .
[spack_cpu@exp-15-56 dev]$ grep SPACK_INSTANCE_DIR deploy.sh 
declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
. "${SPACK_INSTANCE_DIR}/share/spack/setup-env.sh"
cp -p yamls/compilers.yaml "${SPACK_INSTANCE_DIR}/etc/spack/compilers.yaml"
cp -p yamls/modules.yaml "${SPACK_INSTANCE_DIR}/etc/spack/modules.yaml"
cp -p yamls/packages.yaml "${SPACK_INSTANCE_DIR}/etc/spack/packages.yaml"
[spack_cpu@exp-15-56 dev]$
```

```
[spack_cpu@exp-15-56 dev]$ sed -i "s|SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'|SPACK_INSTANCE_DIR=\"/cm/shared/apps/spack/\${SPACK_VERSION}/\${SPACK_INSTANCE_NAME}/\${SPACK_INSTANCE_VERSION}\"|" deploy.sh
[spack_cpu@exp-15-56 dev]$ grep SPACK_INSTANCE_DIR deploy.sh 
declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
. "${SPACK_INSTANCE_DIR}/share/spack/setup-env.sh"
cp -p yamls/compilers.yaml "${SPACK_INSTANCE_DIR}/etc/spack/compilers.yaml"
cp -p yamls/modules.yaml "${SPACK_INSTANCE_DIR}/etc/spack/modules.yaml"
cp -p yamls/packages.yaml "${SPACK_INSTANCE_DIR}/etc/spack/packages.yaml"
[spack_cpu@exp-15-56 dev]$
```

```
[spack_cpu@exp-15-56 dev]$ pwd
/cm/shared/apps/spack/0.21.2/cpu/dev/etc/spack/sdsc/exp/cpu/dev
[spack_cpu@exp-15-56 dev]$ ls
deploy.sh  specs  yamls
[spack_cpu@exp-15-56 dev]$ cd specs/
[spack_cpu@exp-15-56 specs]$ ls
aocc@4.2.0       cmake@3.27.7.sh                gcc@13.3.0.sh  git-lfs@3.5.1.sh      parallel@20240922.sh  sqlite@3.43.2.sh
aocc@4.2.0.sh    curl@8.4.0.sh                  gdb@14.2.sh    go@1.23.1.sh          perl@5.38.2.sh        sratoolkit@3.1.1.sh
aria2@1.37.0.sh  entrezdirect@22.6.20240924.sh  gh@2.57.0.sh   mercurial@6.8.1.sh    pigz@2.8.sh           subversion@1.14.3.sh
bzip2@1.0.8.sh   gcc@13.3.0                     git@2.45.2.sh  openjdk@11.0.24_8.sh  rclone@1.68.1.sh      tar@1.34.sh
[spack_cpu@exp-15-56 specs]$ grep -H 'declare -xr SPACK_INSTANCE_DIR=' *.sh 
aocc@4.2.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
aria2@1.37.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
bzip2@1.0.8.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
cmake@3.27.7.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
curl@8.4.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
entrezdirect@22.6.20240924.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
gcc@13.3.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
gdb@14.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
git@2.45.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
git-lfs@3.5.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
go@1.23.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
mercurial@6.8.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openjdk@11.0.24_8.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
parallel@20240922.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
perl@5.38.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
pigz@2.8.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
rclone@1.68.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
sqlite@3.43.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
sratoolkit@3.1.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
subversion@1.14.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
tar@1.34.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
[spack_cpu@exp-15-56 specs]$
```

```
[spack_cpu@exp-15-56 specs]$ sed -i "s|SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'|SPACK_INSTANCE_DIR=\"/cm/shared/apps/spack/\${SPACK_VERSION}/\${SPACK_INSTANCE_NAME}/\${SPACK_INSTANCE_VERSION}\"|" *.sh
[spack_cpu@exp-15-56 specs]$ grep -H 'declare -xr SPACK_INSTANCE_DIR=' *.sh 
aocc@4.2.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
aria2@1.37.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
bzip2@1.0.8.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
cmake@3.27.7.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
curl@8.4.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
entrezdirect@22.6.20240924.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
gcc@13.3.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
gdb@14.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
git@2.45.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
git-lfs@3.5.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
go@1.23.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
mercurial@6.8.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openjdk@11.0.24_8.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
parallel@20240922.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
perl@5.38.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
pigz@2.8.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
rclone@1.68.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
sqlite@3.43.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
sratoolkit@3.1.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
subversion@1.14.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
tar@1.34.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
[spack_cpu@exp-15-56 specs]$
```

```
[spack_cpu@exp-15-56 specs]$ ls -lahtr "/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
total 149K
-rw-r--r-- 1 spack_cpu spack  191 May  7 19:25 .git-blame-ignore-revs
-rw-r--r-- 1 spack_cpu spack 1.5K May  7 19:25 .flake8
-rw-r--r-- 1 spack_cpu spack  158 May  7 19:25 .dockerignore
-rw-r--r-- 1 spack_cpu spack  963 May  7 19:25 .codecov.yml
-rw-r--r-- 1 spack_cpu spack  105 May  7 19:25 .gitattributes
drwxr-sr-x 4 spack_cpu spack    5 May  7 19:25 .github
-rw-r--r-- 1 spack_cpu spack  244 May  7 19:25 .readthedocs.yml
-rw-r--r-- 1 spack_cpu spack 6.1K May  7 19:25 .mailmap
-rw-r--r-- 1 spack_cpu spack 8.5K May  7 19:25 .gitignore
-rw-r--r-- 1 spack_cpu spack  93K May  7 19:25 CHANGELOG.md
-rw-r--r-- 1 spack_cpu spack 6.2K May  7 19:25 README.md
-rw-r--r-- 1 spack_cpu spack 1.2K May  7 19:25 NOTICE
-rw-r--r-- 1 spack_cpu spack 1.1K May  7 19:25 LICENSE-MIT
-rw-r--r-- 1 spack_cpu spack  12K May  7 19:25 LICENSE-APACHE
-rw-r--r-- 1 spack_cpu spack 3.2K May  7 19:25 COPYRIGHT
-rw-r--r-- 1 spack_cpu spack 3.6K May  7 19:25 CITATION.cff
-rw-r--r-- 1 spack_cpu spack 1.1K May  7 19:25 SECURITY.md
drwxr-sr-x 3 spack_cpu spack    1 May  7 19:25 etc
drwxr-sr-x 2 spack_cpu spack    9 May  7 19:25 bin
drwxr-sr-x 3 spack_cpu spack    1 May  7 19:25 lib
drwxr-sr-x 3 spack_cpu spack    1 May  7 19:25 share
-rw-r--r-- 1 spack_cpu spack  974 May  7 19:25 pytest.ini
-rw-r--r-- 1 spack_cpu spack 5.7K May  7 19:25 pyproject.toml
drwxr-sr-x 3 spack_cpu spack    1 May  7 19:25 var
drwxr-sr-x 9 spack_cpu spack   25 May  7 19:25 .
drwxr-sr-x 8 spack_cpu spack   11 May  7 19:25 .git
drwxr-sr-x 3 spack_cpu spack    1 May  7 19:25 ..
[spack_cpu@exp-15-56 specs]$
```

```
[spack_cpu@exp-15-56 specs]$ cd aocc@4.2.0/
[spack_cpu@exp-15-56 aocc@4.2.0]$ grep -H 'declare -xr SPACK_INSTANCE_DIR=' *.sh 
adios2@2.10.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdblis@4.2-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdblis@4.2-i64.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdblis@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdblis@4.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdfftw@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdfftw@4.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdlibflame@4.2-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdlibflame@4.2-i64.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdlibflame@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdlibflame@4.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
arrayfire@3.9.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
beast2@2.7.7.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
boost@1.86.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
cgal@4.13.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
cgal@5.6.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
charmpp@6.10.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
eigen@3.4.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
fftw@3.3.10-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
fftw@3.3.10.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
gsl@2.8.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hdf5@1.14.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
iq-tree@2.3.6.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
libbeagle@3.1.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
libbeagle@4.0.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
libxc@6.2.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
metis@5.1.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
mvapich2@2.3.7-2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
namd@2.14.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-c@4.9.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-cxx4@4.3.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-fortran@4.6.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netlib-lapack@3.12.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openblas@0.3.28-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openblas@0.3.28-i64.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openblas@0.3.28-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openblas@0.3.28.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openmpi@4.1.8.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@1.26.4-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@1.26.4-i64.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@1.26.4-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@1.26.4.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@2.1.2-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@2.1.2-i64.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@2.1.2-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@2.1.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-pip@24.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-setuptools@75.1.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
python@3.11.9.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-virtualenv@20.26.5.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
scotch@7.0.5.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
stream@5.10-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
stream@5.10.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
ucx@1.14.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
[spack_cpu@exp-15-56 aocc@4.2.0]$ sed -i "s|SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'|SPACK_INSTANCE_DIR=\"/cm/shared/apps/spack/\${SPACK_VERSION}/\${SPACK_INSTANCE_NAME}/\${SPACK_INSTANCE_VERSION}\"|" *.sh
[spack_cpu@exp-15-56 aocc@4.2.0]$ grep -H 'declare -xr SPACK_INSTANCE_DIR=' *.sh 
adios2@2.10.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdblis@4.2-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdblis@4.2-i64.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdblis@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdblis@4.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdfftw@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdfftw@4.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdlibflame@4.2-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdlibflame@4.2-i64.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdlibflame@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdlibflame@4.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
arrayfire@3.9.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
beast2@2.7.7.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
boost@1.86.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
cgal@4.13.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
cgal@5.6.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
charmpp@6.10.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
eigen@3.4.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
fftw@3.3.10-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
fftw@3.3.10.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
gsl@2.8.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hdf5@1.14.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
iq-tree@2.3.6.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
libbeagle@3.1.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
libbeagle@4.0.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
libxc@6.2.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
metis@5.1.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
mvapich2@2.3.7-2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
namd@2.14.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-c@4.9.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-cxx4@4.3.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-fortran@4.6.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netlib-lapack@3.12.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openblas@0.3.28-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openblas@0.3.28-i64.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openblas@0.3.28-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openblas@0.3.28.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openmpi@4.1.8.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@1.26.4-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@1.26.4-i64.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@1.26.4-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@1.26.4.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@2.1.2-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@2.1.2-i64.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@2.1.2-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@2.1.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-pip@24.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-setuptools@75.1.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
python@3.11.9.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-virtualenv@20.26.5.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
scotch@7.0.5.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
stream@5.10-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
stream@5.10.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
ucx@1.14.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
[spack_cpu@exp-15-56 aocc@4.2.0]$
```

```
[spack_cpu@exp-15-56 aocc@4.2.0]$ cd mvapich2@2.3.7-2/
[spack_cpu@exp-15-56 mvapich2@2.3.7-2]$ grep -H 'declare -xr SPACK_INSTANCE_DIR=' *.sh 
adios2@2.10.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdfftw@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdfftw@4.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdscalapack@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdscalapack@4.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
boost@1.86.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
charmpp@6.10.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
elpa@2024.03.001.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
fftw@3.3.10-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
fftw@3.3.10.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
gromacs@2024.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hdf5@1.14.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3-i64.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
ior@3.3.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
iq-tree@2.3.6.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
kahip@3.16.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
namd@2.14.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-c@4.9.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-cxx4@4.3.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-fortran@4.6.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netlib-scalapack@2.2.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
neuron@8.2.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openfoam@2406.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
osu-micro-benchmarks@7.4.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
parallel-netcdf@1.13.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
parmetis@4.0.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-mpi4py@4.0.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
quantum-espresso@7.3.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
raxml@8.2.13.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
raxml-ng@1.2.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
scotch@7.0.5.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
wps@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
wrf@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
zoltan@3.901.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
[spack_cpu@exp-15-56 mvapich2@2.3.7-2]$ sed -i "s|SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'|SPACK_INSTANCE_DIR=\"/cm/shared/apps/spack/\${SPACK_VERSION}/\${SPACK_INSTANCE_NAME}/\${SPACK_INSTANCE_VERSION}\"|" *.sh
[spack_cpu@exp-15-56 mvapich2@2.3.7-2]$ grep -H 'declare -xr SPACK_INSTANCE_DIR=' *.sh 
adios2@2.10.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdfftw@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdfftw@4.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdscalapack@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdscalapack@4.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
boost@1.86.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
charmpp@6.10.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
elpa@2024.03.001.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
fftw@3.3.10-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
fftw@3.3.10.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
gromacs@2024.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hdf5@1.14.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3-i64.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
ior@3.3.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
iq-tree@2.3.6.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
kahip@3.16.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
namd@2.14.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-c@4.9.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-cxx4@4.3.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-fortran@4.6.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netlib-scalapack@2.2.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
neuron@8.2.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openfoam@2406.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
osu-micro-benchmarks@7.4.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
parallel-netcdf@1.13.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
parmetis@4.0.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-mpi4py@4.0.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
quantum-espresso@7.3.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
raxml@8.2.13.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
raxml-ng@1.2.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
scotch@7.0.5.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
wps@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
wrf@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
zoltan@3.901.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
[spack_cpu@exp-15-56 mvapich2@2.3.7-2]$ cd ../openmpi@4.1.8/
[spack_cpu@exp-15-56 openmpi@4.1.8]$ grep -H 'declare -xr SPACK_INSTANCE_DIR=' *.sh 
adios2@2.10.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdfftw@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdfftw@4.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdscalapack@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdscalapack@4.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
boost@1.86.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
charmpp@6.10.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
elpa@2024.03.001.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
fftw@3.3.10-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
fftw@3.3.10.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
gromacs@2024.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hdf5@1.14.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3-i64.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
ior@3.3.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
iq-tree@2.3.6.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
kahip@3.16.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
namd@2.14.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-c@4.9.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-cxx4@4.3.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-fortran@4.6.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netlib-scalapack@2.2.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
neuron@8.2.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openfoam@2406.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
osu-micro-benchmarks@7.4.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
parallel-netcdf@1.13.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
parmetis@4.0.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-mpi4py@4.0.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
quantum-espresso@7.3.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
raxml@8.2.13.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
raxml-ng@1.2.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
scotch@7.0.5.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
wps@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
wrf@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
zoltan@3.901.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
[spack_cpu@exp-15-56 openmpi@4.1.8]$ sed -i "s|SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'|SPACK_INSTANCE_DIR=\"/cm/shared/apps/spack/\${SPACK_VERSION}/\${SPACK_INSTANCE_NAME}/\${SPACK_INSTANCE_VERSION}\"|" *.sh
[spack_cpu@exp-15-56 openmpi@4.1.8]$ grep -H 'declare -xr SPACK_INSTANCE_DIR=' *.sh 
adios2@2.10.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdfftw@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdfftw@4.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdscalapack@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdscalapack@4.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
boost@1.86.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
charmpp@6.10.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
elpa@2024.03.001.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
fftw@3.3.10-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
fftw@3.3.10.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
gromacs@2024.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hdf5@1.14.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3-i64.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
ior@3.3.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
iq-tree@2.3.6.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
kahip@3.16.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
namd@2.14.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-c@4.9.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-cxx4@4.3.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-fortran@4.6.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netlib-scalapack@2.2.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
neuron@8.2.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openfoam@2406.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
osu-micro-benchmarks@7.4.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
parallel-netcdf@1.13.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
parmetis@4.0.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-mpi4py@4.0.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
quantum-espresso@7.3.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
raxml@8.2.13.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
raxml-ng@1.2.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
scotch@7.0.5.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
wps@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
wrf@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
zoltan@3.901.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
[spack_cpu@exp-15-56 openmpi@4.1.8]$
```

```
[spack_cpu@exp-15-56 openmpi@4.1.8]$ cd ../
[spack_cpu@exp-15-56 aocc@4.2.0]$ cd ../
[spack_cpu@exp-15-56 specs]$ ls
aocc@4.2.0       cmake@3.27.7.sh                gcc@13.3.0.sh  git-lfs@3.5.1.sh      parallel@20240922.sh  sqlite@3.43.2.sh
aocc@4.2.0.sh    curl@8.4.0.sh                  gdb@14.2.sh    go@1.23.1.sh          perl@5.38.2.sh        sratoolkit@3.1.1.sh
aria2@1.37.0.sh  entrezdirect@22.6.20240924.sh  gh@2.57.0.sh   mercurial@6.8.1.sh    pigz@2.8.sh           subversion@1.14.3.sh
bzip2@1.0.8.sh   gcc@13.3.0                     git@2.45.2.sh  openjdk@11.0.24_8.sh  rclone@1.68.1.sh      tar@1.34.sh
[spack_cpu@exp-15-56 specs]$ cd gcc@13.3.0/
[spack_cpu@exp-15-56 gcc@13.3.0]$ grep -H 'declare -xr SPACK_INSTANCE_DIR=' *.sh 
adios2@2.10.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdblis@4.2-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdblis@4.2-i64.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdblis@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdblis@4.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdfftw@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdfftw@4.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdlibflame@4.2-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdlibflame@4.2-i64.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdlibflame@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdlibflame@4.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
arrayfire@3.9.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
beast2@2.7.7.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
boost@1.86.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
cgal@4.13.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
cgal@5.6.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
charmpp@6.10.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
eigen@3.4.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
fftw@3.3.10-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
fftw@3.3.10.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
gsl@2.8.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hdf5@1.14.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
iq-tree@2.3.6.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
libbeagle@3.1.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
libbeagle@4.0.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
libxc@6.2.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
metis@5.1.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
mvapich2@2.3.7-2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
namd@2.14.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-c@4.9.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-cxx4@4.3.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-fortran@4.6.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netlib-lapack@3.12.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openblas@0.3.28-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openblas@0.3.28-i64.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openblas@0.3.28-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openblas@0.3.28.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openmpi@4.1.8.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@1.26.4-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@1.26.4-i64.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@1.26.4-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@1.26.4.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@2.1.2-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@2.1.2-i64.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@2.1.2-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-numpy@2.1.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-pip@24.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-setuptools@75.1.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
python@3.11.9.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-virtualenv@20.26.5.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
scotch@7.0.5.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
stream@5.10-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
stream@5.10.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
ucx@1.14.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
[spack_cpu@exp-15-56 gcc@13.3.0]$ sed -i "s|SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'|SPACK_INSTANCE_DIR=\"/cm/shared/apps/spack/\${SPACK_VERSION}/\${SPACK_INSTANCE_NAME}/\${SPACK_INSTANCE_VERSION}\"|" *.sh
[spack_cpu@exp-15-56 gcc@13.3.0]$ grep -H 'declare -xr SPACK_INSTANCE_DIR=' *.sh 
adios2@2.10.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdblis@4.2-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdblis@4.2-i64.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdblis@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdblis@4.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdfftw@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdfftw@4.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdlibflame@4.2-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdlibflame@4.2-i64.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdlibflame@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdlibflame@4.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
arrayfire@3.9.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
beast2@2.7.7.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
boost@1.86.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
cgal@4.13.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
cgal@5.6.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
charmpp@6.10.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
eigen@3.4.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
fftw@3.3.10-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
fftw@3.3.10.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
gsl@2.8.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hdf5@1.14.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
iq-tree@2.3.6.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
libbeagle@3.1.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
libbeagle@4.0.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
libxc@6.2.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
metis@5.1.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
mvapich2@2.3.7-2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
namd@2.14.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-c@4.9.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-cxx4@4.3.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-fortran@4.6.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netlib-lapack@3.12.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openblas@0.3.28-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openblas@0.3.28-i64.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openblas@0.3.28-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openblas@0.3.28.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openmpi@4.1.8.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@1.26.4-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@1.26.4-i64.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@1.26.4-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@1.26.4.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@2.1.2-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@2.1.2-i64.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@2.1.2-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-numpy@2.1.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-pip@24.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-setuptools@75.1.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
python@3.11.9.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-virtualenv@20.26.5.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
scotch@7.0.5.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
stream@5.10-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
stream@5.10.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
ucx@1.14.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
[spack_cpu@exp-15-56 gcc@13.3.0]$ ls
adios2@2.10.1.sh            amdlibflame@4.2.sh  gsl@2.8.sh           netcdf-c@4.9.2.sh           py-numpy@1.26.4-i64-omp.sh  python@3.11.9.sh
amdblis@4.2-i64-omp.sh      arrayfire@3.9.0.sh  hdf5@1.14.3.sh       netcdf-cxx4@4.3.1.sh        py-numpy@1.26.4-i64.sh      py-virtualenv@20.26.5.sh
amdblis@4.2-i64.sh          beast2@2.7.7.sh     iq-tree@2.3.6.sh     netcdf-fortran@4.6.1.sh     py-numpy@1.26.4-omp.sh      scotch@7.0.5.sh
amdblis@4.2-omp.sh          boost@1.86.0.sh     libbeagle@3.1.2.sh   netlib-lapack@3.12.0.sh     py-numpy@1.26.4.sh          stream@5.10-omp.sh
amdblis@4.2.sh              cgal@4.13.sh        libbeagle@4.0.1.sh   openblas@0.3.28-i64-omp.sh  py-numpy@2.1.2-i64-omp.sh   stream@5.10.sh
amdfftw@4.2-omp.sh          cgal@5.6.1.sh       libxc@6.2.2.sh       openblas@0.3.28-i64.sh      py-numpy@2.1.2-i64.sh       ucx@1.14.1.sh
amdfftw@4.2.sh              charmpp@6.10.2.sh   metis@5.1.0.sh       openblas@0.3.28-omp.sh      py-numpy@2.1.2-omp.sh
amdlibflame@4.2-i64-omp.sh  eigen@3.4.0.sh      mvapich2@2.3.7-2     openblas@0.3.28.sh          py-numpy@2.1.2.sh
amdlibflame@4.2-i64.sh      fftw@3.3.10-omp.sh  mvapich2@2.3.7-2.sh  openmpi@4.1.8               py-pip@24.2.sh
amdlibflame@4.2-omp.sh      fftw@3.3.10.sh      namd@2.14.sh         openmpi@4.1.8.sh            py-setuptools@75.1.0.sh
[spack_cpu@exp-15-56 gcc@13.3.0]$ cd mvapich2@2.3.7-2/
[spack_cpu@exp-15-56 mvapich2@2.3.7-2]$ grep -H 'declare -xr SPACK_INSTANCE_DIR=' *.sh 
adios2@2.10.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdfftw@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdfftw@4.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdscalapack@4.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
boost@1.86.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
charmpp@6.10.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
elpa@2024.03.001.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
fftw@3.3.10-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
fftw@3.3.10.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
gromacs@2024.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hdf5@1.14.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3-i64.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
ior@3.3.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
iq-tree@2.3.6.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
kahip@3.16.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
namd@2.14.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-c@4.9.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-cxx4@4.3.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-fortran@4.6.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netlib-scalapack@2.2.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
neuron@8.2.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openfoam@2406.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
osu-micro-benchmarks@7.4.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
parallel-netcdf@1.13.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
parmetis@4.0.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-mpi4py@4.0.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
quantum-espresso@7.3.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
raxml@8.2.13.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
raxml-ng@1.2.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
scotch@7.0.5.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
wps@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
wrf@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
zoltan@3.901.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
[spack_cpu@exp-15-56 mvapich2@2.3.7-2]$ sed -i "s|SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'|SPACK_INSTANCE_DIR=\"/cm/shared/apps/spack/\${SPACK_VERSION}/\${SPACK_INSTANCE_NAME}/\${SPACK_INSTANCE_VERSION}\"|" *.sh
[spack_cpu@exp-15-56 mvapich2@2.3.7-2]$ grep -H 'declare -xr SPACK_INSTANCE_DIR=' *.sh 
adios2@2.10.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdfftw@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdfftw@4.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdscalapack@4.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
boost@1.86.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
charmpp@6.10.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
elpa@2024.03.001.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
fftw@3.3.10-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
fftw@3.3.10.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
gromacs@2024.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hdf5@1.14.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3-i64.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
ior@3.3.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
iq-tree@2.3.6.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
kahip@3.16.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
namd@2.14.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-c@4.9.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-cxx4@4.3.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-fortran@4.6.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netlib-scalapack@2.2.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
neuron@8.2.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openfoam@2406.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
osu-micro-benchmarks@7.4.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
parallel-netcdf@1.13.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
parmetis@4.0.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-mpi4py@4.0.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
quantum-espresso@7.3.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
raxml@8.2.13.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
raxml-ng@1.2.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
scotch@7.0.5.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
wps@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
wrf@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
zoltan@3.901.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
[spack_cpu@exp-15-56 mvapich2@2.3.7-2]$ cd ../openmpi@4.1.8/
[spack_cpu@exp-15-56 openmpi@4.1.8]$ grep -H 'declare -xr SPACK_INSTANCE_DIR=' *.sh 
adios2@2.10.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdfftw@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdfftw@4.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
amdscalapack@4.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
boost@1.86.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
charmpp@6.10.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
elpa@2024.03.001.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
fftw@3.3.10-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
fftw@3.3.10.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
gromacs@2024.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hdf5@1.14.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3-i64.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3-omp.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
hpl@2.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
ior@3.3.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
iq-tree@2.3.6.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
kahip@3.16.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
namd@2.14.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-c@4.9.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-cxx4@4.3.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netcdf-fortran@4.6.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
netlib-scalapack@2.2.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
neuron@8.2.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
openfoam@2406.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
osu-micro-benchmarks@7.4.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
parallel-netcdf@1.13.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
parmetis@4.0.3.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
py-mpi4py@4.0.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
quantum-espresso@7.3.1.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
raxml@8.2.13.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
raxml-ng@1.2.2.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
scotch@7.0.5.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
wps@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
wrf@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
zoltan@3.901.sh:declare -xr SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'
[spack_cpu@exp-15-56 openmpi@4.1.8]$ sed -i "s|SPACK_INSTANCE_DIR='/home/mkandes/software/spack/repos/sdsc/cpu'|SPACK_INSTANCE_DIR=\"/cm/shared/apps/spack/\${SPACK_VERSION}/\${SPACK_INSTANCE_NAME}/\${SPACK_INSTANCE_VERSION}\"|" *.sh
[spack_cpu@exp-15-56 openmpi@4.1.8]$ grep -H 'declare -xr SPACK_INSTANCE_DIR=' *.sh 
adios2@2.10.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdfftw@4.2-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdfftw@4.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
amdscalapack@4.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
boost@1.86.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
charmpp@6.10.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
elpa@2024.03.001.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
fftw@3.3.10-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
fftw@3.3.10.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
gromacs@2024.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hdf5@1.14.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3-i64-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3-i64.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3-omp.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
hpl@2.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
ior@3.3.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
iq-tree@2.3.6.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
kahip@3.16.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
namd@2.14.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-c@4.9.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-cxx4@4.3.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netcdf-fortran@4.6.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
netlib-scalapack@2.2.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
neuron@8.2.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
openfoam@2406.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
osu-micro-benchmarks@7.4.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
parallel-netcdf@1.13.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
parmetis@4.0.3.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
py-mpi4py@4.0.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
quantum-espresso@7.3.1.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
raxml@8.2.13.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
raxml-ng@1.2.2.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
scotch@7.0.5.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
wps@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
wrf@4.6.0.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
zoltan@3.901.sh:declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}/${SPACK_INSTANCE_VERSION}"
[spack_cpu@exp-15-56 openmpi@4.1.8]$ cd ../
[spack_cpu@exp-15-56 gcc@13.3.0]$ ls
adios2@2.10.1.sh            amdlibflame@4.2.sh  gsl@2.8.sh           netcdf-c@4.9.2.sh           py-numpy@1.26.4-i64-omp.sh  python@3.11.9.sh
amdblis@4.2-i64-omp.sh      arrayfire@3.9.0.sh  hdf5@1.14.3.sh       netcdf-cxx4@4.3.1.sh        py-numpy@1.26.4-i64.sh      py-virtualenv@20.26.5.sh
amdblis@4.2-i64.sh          beast2@2.7.7.sh     iq-tree@2.3.6.sh     netcdf-fortran@4.6.1.sh     py-numpy@1.26.4-omp.sh      scotch@7.0.5.sh
amdblis@4.2-omp.sh          boost@1.86.0.sh     libbeagle@3.1.2.sh   netlib-lapack@3.12.0.sh     py-numpy@1.26.4.sh          stream@5.10-omp.sh
amdblis@4.2.sh              cgal@4.13.sh        libbeagle@4.0.1.sh   openblas@0.3.28-i64-omp.sh  py-numpy@2.1.2-i64-omp.sh   stream@5.10.sh
amdfftw@4.2-omp.sh          cgal@5.6.1.sh       libxc@6.2.2.sh       openblas@0.3.28-i64.sh      py-numpy@2.1.2-i64.sh       ucx@1.14.1.sh
amdfftw@4.2.sh              charmpp@6.10.2.sh   metis@5.1.0.sh       openblas@0.3.28-omp.sh      py-numpy@2.1.2-omp.sh
amdlibflame@4.2-i64-omp.sh  eigen@3.4.0.sh      mvapich2@2.3.7-2     openblas@0.3.28.sh          py-numpy@2.1.2.sh
amdlibflame@4.2-i64.sh      fftw@3.3.10-omp.sh  mvapich2@2.3.7-2.sh  openmpi@4.1.8               py-pip@24.2.sh
amdlibflame@4.2-omp.sh      fftw@3.3.10.sh      namd@2.14.sh         openmpi@4.1.8.sh            py-setuptools@75.1.0.sh
[spack_cpu@exp-15-56 gcc@13.3.0]$ cd ../
[spack_cpu@exp-15-56 specs]$ ls
aocc@4.2.0       cmake@3.27.7.sh                gcc@13.3.0.sh  git-lfs@3.5.1.sh      parallel@20240922.sh  sqlite@3.43.2.sh
aocc@4.2.0.sh    curl@8.4.0.sh                  gdb@14.2.sh    go@1.23.1.sh          perl@5.38.2.sh        sratoolkit@3.1.1.sh
aria2@1.37.0.sh  entrezdirect@22.6.20240924.sh  gh@2.57.0.sh   mercurial@6.8.1.sh    pigz@2.8.sh           subversion@1.14.3.sh
bzip2@1.0.8.sh   gcc@13.3.0                     git@2.45.2.sh  openjdk@11.0.24_8.sh  rclone@1.68.1.sh      tar@1.34.sh
[spack_cpu@exp-15-56 specs]$
```

```
[spack_cpu@exp-15-56 dev]$ pwd
/cm/shared/apps/spack/0.21.2/cpu/dev/etc/spack/sdsc/exp/cpu/dev
[spack_cpu@exp-15-56 dev]$ ls -lahtr
total 36K
drwxr-sr-x 3 spack_cpu spack   1 May  7 19:25 ..
drwxr-sr-x 2 spack_cpu spack   3 May  7 19:25 yamls
drwxr-sr-x 4 spack_cpu spack  24 May  7 20:12 specs
-rw-r--r-- 1 spack_cpu spack 36K May  7 20:14 deploy.sh
drwxr-sr-x 4 spack_cpu spack   3 May  7 20:14 .
[spack_cpu@exp-15-56 dev]$ head -n 10 deploy.sh 
#!/usr/bin/env bash

#SBATCH --job-name=deploy
#SBATCH --account=use300
#SBATCH --clusters=expanse
#SBATCH --partition=ind-shared
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=1
#SBATCH --mem=1G
[spack_cpu@exp-15-56 dev]$ sed -i '5 i #SBATCH --reservation=root_73' *.sh
[spack_cpu@exp-15-56 dev]$ head -n 10 deploy.sh 
#!/usr/bin/env bash

#SBATCH --job-name=deploy
#SBATCH --account=use300
#SBATCH --reservation=root_73
#SBATCH --clusters=expanse
#SBATCH --partition=ind-shared
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=1
[spack_cpu@exp-15-56 dev]$
```

```
[spack_cpu@exp-15-56 dev]$ ls
deploy.sh  specs  yamls
[spack_cpu@exp-15-56 dev]$ cd specs/
[spack_cpu@exp-15-56 specs]$ ls
aocc@4.2.0       cmake@3.27.7.sh                gcc@13.3.0.sh  git-lfs@3.5.1.sh      parallel@20240922.sh  sqlite@3.43.2.sh
aocc@4.2.0.sh    curl@8.4.0.sh                  gdb@14.2.sh    go@1.23.1.sh          perl@5.38.2.sh        sratoolkit@3.1.1.sh
aria2@1.37.0.sh  entrezdirect@22.6.20240924.sh  gh@2.57.0.sh   mercurial@6.8.1.sh    pigz@2.8.sh           subversion@1.14.3.sh
bzip2@1.0.8.sh   gcc@13.3.0                     git@2.45.2.sh  openjdk@11.0.24_8.sh  rclone@1.68.1.sh      tar@1.34.sh
[spack_cpu@exp-15-56 specs]$ head -n 10 gcc@13.3.0.sh 
#!/usr/bin/env bash

#SBATCH --job-name=gcc@13.3.0
#SBATCH --account=use300
#SBATCH --clusters=expanse
#SBATCH --partition=ind-shared
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=16
#SBATCH --mem=32G
[spack_cpu@exp-15-56 specs]$ sed -i '5 i #SBATCH --reservation=root_73' *.sh
[spack_cpu@exp-15-56 specs]$ head -n 10 gcc@13.3.0.sh 
#!/usr/bin/env bash

#SBATCH --job-name=gcc@13.3.0
#SBATCH --account=use300
#SBATCH --reservation=root_73
#SBATCH --clusters=expanse
#SBATCH --partition=ind-shared
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=16
[spack_cpu@exp-15-56 specs]$
```

```
[spack_cpu@exp-15-56 specs]$ head -n 10 aocc@4.2.0.sh 
#!/usr/bin/env bash

#SBATCH --job-name=aocc@4.2.0
#SBATCH --account=use300
#SBATCH --reservation=root_73
#SBATCH --clusters=expanse
#SBATCH --partition=ind-shared
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=16
[spack_cpu@exp-15-56 specs]$
```

```
[spack_cpu@exp-15-56 specs]$ cd aocc@4.2.0/
[spack_cpu@exp-15-56 aocc@4.2.0]$ ls
adios2@2.10.1.sh            amdlibflame@4.2.sh  gsl@2.8.sh           netcdf-c@4.9.2.sh           py-numpy@1.26.4-i64-omp.sh  python@3.11.9.sh
amdblis@4.2-i64-omp.sh      arrayfire@3.9.0.sh  hdf5@1.14.3.sh       netcdf-cxx4@4.3.1.sh        py-numpy@1.26.4-i64.sh      py-virtualenv@20.26.5.sh
amdblis@4.2-i64.sh          beast2@2.7.7.sh     iq-tree@2.3.6.sh     netcdf-fortran@4.6.1.sh     py-numpy@1.26.4-omp.sh      scotch@7.0.5.sh
amdblis@4.2-omp.sh          boost@1.86.0.sh     libbeagle@3.1.2.sh   netlib-lapack@3.12.0.sh     py-numpy@1.26.4.sh          stream@5.10-omp.sh
amdblis@4.2.sh              cgal@4.13.sh        libbeagle@4.0.1.sh   openblas@0.3.28-i64-omp.sh  py-numpy@2.1.2-i64-omp.sh   stream@5.10.sh
amdfftw@4.2-omp.sh          cgal@5.6.1.sh       libxc@6.2.2.sh       openblas@0.3.28-i64.sh      py-numpy@2.1.2-i64.sh       ucx@1.14.1.sh
amdfftw@4.2.sh              charmpp@6.10.2.sh   metis@5.1.0.sh       openblas@0.3.28-omp.sh      py-numpy@2.1.2-omp.sh
amdlibflame@4.2-i64-omp.sh  eigen@3.4.0.sh      mvapich2@2.3.7-2     openblas@0.3.28.sh          py-numpy@2.1.2.sh
amdlibflame@4.2-i64.sh      fftw@3.3.10-omp.sh  mvapich2@2.3.7-2.sh  openmpi@4.1.8               py-pip@24.2.sh
amdlibflame@4.2-omp.sh      fftw@3.3.10.sh      namd@2.14.sh         openmpi@4.1.8.sh            py-setuptools@75.1.0.sh
[spack_cpu@exp-15-56 aocc@4.2.0]$ head -n 10 mvapich2@2.3.7-2.sh 
#!/usr/bin/env bash

#SBATCH --job-name=mvapich2@2.3.7-2
#SBATCH --account=use300
#SBATCH --clusters=expanse
#SBATCH --partition=ind-shared
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=16
#SBATCH --mem=32G
[spack_cpu@exp-15-56 aocc@4.2.0]$ sed -i '5 i #SBATCH --reservation=root_73' *.sh
[spack_cpu@exp-15-56 aocc@4.2.0]$
```

```
[spack_cpu@exp-15-56 aocc@4.2.0]$ sed -i '5 i #SBATCH --reservation=root_73' *.sh
[spack_cpu@exp-15-56 aocc@4.2.0]$ ls
adios2@2.10.1.sh            amdlibflame@4.2.sh  gsl@2.8.sh           netcdf-c@4.9.2.sh           py-numpy@1.26.4-i64-omp.sh  python@3.11.9.sh
amdblis@4.2-i64-omp.sh      arrayfire@3.9.0.sh  hdf5@1.14.3.sh       netcdf-cxx4@4.3.1.sh        py-numpy@1.26.4-i64.sh      py-virtualenv@20.26.5.sh
amdblis@4.2-i64.sh          beast2@2.7.7.sh     iq-tree@2.3.6.sh     netcdf-fortran@4.6.1.sh     py-numpy@1.26.4-omp.sh      scotch@7.0.5.sh
amdblis@4.2-omp.sh          boost@1.86.0.sh     libbeagle@3.1.2.sh   netlib-lapack@3.12.0.sh     py-numpy@1.26.4.sh          stream@5.10-omp.sh
amdblis@4.2.sh              cgal@4.13.sh        libbeagle@4.0.1.sh   openblas@0.3.28-i64-omp.sh  py-numpy@2.1.2-i64-omp.sh   stream@5.10.sh
amdfftw@4.2-omp.sh          cgal@5.6.1.sh       libxc@6.2.2.sh       openblas@0.3.28-i64.sh      py-numpy@2.1.2-i64.sh       ucx@1.14.1.sh
amdfftw@4.2.sh              charmpp@6.10.2.sh   metis@5.1.0.sh       openblas@0.3.28-omp.sh      py-numpy@2.1.2-omp.sh
amdlibflame@4.2-i64-omp.sh  eigen@3.4.0.sh      mvapich2@2.3.7-2     openblas@0.3.28.sh          py-numpy@2.1.2.sh
amdlibflame@4.2-i64.sh      fftw@3.3.10-omp.sh  mvapich2@2.3.7-2.sh  openmpi@4.1.8               py-pip@24.2.sh
amdlibflame@4.2-omp.sh      fftw@3.3.10.sh      namd@2.14.sh         openmpi@4.1.8.sh            py-setuptools@75.1.0.sh
[spack_cpu@exp-15-56 aocc@4.2.0]$ cd mvapich2@2.3.7-2/
[spack_cpu@exp-15-56 mvapich2@2.3.7-2]$ sed -i '5 i #SBATCH --reservation=root_73' *.sh
[spack_cpu@exp-15-56 mvapich2@2.3.7-2]$ cd ../openmpi@4.1.8/
[spack_cpu@exp-15-56 openmpi@4.1.8]$ sed -i '5 i #SBATCH --reservation=root_73' *.sh
[spack_cpu@exp-15-56 openmpi@4.1.8]$ cd ../
[spack_cpu@exp-15-56 aocc@4.2.0]$ cd ../
[spack_cpu@exp-15-56 specs]$ cd gcc@13.3.0/
[spack_cpu@exp-15-56 gcc@13.3.0]$ sed -i '5 i #SBATCH --reservation=root_73' *.sh
[spack_cpu@exp-15-56 gcc@13.3.0]$ cd mvapich2@2.3.7-2/
[spack_cpu@exp-15-56 mvapich2@2.3.7-2]$ sed -i '5 i #SBATCH --reservation=root_73' *.sh
[spack_cpu@exp-15-56 mvapich2@2.3.7-2]$ cd ../openmpi@4.1.8/
[spack_cpu@exp-15-56 openmpi@4.1.8]$ sed -i '5 i #SBATCH --reservation=root_73' *.sh
[spack_cpu@exp-15-56 openmpi@4.1.8]$ ls
adios2@2.10.1.sh     elpa@2024.03.001.sh  hpl@2.3-i64.sh    namd@2.14.sh               openfoam@2406.sh             raxml@8.2.13.sh
amdfftw@4.2-omp.sh   fftw@3.3.10-omp.sh   hpl@2.3-omp.sh    netcdf-c@4.9.2.sh          osu-micro-benchmarks@7.4.sh  raxml-ng@1.2.2.sh
amdfftw@4.2.sh       fftw@3.3.10.sh       hpl@2.3.sh        netcdf-cxx4@4.3.1.sh       parallel-netcdf@1.13.0.sh    scotch@7.0.5.sh
amdscalapack@4.2.sh  gromacs@2024.3.sh    ior@3.3.0.sh      netcdf-fortran@4.6.1.sh    parmetis@4.0.3.sh            wps@4.6.0.sh
boost@1.86.0.sh      hdf5@1.14.3.sh       iq-tree@2.3.6.sh  netlib-scalapack@2.2.0.sh  py-mpi4py@4.0.0.sh           wrf@4.6.0.sh
charmpp@6.10.2.sh    hpl@2.3-i64-omp.sh   kahip@3.16.sh     neuron@8.2.3.sh            quantum-espresso@7.3.1.sh    zoltan@3.901.sh
[spack_cpu@exp-15-56 openmpi@4.1.8]$ head -n 10 neuron@8.2.3.sh 
#!/usr/bin/env bash

#SBATCH --job-name=neuron@8.2.3
#SBATCH --account=use300
#SBATCH --reservation=root_73
#SBATCH --clusters=expanse
#SBATCH --partition=ind-shared
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=16
[spack_cpu@exp-15-56 openmpi@4.1.8]$
```

```
[spack_cpu@exp-15-56 dev]$ exit
exit
[spack_cpu@login01 ~]$
```
