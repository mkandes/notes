# COMPLECS: Data Storage and Filesystems

Some questions that came up today at the talk:
- Are we going to cover sticky bits and inheritance? ACLs?
- What is the best way to backup data?
- Why so much varability in the Lustre performance?
- Would Spack cause similar problems to conda on certain filesystems?
- Why would colorization in your SHELL environment be a problem?

Ideas for improvement:
- Get representative I/O data from grafana for different filesystems on Expanse
- Create more detailed schematics about how the different filesystems are served from a compute node
- Get data on RAM disk filesystem
- Create conda install benchmark to demonstrate metadata problem; use as a hands-on exercise
- Explore running strace on different Linux commands to show how interacting with different filesystems may involve different numbers of systems calls; e.g., do you see more calls with colorize on/off?
- Gather and present IOR data
- Explore other options we don't typically use with `ls`.

  ```
  [mkandes_test@login01]~% ls -lahtri /boot
total 488M
     1 drwxr-xr-x  2 root root  16K Dec 31  1969 efi
786463 -rw-r--r--  1 root root 6.4K Oct 19  2019 ipxesplash.xpm.gz
786462 -rw-r--r--  1 root root 323K Oct 19  2019 ipxe.lkrn
786441 drwxr-xr-x  3 root root 4.0K May 19  2022 loader
786444 -rw-r--r--  1 root root  172 Nov 16  2023 .vmlinuz-4.18.0-513.5.1.el8_9.x86_64.hmac
786447 -rw-------  1 root root 4.3M Nov 16  2023 System.map-4.18.0-513.5.1.el8_9.x86_64
786450 -rw-r--r--  1 root root 198K Nov 16  2023 config-4.18.0-513.5.1.el8_9.x86_64
786466 -rwxr-xr-x  1 root root  11M Nov 16  2023 vmlinuz-4.18.0-513.5.1.el8_9.x86_64
786445 -rw-r--r--  1 root root  172 Nov 29  2023 .vmlinuz-4.18.0-513.9.1.el8_9.x86_64.hmac
786448 -rw-------  1 root root 4.3M Nov 29  2023 System.map-4.18.0-513.9.1.el8_9.x86_64
786451 -rw-r--r--  1 root root 198K Nov 29  2023 config-4.18.0-513.9.1.el8_9.x86_64
786467 -rwxr-xr-x  1 root root  11M Nov 29  2023 vmlinuz-4.18.0-513.9.1.el8_9.x86_64
786443 -rw-r--r--  1 root root  173 Apr  4  2024 .vmlinuz-4.18.0-513.24.1.el8_9.x86_64.hmac
786446 -rw-------  1 root root 4.3M Apr  4  2024 System.map-4.18.0-513.24.1.el8_9.x86_64
786449 -rw-r--r--  1 root root 198K Apr  4  2024 config-4.18.0-513.24.1.el8_9.x86_64
786465 -rwxr-xr-x  1 root root  11M Apr  4  2024 vmlinuz-4.18.0-513.24.1.el8_9.x86_64
786437 lrwxrwxrwx  1 root root   51 May  2  2024 symvers-4.18.0-513.5.1.el8_9.x86_64.gz -> /lib/modules/4.18.0-513.5.1.el8_9.x86_64/symvers.gz
786458 -rw-r--r--  1 root root  66M May  2  2024 initrd-4.18.0-513.5.1.el8_9.x86_64
786459 -rw-------  1 root root  25M May  2  2024 initrd-4.18.0-513.5.1.el8_9.x86_64.orig
786438 lrwxrwxrwx  1 root root   51 May  3  2024 symvers-4.18.0-513.9.1.el8_9.x86_64.gz -> /lib/modules/4.18.0-513.9.1.el8_9.x86_64/symvers.gz
786460 -rw-r--r--  1 root root  46M May  3  2024 initrd-4.18.0-513.9.1.el8_9.x86_64
786461 -rw-------  1 root root  25M May  3  2024 initrd-4.18.0-513.9.1.el8_9.x86_64.orig
786436 lrwxrwxrwx  1 root root   52 May  3  2024 symvers-4.18.0-513.24.1.el8_9.x86_64.gz -> /lib/modules/4.18.0-513.24.1.el8_9.x86_64/symvers.gz
786464 -rwxr-xr-x  1 root root  11M May  3  2024 vmlinuz-0-rescue-6338b7b66f3f4768a3186694bc39e075
786452 -rw-------  1 root root  78M May  3  2024 initramfs-0-rescue-6338b7b66f3f4768a3186694bc39e075.img
786453 -rw-------  1 root root  32M May  6  2024 initramfs-4.18.0-513.24.1.el8_9.x86_64.img
786454 -rw-------  1 root root  32M May  6  2024 initramfs-4.18.0-513.5.1.el8_9.x86_64.img
786455 -rw-------  1 root root  32M May  6  2024 initramfs-4.18.0-513.9.1.el8_9.x86_64.img
786456 -rw-r--r--  1 root root  71M Jul  1  2024 initrd-4.18.0-513.24.1.el8_9.x86_64
786435 lrwxrwxrwx  1 root root   35 Jul  1  2024 initrd -> initrd-4.18.0-513.24.1.el8_9.x86_64
786439 lrwxrwxrwx  1 root root   36 Jul  1  2024 vmlinuz -> vmlinuz-4.18.0-513.24.1.el8_9.x86_64
786433 dr-xr-xr-x  5 root root 4.0K Jul  1  2024 .
786457 -rw-------  1 root root  30M Jul  1  2024 initrd-4.18.0-513.24.1.el8_9.x86_64.orig
     2 dr-xr-xr-x 23 root root 4.0K May  1 06:33 ..
786440 drwx------  2 root root 4.0K May 15 19:56 grub2
[mkandes_test@login01]~% man ls          
[mkandes_test@login01]~%
```
