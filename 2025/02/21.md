# Setting up Globus Connect Personal (via the Command-Line)

```
[mkandes_test@login01]~/software/globus/releases% wget https://downloads.globus.org/globus-connect-personal/linux/stable/globusconnectpersonal-latest.tgz 
--2025-02-21 08:37:16--  https://downloads.globus.org/globus-connect-personal/linux/stable/globusconnectpersonal-latest.tgz
Resolving downloads.globus.org (downloads.globus.org)... 3.167.212.52, 3.167.212.94, 3.167.212.68, ...
Connecting to downloads.globus.org (downloads.globus.org)|3.167.212.52|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 137061788 (131M) [application/x-tar]
Saving to: ‘globusconnectpersonal-latest.tgz’

globusconnectperson 100%[===================>] 130.71M  31.7MB/s    in 4.5s    

2025-02-21 08:37:22 (29.1 MB/s) - ‘globusconnectpersonal-latest.tgz’ saved [137061788/137061788]

[mkandes_test@login01]~/software/globus/releases%
```

```
[mkandes_test@login01]~/software/globus/releases% tar -xf globusconnectpersonal-latest.tgz
[mkandes_test@login01]~/software/globus/releases% ls
globusconnectpersonal-3.2.6  globusconnectpersonal-latest.tgz
[mkandes_test@login01]~/software/globus/releases% mv globusconnectpersonal-latest.tgz globusconnectpersonal-3.2.6.tgz 
[mkandes_test@login01]~/software/globus/releases% md5sum globusconnectpersonal-3.2.6.tgz > globusconnectpersonal-3.2.6.tgz.md5
[mkandes_test@login01]~/software/globus/releases% sha256sum globusconnectpersonal-3.2.6.tgz > globusconnectpersonal-3.2.6.tgz.sha256
[mkandes_test@login01]~/software/globus/releases% ls
globusconnectpersonal-3.2.6      globusconnectpersonal-3.2.6.tgz.md5
globusconnectpersonal-3.2.6.tgz  globusconnectpersonal-3.2.6.tgz.sha256
[mkandes_test@login01]~/software/globus/releases% cd globusconnectpersonal-3.2.6
[mkandes_test@login01]~/software/globus/releases/globusconnectpersonal-3.2.6% ls
accessPaths.tcl    globusconnectpersonal  option_tile.tcl  UNINSTALL
checked.gif        globusconnect.tcl      README           util
etc                gonew.gif              red.gif          VERSION
gc-ctrl.py         green.gif              tablelist5.9     yellow.gif
_gcp_invokepython  gt_amd64               tclkit
gc.py              images.tcl             TESTING
globusconnect      LICENSE                unchecked.gif
[mkandes_test@login01]~/software/globus/releases/globusconnectpersonal-3.2.6%
```

```
[mkandes_test@login01]~/software/globus/releases/globusconnectpersonal-3.2.6% ./globusconnectpersonal -h    

Usage:
  # Run GUI (performs setup if not already done):
  globusconnectpersonal [ -dir <path> ]

  # Run setup from the command line:
  globusconnectpersonal [ -dir <path> ] -setup <security code>

  # Start without GUI (requires that setup has been run):
  globusconnectpersonal -start|-debug [ -dir <path> ] [ -restrict-paths <string> ] [ -shared-paths <string> ]

  # Manage a running command line instance:
  globusconnectpersonal -stop|-status|-trace [ -dir <path> ]

  # Print version and exit:
  globusconnectpersonal -version

Common Options:
    -dir <path>              specify an alternative directory with
                             configuration files instead of the default
                             $HOME/.globusonline. You can run only one
                             Globus Connect Personal process with the same
                             configuration. Pass this before -setup when
                             creating a new configuration.

    -gui                     Force use of the graphical user interface, even if
                             detection of a graphical environment fails. Does
                             not affect all commands.

CLI Commands:
    -version                 display the version number and exit

    -setup [ARGUMENTS...]    register Globus Connect Personal with Globus.org
                             this calls 'register' with all remaining
                             arguments passed through. Use '-setup --help'
                             for details

    -start                   start Globus Connect Personal and establish connection
    -debug                   start Globus Connect Personal with verbose output
                             to Globus.org
    -stop                    stop Globus Connect Personal
    -pause/-unpause          pause or unpause a running Globus Connect Personal
    -status                  return a status of running Globus Connect Personal
    -trace                   trace a running process of Globus Connect Personal

CLI Options for -start and -debug:
    -restrict-paths <string> A comma separated list of full paths that
                             Globus may access. This will override any paths
                             configured via the GUI. Each path may be prefixed
                             by R and/or W or N, denoting read or write access,
                             or no access. If no prefix is present, RW is
                             assumed. The rules apply to all contents and
                             subdirectories. Order of paths does not matter
                             -- the permissions on the longest matching path
                             will apply.

                             The special character '~' will be replaced by the
                             authenticated user's home directory. Note
                             that if the authenticated user's home
                             directory is not accessible, the home
                             directory and starting path will be set to '/'.

                             Shell globs '*' and '?' and character classes
                             enclosed in '[' and ']' are supported.
                             If a path contains any of these characters, use
                             '\' to escape them. Literal commas must be
                             escaped with the url encoding '%2C', and literal
                             percent must be escaped with '%25'. An implicit
                             rule denying access to dot files in the users
                             home directory is

                             Examples:
                                rw~/
                                    read write access to user's home directory.
                                    This is set as the default when the
                                    application is first run without a
                                    -restrict-paths or -shared-paths option.
                                r/pub
                                    read only access to directory /pub
                                r/a/*.txt
                                    read only access to any file ending in
                                    '.txt' in directory /a
                                r/a/[a-c]?
                                    read only access to any file in /a with
                                    a two character name and beginning with
                                    'a', 'b', or 'c'.
                                rw~/,r/pub,r/dir_containing_a_comma%2C
                                    read write access to user's home directory,
                                    read only access to /pub, and read only
                                    access to '/dir_containing_a_comma,'.

    -shared-paths <string>   A list of paths in the same format as for
                             restrict-paths, but controlling which paths are
                             allowed to be shared. This should be a subset of
                             restrict-paths.
    
[mkandes_test@login01]~/software/globus/releases/globusconnectpersonal-3.2.6%
```

```
[mkandes_test@login01]~/software/globus/releases/globusconnectpersonal-3.2.6% ./globusconnectpersonal -setup --help
usage: register [-h] [--attributes [file:PATH|JSON_DATA]] [-n NAME]
                [--description DESCRIPTION] [--owner OWNER] [-z]
                [--high-assurance] [--atm AUTHENTICATION_TIMEOUT_MINUTES]
                [--setup-key SETUP_KEY] [--environment {preview,production}]
                [SETUP_KEY]

Register a new Globus Connect Personal Endpoint

positional arguments:
  SETUP_KEY             An alias for `--setup-key` for backwards
                        compatibility. This allows you to pass a SETUP_KEY as
                        the only argument. Using the option, `--setup-key` is
                        preferred over this

optional arguments:
  -h, --help            show this help message and exit
  --attributes [file:PATH|JSON_DATA]
                        [Advanced] Additional attributes to send during the
                        Endpoint Create step, as specified in the Endpoint
                        Fields documentation: https://docs.globus.org/api/tran
                        sfer/endpoint/#endpoint_fields .Given either as a raw
                        JSON string, or a path to a JSON file in the format
                        'file:/path/to/data.json'
  -n NAME, --name NAME  Name of the new Endpoint. Required unless '--setup-
                        key' is given
  --description DESCRIPTION
                        Description of the new Endpoint. Required unless '--
                        setup-key' is given
  --owner OWNER         Owner identity ID or username to set as the owner of
                        the Endpoint. This must be one of your identities and
                        defaults to your primary identity
  -z, --auto-description
                        Automatically build a description string for the
                        endpoint based on the detected environment. Will be
                        overridden by `--description` if both are given
  --high-assurance      Make the new Endpoint a High Assurance Endpoint.
                        Requires High Assurance tier subscription. When this
                        option is given, '--authentication-timeout-minutes' is
                        required
  --atm AUTHENTICATION_TIMEOUT_MINUTES, --authentication-timeout-minutes AUTHENTICATION_TIMEOUT_MINUTES
                        Set a High Assurance timeout in minutes for the new
                        Endpoint. This option implies '--high-assurance'
  --setup-key SETUP_KEY
                        [Advanced] If you have a setup key already, you may
                        pass it in. This skips most of the setup and jumps
                        right to relaytool setup. This option is mutually
                        exclusive with --attributes, --name, --owner, --high-
                        assurance, and --authentication-timeout-minutes
  --environment {preview,production}
                        [Advanced] Use a Globus Environment other than
                        production.
[mkandes_test@login01]~/software/globus/releases/globusconnectpersonal-3.2.6%
```

```
[mkandes_test@login01]~/software/globus/releases/globusconnectpersonal-3.2.6% ./globusconnect
Detected that setup has not run yet, and '-setup' was not used
Will now attempt to run
  globusconnectpersonal -setup

Globus Connect Personal needs you to log in to continue the setup process.

We will display a login URL. Copy it into any browser and log in to get a
single-use code. Return to this command with the code to continue setup.

Login here:
-----
https://auth.globus.org/v2/oauth2/authorize?client_id=4d6448ae-8ca0-40e4-aaa9-8ec8e8320621&redirect_uri=https%3A%2F%2Fauth.globus.org%2Fv2%2Fweb%2Fauth-code&scope=openid+profile+urn%3Aglobus%3Aauth%3Ascope%3Aauth.globus.org%3Aview_identity_set+urn%3Aglobus%3Aauth%3Ascope%3Atransfer.api.globus.org%3Agcp_install&state=_default&response_type=code&code_challenge=TJ0_jUkTi-7pwbwoqNRQ&code_challenge_method=S256&access_type=online&prefill_named_grant=login01
-----
Enter the auth code: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

== starting endpoint setup


Input a value for the Endpoint Name: mkandes-test-login01-exp
registered new endpoint, id: 31793f62-f074-11ef-93e7-0affeb6b961d
setup completed successfully

Will now start globusconnectpersonal in GUI mode
Graphical environment not detected

To launch Globus Connect Personal in CLI mode, use
  globusconnectpersonal -start

Or, if you want to force the use of the GUI, use
  globusconnectpersonal -gui
  
[mkandes_test@login01]~/software/globus/releases/globusconnectpersonal-3.2.6%
```

```
[mkandes_test@login01]~/software/globus/releases/globusconnectpersonal-3.2.6% ./globusconnectpersonal -status
Globus Online:   connected
Transfer Status: idle
[mkandes_test@login01]~/software/globus/releases/globusconnectpersonal-3.2.6% 
```

## References
- https://www.globus.org
- https://www.globus.org/globus-connect-personal
- https://docs.globus.org/globus-connect-personal/install/linux/
- https://en.wikipedia.org/wiki/GridFTP
