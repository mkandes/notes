# Update PGP Key

```
mkandes@hardtack:~$ gpg --list-keys
/home/mkandes/.gnupg/pubring.kbx
--------------------------------
pub   rsa4096 2021-01-14 [SC] [expires: 2025-01-14]
      BE249B3DF7D588D90A0399DA3648B690B2B157E4
uid           [ultimate] Marty Kandes <mkandes@sdsc.edu>
sub   rsa4096 2021-01-14 [E] [expires: 2025-01-14]

pub   rsa4064 2019-03-14 [SC] [expired: 2024-03-17]
      65566730F9DA512291E263089C47D4DBF549007A
uid           [ expired] Jeff Makey <jeff@sdsc.edu>

pub   rsa4096 2016-07-18 [SC] [expires: 2026-07-16]
      6FD963EBDBFCF8BF1D5470ADF5990C9776745B02
uid           [  full  ] Scott Sakai (Supersedes 587AD228) <ssakai@sdsc.edu>
sub   rsa4096 2016-07-18 [E] [expires: 2026-07-16]

pub   rsa4096 2016-03-24 [SC] [expired: 2023-01-16]
      2CA999800D11C5946C9DBFEE52364D7BBCEB35B8
uid           [ expired] Trevor Cooper <tcooper@sdsc.edu>
uid           [ expired] Trevor Cooper <tcooper@ucsd.edu>
uid           [ expired] Trevor Cooper <tcooper@rockylinux.org>

pub   rsa4096 2015-12-18 [SC] [expired: 2024-12-18]
      5A718B2D398825674F5284EC850F759FD88AA325
uid           [ expired] Dmitry Mishin <dmishin@sdsc.edu>
uid           [ expired] Dmitry Mishin <dmishin@ucsd.edu>

pub   rsa3072 2020-03-17 [SC] [expired: 2022-03-17]
      402E2B5973ABF210C512969793F180E457993607
uid           [ expired] Haisong Cai <cai@sdsc.edu>

pub   rsa4096 2021-01-14 [SC]
      0F2F316B470129CDF01C58530F8E73A4F8AC9908
uid           [ unknown] Christopher Irving <cirving@ucsd.edu>
uid           [  full  ] Christopher Irving <cirving@sdsc.edu>
sub   rsa4096 2021-01-14 [E]

pub   rsa4096 2021-01-14 [SC]
      ABA90A2E64D9B2603C0FA99B4270BD10BF0FF37B
uid           [  full  ] Thomas Hutton (gmail) <thomas.e.hutton@gmail.com>
uid           [  full  ] Thomas Hutton <hutton@sdsc.edu>
uid           [  full  ] Thomas Hutton <hutton@ucsd.edu>
sub   rsa4096 2021-01-14 [E]

pub   rsa2048 2021-01-14 [SC] [expires: 2026-01-13]
      4C9D98C92A048C67E2CA5B1869340F1B2BF4E6CC
uid           [  full  ] Hocks <ehocks@ucsd.edu>
sub   rsa2048 2021-01-14 [E] [expires: 2026-01-13]

pub   rsa2048 2021-01-14 [SC] [expires: 2026-01-13]
      825DE567F912242D79310FE2F5782261C6EF74B9
uid           [  full  ] Fernando Silva <silvaf@sdsc.edu>
sub   rsa2048 2021-01-14 [E] [expires: 2026-01-13]

pub   rsa2048 2021-01-14 [SC] [expires: 2026-01-13]
      C36A12D8E896373CA823023F0703346DE79A5234
uid           [  full  ] Jerry Greenberg <jpg@sdsc.edu>
sub   rsa2048 2021-01-14 [E] [expires: 2026-01-13]

pub   rsa4096 2021-01-14 [SC] [expires: 2025-01-14]
      7DAF3E8B0925C336C91C13ED2DFDFEDEDC5B7179
uid           [  full  ] Mahidhar Tatineni (csnsuperh) <mahidhar@sdsc.edu>
sub   rsa4096 2021-01-14 [E] [expires: 2025-01-14]

pub   ed25519 2018-11-30 [SC]
      248097092B458509C508DAC0350585C4E9518F26
uid           [ unknown] proton@srp.modulus
sub   cv25519 2018-11-30 [E]

mkandes@hardtack:~$ gpg --refresh-keys
gpg: connecting dirmngr at '/run/user/1001/gnupg/S.dirmngr' failed: IPC connect call failed
gpg: keyserver refresh failed: No dirmngr
mkandes@hardtack:~$
```

```
mkandes@hardtack:~$ sudo apt-get install dirmngr
[sudo] password for mkandes: 
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
dirmngr is already the newest version (2.2.27-3ubuntu2.1).
The following packages were automatically installed and are no longer required:
  libsqlcipher0 python3-proton-keyring-linux-secretservice
  python3-proton-vpn-connection python3-proton-vpn-killswitch
  python3-proton-vpn-killswitch-network-manager
  python3-proton-vpn-killswitch-network-manager-wireguard
  python3-proton-vpn-logger python3-proton-vpn-network-manager-openvpn
  python3-proton-vpn-network-manager-wireguard python3-proton-vpn-session
  python3-tabulate
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
mkandes@hardtack:~$
```

```
kandes@hardtack:~/.gnupg$ ls -lahtr
total 3.1M
-rw-------  1 mkandes mkandes   41 Jan 14  2021 gpg-agent.conf
-rw-------  1 mkandes mkandes   34 Jun  1  2022 gpg.conf
-rw-------  1 mkandes mkandes    7 Jun  1  2022 reader_0.status
-rw-------  1 mkandes mkandes  105 Jun  1  2022 dirmngr.conf
-rw-------  1 mkandes mkandes  48K Jun  1  2022 tofu.db
-rw-r--r--  1 mkandes mkandes   24 Jun  1  2022 .#lk0x0000600001170420.castleyankee.13428
drwx------  2 mkandes mkandes 4.0K Jun  4  2022 private-keys-v1.d
drw-------  2 mkandes mkandes 4.0K Jun  4  2022 openpgp-revocs.d
-rw-r--r--  1 mkandes mkandes 4.0K Jun  4  2022 ._gpg.conf
drw-------  2 mkandes mkandes 4.0K Jun  4  2022 crls.d
-rw-r--r--  1 mkandes mkandes   20 Jun 29  2022 .#lk0x0000564a6ca32f20.hardtack.12749
-rw-------  1 mkandes mkandes  42K Jun 29  2022 pubring.kbx~
-rw-------  1 mkandes mkandes  42K Apr  6  2024 pubring.kbx
-rw-------  1 mkandes mkandes  600 Apr  6  2024 random_seed
-rw-r--r--  1 mkandes mkandes   20 Sep 24 15:27 .#lk0x00005c1a56b6fa70.hardtack.354998
-rw-r--r--  1 mkandes mkandes   20 Sep 24 15:28 .#lk0x0000630cb54de280.hardtack.355121
-rw-------  1 mkandes mkandes 2.1K Dec 19 06:59 trustdb.gpg
-rw-r--r--  1 mkandes mkandes   20 Jan  6 18:44 .#lk0x00006241576a9280.hardtack.43294
-rw-r--r--  1 mkandes mkandes   20 Jan  6 18:45 .#lk0x000057ed9167d280.hardtack.43343
drwxr-xr-x 30 mkandes mkandes 2.9M Jan 13 10:53 ..
drwx------  5 mkandes mkandes 4.0K Jan 13 10:58 .
mkandes@hardtack:~/.gnupg$ cat dirmngr.conf 
keyserver hkps://keys.openpgp.org
standard-resolver
debug-level guru
debug-all
log-file /tmp/dirmngr.log
mkandes@hardtack:~/.gnupg$ cat /tmp/dirmngr.log
2025-01-13 10:54:03 dirmngr[24990.0] permanently loaded certificates: 147
2025-01-13 10:54:03 dirmngr[24990.0]     runtime cached certificates: 0
2025-01-13 10:54:03 dirmngr[24990.0]            trusted certificates: 147 (146,0,0,1)
2025-01-13 10:54:03 dirmngr[24990.0] failed to open cache dir file '/home/mkandes/.gnupg/crls.d/DIR.txt': Permission denied
2025-01-13 10:54:03 dirmngr[24990.0] error creating new cache dir file '/home/mkandes/.gnupg/crls.d/DIR.txt': Permission denied
2025-01-13 10:54:03 dirmngr[24990.0] Fatal: failed to create a new cache object: Configuration error
2025-01-13 10:54:03 dirmngr[24991.0] permanently loaded certificates: 147
2025-01-13 10:54:03 dirmngr[24991.0]     runtime cached certificates: 0
2025-01-13 10:54:03 dirmngr[24991.0]            trusted certificates: 147 (146,0,0,1)
2025-01-13 10:54:03 dirmngr[24991.0] failed to open cache dir file '/home/mkandes/.gnupg/crls.d/DIR.txt': Permission denied
2025-01-13 10:54:03 dirmngr[24991.0] error creating new cache dir file '/home/mkandes/.gnupg/crls.d/DIR.txt': Permission denied
2025-01-13 10:54:03 dirmngr[24991.0] Fatal: failed to create a new cache object: Configuration error
2025-01-13 10:54:03 dirmngr[24993.0] permanently loaded certificates: 147
2025-01-13 10:54:03 dirmngr[24993.0]     runtime cached certificates: 0
2025-01-13 10:54:03 dirmngr[24993.0]            trusted certificates: 147 (146,0,0,1)
2025-01-13 10:54:03 dirmngr[24993.0] failed to open cache dir file '/home/mkandes/.gnupg/crls.d/DIR.txt': Permission denied
2025-01-13 10:54:03 dirmngr[24993.0] error creating new cache dir file '/home/mkandes/.gnupg/crls.d/DIR.txt': Permission denied
2025-01-13 10:54:03 dirmngr[24993.0] Fatal: failed to create a new cache object: Configuration error
2025-01-13 10:54:03 dirmngr[24994.0] permanently loaded certificates: 147
2025-01-13 10:54:03 dirmngr[24994.0]     runtime cached certificates: 0
2025-01-13 10:54:03 dirmngr[24994.0]            trusted certificates: 147 (146,0,0,1)
2025-01-13 10:54:03 dirmngr[24994.0] failed to open cache dir file '/home/mkandes/.gnupg/crls.d/DIR.txt': Permission denied
2025-01-13 10:54:03 dirmngr[24994.0] error creating new cache dir file '/home/mkandes/.gnupg/crls.d/DIR.txt': Permission denied
2025-01-13 10:54:03 dirmngr[24994.0] Fatal: failed to create a new cache object: Configuration error
2025-01-13 10:54:03 dirmngr[24995.0] permanently loaded certificates: 147
2025-01-13 10:54:03 dirmngr[24995.0]     runtime cached certificates: 0
2025-01-13 10:54:03 dirmngr[24995.0]            trusted certificates: 147 (146,0,0,1)
2025-01-13 10:54:03 dirmngr[24995.0] failed to open cache dir file '/home/mkandes/.gnupg/crls.d/DIR.txt': Permission denied
2025-01-13 10:54:03 dirmngr[24995.0] error creating new cache dir file '/home/mkandes/.gnupg/crls.d/DIR.txt': Permission denied
2025-01-13 10:54:03 dirmngr[24995.0] Fatal: failed to create a new cache object: Configuration error
2025-01-13 10:54:03 dirmngr[24999] listening on socket '/run/user/1001/gnupg/S.dirmngr'
2025-01-13 10:54:03 dirmngr[25000.0] permanently loaded certificates: 147
2025-01-13 10:54:03 dirmngr[25000.0]     runtime cached certificates: 0
2025-01-13 10:54:03 dirmngr[25000.0]            trusted certificates: 147 (146,0,0,1)
2025-01-13 10:54:03 dirmngr[25000.0] failed to open cache dir file '/home/mkandes/.gnupg/crls.d/DIR.txt': Permission denied
2025-01-13 10:54:03 dirmngr[25000.0] error creating new cache dir file '/home/mkandes/.gnupg/crls.d/DIR.txt': Permission denied
2025-01-13 10:54:03 dirmngr[25000.0] Fatal: failed to create a new cache object: Configuration error
2025-01-13 10:58:47 dirmngr[25494] listening on socket '/run/user/1001/gnupg/S.dirmngr'
2025-01-13 10:58:47 dirmngr[25495.0] permanently loaded certificates: 147
2025-01-13 10:58:47 dirmngr[25495.0]     runtime cached certificates: 0
2025-01-13 10:58:47 dirmngr[25495.0]            trusted certificates: 147 (146,0,0,1)
2025-01-13 10:58:47 dirmngr[25495.0] failed to open cache dir file '/home/mkandes/.gnupg/crls.d/DIR.txt': Permission denied
2025-01-13 10:58:47 dirmngr[25495.0] error creating new cache dir file '/home/mkandes/.gnupg/crls.d/DIR.txt': Permission denied
2025-01-13 10:58:47 dirmngr[25495.0] Fatal: failed to create a new cache object: Configuration error
mkandes@hardtack:~/.gnupg$
```

```
mkandes@hardtack:~/.gnupg$ ls -lahtr crls.d/
ls: cannot access 'crls.d/DIR.txt': Permission denied
ls: cannot access 'crls.d/.': Permission denied
ls: cannot access 'crls.d/..': Permission denied
total 0
-????????? ? ? ? ?            ? DIR.txt
d????????? ? ? ? ?            ? ..
d????????? ? ? ? ?            ? .
mkandes@hardtack:~/.gnupg$
```

## Reference(s):
- https://www.ryanchapin.com/creating-updating-expiration-of-and-posting-pgp-keys
- https://help.riseup.net/en/security/message-security/openpgp/best-practices
- https://frank.sauerburger.io/2020/01/15/openpgp-keyservers.html
- https://unix.stackexchange.com/questions/656205/sks-keyservers-gone-what-to-use-instead
