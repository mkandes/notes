# How to install and run MLCFlow (on Expanse)

### Option 1: Using JupyterLab for interactive development and testing

Before starting a new interactive development session to continue your MLCFlow exploration and testing work, you may want to first remove cached configuration and log information placed in your HOME directory.

*COMMAND*
```
rm -rf .galyleo/ .conda/ .nv/ .local/ .ipython/ .jupyter/ .cache/ .mlc-log.txt mlc-run-script-versions.json version_info.json hardware/
```
*OUTPUT*

```
N/A
```

Make any final changes to your conda environment YAML file prior to launching your JupyterLab with galyleo.

*FILE*
```
name: mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu

channels:
  - conda-forge

dependencies:
  - python=3.12
  - pip
  - wheel
  - numpy=1.26.4=py312heda63a1_0
  - opencv=4.11.0=headless_py312hcb6eebc_9
  - pillow=11.2.1=py312h80c1187_0
  - onnxruntime=1.22.0=py312h2a9cbd2_0_cpu
  - jupyterlab
  - matplotlib
  - networkx
#  - pip:
#    - mlcommons-loadgen==5.1.0

variables:
  ENV_VAR_X: 'MLC_REPOS'
```

When ready, launch your JupyterLab session on Expanse with galyleo. First, make sure galyleo is in your PATH.


*COMMAND*
```
export PATH="/cm/shared/apps/sdsc/galyleo:${PATH}"
```
*OUTPUT*
```
N/A
```

Then run your launch command.

*COMMAND*
```
galyleo launch --account use300 --partition ind-compute --cpus 128 --memory 242 --time-limit 08:00:00 --conda-yml mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu.yaml
```
*OUTPUT*
```
[mkandes@login02 ~]$ galyleo launch --account use300 --partition ind-compute --cpus 128 --memory 242 --time-limit 08:00:00 --conda-yml mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu.yaml
Preparing galyleo for launch into Jupyter orbit ...
Listing all launch parameters ...
  command-line options       : values
    -A | --account           : use300
    -R | --reservation       : 
    -p | --partition         : ind-compute
    -q | --qos               : 
    -N | --nodes             : 1
    -c | --cpus              : 128
    -m | --memory            : 242 GB
    -g | --gpus              : 
       | --gres              : 
    -t | --time-limit        : 08:00:00
    -C | --constraint        : 
    -i | --interface         : lab
    -d | --notebook-dir      : 
       | --scratch-dir       : "/scratch/${USER}/job_${SLURM_JOB_ID}"
    -e | --env-modules       : singularitypro
       | --append-modulepath : 
    -s | --sif               : 
    -B | --bind              : 
       | --nv                : 
       | --conda-init        : 
       | --conda-env         : 
       | --conda-yml         : /home/mkandes/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu.yaml
       | --conda-version     : latest
       | --mamba             : false
       | --cache             : false
       | --spark-home        : 
       | --disable-checklist : false
       | --checklist-timeout : 10 s
    -Q | --quiet             : 1
Your token is 
monotone-sincere-slouchy
200
Generating Jupyter launch script ...
md5sum: mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu.md5: No such file or directory
Submitted Jupyter launch script to Slurm. Your SLURM_JOB_ID is 40829790.
Success! Token linked to jobid.
Please copy and paste the HTTPS URL provided below into your web browser.
Do not share this URL with others. It is the password to your Jupyter notebook session.
Your Jupyter notebook session will begin once compute resources are allocated to your job by the scheduler.
https://monotone-sincere-slouchy.expanse-user-content.sdsc.edu/?token=4186c3a33f9fc6fdad5f
[mkandes@login02 ~]$
```

When your JupyterLab session begins, you can use the Terminal application to interactively develop and test your MLCFlow deployment and MLPerf Inference Benchmark. To speed up your development process, make sure to set the following environment variable before installing MLCFlow to redirect the caching of your MLCFlow repo(s) to the local /scratch disk available on each Expanse compute node.

*COMMAND*
```
export MLC_REPOS="${SLURM_TMPDIR}/MLC/repos"
```
*OUTPUT*
```
N/A
```

Next, install MLCFlow with pip.

*COMMAND*
```
pip install mlcflow
```
*OUTPUT*
```
[mkandes@exp-15-02 ~]$ pip install mlcflow
Collecting mlcflow
  Downloading mlcflow-1.0.18-py3-none-any.whl.metadata (19 kB)
Requirement already satisfied: requests in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from mlcflow) (2.32.4)
Requirement already satisfied: pyyaml in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from mlcflow) (6.0.2)
Collecting giturlparse (from mlcflow)
  Downloading giturlparse-0.12.0-py2.py3-none-any.whl.metadata (4.5 kB)
Collecting colorama (from mlcflow)
  Downloading colorama-0.4.6-py2.py3-none-any.whl.metadata (17 kB)
Requirement already satisfied: charset_normalizer<4,>=2 in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from requests->mlcflow) (3.4.2)
Requirement already satisfied: idna<4,>=2.5 in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from requests->mlcflow) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from requests->mlcflow) (2.5.0)
Requirement already satisfied: certifi>=2017.4.17 in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from requests->mlcflow) (2025.6.15)
Downloading mlcflow-1.0.18-py3-none-any.whl (47 kB)
Downloading colorama-0.4.6-py2.py3-none-any.whl (25 kB)
Downloading giturlparse-0.12.0-py2.py3-none-any.whl (15 kB)
Installing collected packages: giturlparse, colorama, mlcflow
Successfully installed colorama-0.4.6 giturlparse-0.12.0 mlcflow-1.0.18
[mkandes@exp-15-02 ~]$
```

Run the following mlc command to check the install is working and that the repos will be cached to local /scratch.
*COMMAND*
```
mlc list repo
```
*OUTPUT*
```
[mkandes@exp-15-02 ~]$ mlc list repo
[2025-07-02 07:35:37,985 action.py:194 INFO] - Created repos.json in /scratch/mkandes/job_40829790/MLC and initialised with local cache folder path: /scratch/mkandes/job_40829790/MLC/repos/local
[2025-07-02 07:35:37,994 repo_action.py:467 INFO] - Listing all repositories.

Repositories:
-------------
- Alias: local
  Path:  /scratch/mkandes/job_40829790/MLC/repos/local

-------------
[2025-07-02 07:35:37,995 repo_action.py:474 INFO] - Repository listing ended
[mkandes@exp-15-02 ~]$
```

Now, prior to installing the mlc-scripts to run your MLPerf inference benchmark testing, use the interactive session in your JupyterLab Terminal to consider what other software packages you may want to try and install via conda (in order to prevent and/or override MLCFlow from attempting to install these packages for you). For example, 
you can easily search for additional conda packages available in the conda-forge (and nvidia) channel(s) with the following command.

*COMMAND*
```
conda search cuda-nvcc -c conda-forge -c nvidia
```
*OUTPUT*
```
[mkandes@exp-15-02 ~]$ conda search cuda-nvcc -c conda-forge -c nvidia
Loading channels: done
# Name                       Version           Build  Channel             
cuda-nvcc                    11.3.58      h2467b9f_0  nvidia              
cuda-nvcc                    11.4.48               0  nvidia              
cuda-nvcc                    11.4.48      h7efc363_0  nvidia              
cuda-nvcc                   11.4.100               0  nvidia              
cuda-nvcc                   11.4.100      hcdea6f0_0  nvidia              
cuda-nvcc                   11.4.120               0  nvidia              
cuda-nvcc                   11.4.120      hf9cfa5c_0  nvidia              
....    
cuda-nvcc                    12.8.93      hcdd1206_1  conda-forge         
cuda-nvcc                    12.8.93      hcdd1206_2  conda-forge         
cuda-nvcc                    12.9.41               0  nvidia              
cuda-nvcc                    12.9.41      hcdd1206_0  conda-forge         
cuda-nvcc                    12.9.86               0  nvidia              
cuda-nvcc                    12.9.86      hcdd1206_0  conda-forge         
cuda-nvcc                    12.9.86      hcdd1206_1  conda-forge         
[mkandes@exp-15-02 ~]$
```
You can also search and compare information about available conda packages via the web at https://anaconda.org/search. Please try to avoid using software packages from the defaults conda channel to avoid future licensing issues: https://www.anaconda.com/legal

Once you're ready to begin testing your MLPerf inference benchmark with MLCFlow, install the mlc-scripts package via pip.
*COMMAND*
```
pip install mlc-scripts
```
*OUTPUT*
```
[mkandes@exp-15-02 ~]$ pip install mlc-scripts
Collecting mlc-scripts
  Downloading mlc_scripts-1.0.2.tar.gz (9.5 kB)
  Installing build dependencies ... done
  Getting requirements to build wheel ... done
  Preparing metadata (pyproject.toml) ... done
Requirement already satisfied: requests in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from mlc-scripts) (2.32.4)
Requirement already satisfied: pyyaml in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from mlc-scripts) (6.0.2)
Requirement already satisfied: mlcflow in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from mlc-scripts) (1.0.18)
Requirement already satisfied: giturlparse in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from mlc-scripts) (0.12.0)
Requirement already satisfied: colorama in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from mlcflow->mlc-scripts) (0.4.6)
Requirement already satisfied: charset_normalizer<4,>=2 in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from requests->mlc-scripts) (3.4.2)
Requirement already satisfied: idna<4,>=2.5 in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from requests->mlc-scripts) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from requests->mlc-scripts) (2.5.0)
Requirement already satisfied: certifi>=2017.4.17 in /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/lib/python3.12/site-packages (from requests->mlc-scripts) (2025.6.15)
Building wheels for collected packages: mlc-scripts
  Building wheel for mlc-scripts (pyproject.toml) ... done
  Created wheel for mlc-scripts: filename=mlc_scripts-1.0.2-py3-none-any.whl size=10680 sha256=6ff914c2732a5007f815ba97602933a0ad06558de10113182739c89cf8b42c03
  Stored in directory: /home/mkandes/.cache/pip/wheels/4c/06/ad/c56a795f2455e99e3a9a19db8d865da0cd1592a7d6e5a2e7c2
Successfully built mlc-scripts
Installing collected packages: mlc-scripts
Successfully installed mlc-scripts-1.0.2
[mkandes@exp-15-02 ~]$ 
```

You can check that the mlc-scripts (mlperf-automations) repo was also installed in your MLCFlow cache on local scratch with the following mlc command again.

*COMMAND*
```
mlc list repo
```
*OUTPUT*
```
[mkandes@exp-15-02 ~]$ mlc list repo
[2025-07-02 07:55:40,686 repo_action.py:467 INFO] - Listing all repositories.

Repositories:
-------------
- Alias: local
  Path:  /scratch/mkandes/job_40829790/MLC/repos/local

- Alias: mlcommons@mlperf-automations
  Path:  /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations

-------------
[2025-07-02 07:55:40,686 repo_action.py:474 INFO] - Repository listing ended
[mkandes@exp-15-02 ~]$
```

And finally, to force MLCFlow use the copy of Python from the conda environment YAML file that created the software environment for your JupyterLab session, run the following mlc command.
*COMMAND*
```
mlc run script --tags="get,python,python3,get-python,get-python3,_custom-path.$(which python)"
```
*OUTPUT*
```
[mkandes@exp-15-02 ~]$ mlc run script --tags="get,python,python3,get-python,get-python3,_custom-path.$(which python)"
[2025-07-02 08:02:08,476 module.py:576 INFO] - * mlcr get,python,python3,get-python,get-python3,_custom-path./scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/bin/python
[2025-07-02 08:02:08,491 module.py:5128 INFO] -        ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-python3_256c8ab7
[2025-07-02 08:02:08,491 module.py:5129 INFO] -        ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-python3/run.sh from tmp-run.sh
[2025-07-02 08:02:08,503 module.py:5274 INFO] -        ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-python3/customize.py
[2025-07-02 08:02:08,505 customize.py:69 INFO] -       Detected version: 3.12.11
[2025-07-02 08:02:08,519 module.py:2166 INFO] -   - cache UID: 256c8ab7c5c340be
[2025-07-02 08:02:08,519 module.py:2241 INFO] - Path to Python: /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/bin/python
[2025-07-02 08:02:08,519 module.py:2241 INFO] - Python version: 3.12.11
[mkandes@exp-15-02 ~]$ 
```

You're now ready to run your MLPerf inference benchmark, or at least try to get it running. ;-)

*COMMAND*
```
mlc run script --tags="run-mlperf,inference,_find-performance,_full,_r5.0-dev" --model=resnet50 --implementation=reference --framework=onnxruntime --category=edge --scenario=Offline --execution_mode=test --device=cpu --quiet --test_query_count=1000 --rerun
```
*OUTPUT*
```
[mkandes@exp-15-02 ~]$ mlc run script --tags="run-mlperf,inference,_find-performance,_full,_r5.0-dev" --model=resnet50 --implementation=reference --framework=onnxru
ntime --category=edge --scenario=Offline --execution_mode=test --device=cpu --quiet --test_query_count=1000 --rerun
[2025-07-02 08:07:02,469 module.py:576 INFO] - * mlcr run-mlperf,inference,_find-performance,_full,_r5.0-dev
[2025-07-02 08:07:02,506 module.py:576 INFO] -   * mlcr detect,os
[2025-07-02 08:07:02,517 module.py:5128 INFO] -          ! cd /home/mkandes
[2025-07-02 08:07:02,517 module.py:5129 INFO] -          ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:07:02,619 module.py:5274 INFO] -          ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:07:02,681 module.py:576 INFO] -   * mlcr detect,cpu
[2025-07-02 08:07:02,724 module.py:576 INFO] -     * mlcr detect,os
[2025-07-02 08:07:02,734 module.py:5128 INFO] -            ! cd /home/mkandes
[2025-07-02 08:07:02,734 module.py:5129 INFO] -            ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:07:02,819 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:07:02,856 module.py:5128 INFO] -          ! cd /home/mkandes
[2025-07-02 08:07:02,856 module.py:5129 INFO] -          ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-cpu/run.sh from tmp-run.sh
[2025-07-02 08:07:03,080 module.py:5274 INFO] -          ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-cpu/customize.py
[2025-07-02 08:07:03,198 module.py:576 INFO] -   * mlcr get,python3
[2025-07-02 08:07:03,199 module.py:1285 INFO] -        ! load /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-python3_256c8ab7/mlc-cached-state.json
[2025-07-02 08:07:03,199 module.py:2241 INFO] - Path to Python: /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/bin/python
[2025-07-02 08:07:03,199 module.py:2241 INFO] - Python version: 3.12.11
[2025-07-02 08:07:03,254 module.py:576 INFO] -   * mlcr get,mlcommons,inference,src
[2025-07-02 08:07:03,276 module.py:576 INFO] -     * mlcr detect,os
[2025-07-02 08:07:03,279 module.py:5128 INFO] -            ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-mlperf-inference-src_c7a51a81
[2025-07-02 08:07:03,279 module.py:5129 INFO] -            ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:07:03,312 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:07:03,331 module.py:576 INFO] -     * mlcr get,python3
[2025-07-02 08:07:03,332 module.py:1285 INFO] -          ! load /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-python3_256c8ab7/mlc-cached-state.json
[2025-07-02 08:07:03,332 module.py:2241 INFO] - Path to Python: /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/bin/python
[2025-07-02 08:07:03,332 module.py:2241 INFO] - Python version: 3.12.11
[2025-07-02 08:07:03,349 module.py:576 INFO] -     * mlcr get,git,repo,_branch.master,_repo.https://github.com/mlcommons/inference
[2025-07-02 08:07:03,380 module.py:576 INFO] -       * mlcr detect,os
[2025-07-02 08:07:03,384 module.py:5128 INFO] -              ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-git-repo_inference-src_cf9867e2
[2025-07-02 08:07:03,384 module.py:5129 INFO] -              ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:07:03,417 module.py:5274 INFO] -              ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:07:03,432 module.py:5128 INFO] -            ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-git-repo_inference-src_cf9867e2
[2025-07-02 08:07:03,432 module.py:5129 INFO] -            ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-git-repo/run.sh from tmp-run.sh
/scratch/mkandes/job_40829790/MLC/repos/local/cache/get-git-repo_inference-src_cf9867e2
rm -rf inference
******************************************************
Current directory: /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-git-repo_inference-src_cf9867e2

Cloning inference from https://github.com/mlcommons/inference

git clone  -b master https://github.com/mlcommons/inference --depth 5 inference

Cloning into 'inference'...
remote: Enumerating objects: 909, done.
remote: Counting objects: 100% (909/909), done.
remote: Compressing objects: 100% (723/723), done.
remote: Total 909 (delta 214), reused 528 (delta 119), pack-reused 0 (from 0)
Receiving objects: 100% (909/909), 33.19 MiB | 49.61 MiB/s, done.
Resolving deltas: 100% (214/214), done.
git rev-parse HEAD >> ../tmp-mlc-git-hash.out
[2025-07-02 08:07:05,000 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-git-repo/customize.py
[2025-07-02 08:07:05,026 module.py:2166 INFO] -       - cache UID: cf9867e2dd0a446f
[2025-07-02 08:07:05,026 module.py:2241 INFO] - MLC cache path to the Git repo: /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-git-repo_inference-src_cf9867e2/inference
[2025-07-02 08:07:05,026 module.py:5274 INFO] -          ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-mlperf-inference-src/customize.py
[2025-07-02 08:07:05,072 module.py:2166 INFO] -     - cache UID: c7a51a81d904447f
[2025-07-02 08:07:05,127 module.py:576 INFO] -   * mlcr get,sut,description
[2025-07-02 08:07:05,155 module.py:576 INFO] -     * mlcr detect,os
[2025-07-02 08:07:05,166 module.py:5128 INFO] -            ! cd /home/mkandes
[2025-07-02 08:07:05,166 module.py:5129 INFO] -            ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:07:05,273 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:07:05,325 module.py:576 INFO] -     * mlcr detect,cpu
[2025-07-02 08:07:05,355 module.py:576 INFO] -       * mlcr detect,os
[2025-07-02 08:07:05,366 module.py:5128 INFO] -              ! cd /home/mkandes
[2025-07-02 08:07:05,366 module.py:5129 INFO] -              ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:07:05,457 module.py:5274 INFO] -              ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:07:05,509 module.py:5128 INFO] -            ! cd /home/mkandes
[2025-07-02 08:07:05,509 module.py:5129 INFO] -            ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-cpu/run.sh from tmp-run.sh
[2025-07-02 08:07:05,758 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-cpu/customize.py
[2025-07-02 08:07:05,850 module.py:576 INFO] -     * mlcr get,python3
[2025-07-02 08:07:05,851 module.py:1285 INFO] -          ! load /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-python3_256c8ab7/mlc-cached-state.json
[2025-07-02 08:07:05,851 module.py:2241 INFO] - Path to Python: /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/bin/python
[2025-07-02 08:07:05,851 module.py:2241 INFO] - Python version: 3.12.11
[2025-07-02 08:07:05,895 module.py:576 INFO] -     * mlcr get,compiler
[2025-07-02 08:07:05,946 module.py:576 INFO] -       * mlcr install,llvm,prebuilt
[2025-07-02 08:07:05,969 module.py:576 INFO] -         * mlcr detect,os
[2025-07-02 08:07:05,972 module.py:5128 INFO] -                ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/install-llvm-prebuilt_ec8257b5
[2025-07-02 08:07:05,972 module.py:5129 INFO] -                ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:07:06,007 module.py:5274 INFO] -                ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:07:06,027 customize.py:23 INFO] -           # Requested version: 15.0.6
[2025-07-02 08:07:06,028 customize.py:171 INFO] -           # Prepared package URL: https://github.com/llvm/llvm-project/releases/download/llvmorg-15.0.6/clang+llvm-15.0.6-x86_64-linux-gnu-ubuntu-18.04.tar.xz
[2025-07-02 08:07:06,028 customize.py:173 INFO] - 
[2025-07-02 08:07:06,028 customize.py:174 INFO] - Downloading from https://github.com/llvm/llvm-project/releases/download/llvmorg-15.0.6/clang+llvm-15.0.6-x86_64-linux-gnu-ubuntu-18.04.tar.xz ...
Downloading to /scratch/mkandes/job_40829790/MLC/repos/local/cache/install-llvm-prebuilt_ec8257b5/clang+llvm-15.0.6-x86_64-linux-gnu-ubuntu-18.04.tar.xz

Downloaded: 100%
[2025-07-02 08:07:08,063 module.py:5128 INFO] -              ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/install-llvm-prebuilt_ec8257b5
[2025-07-02 08:07:08,064 module.py:5129 INFO] -              ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/install-llvm-prebuilt/run.sh from tmp-run.sh

Unarchiving clang+llvm-15.0.6-x86_64-linux-gnu-ubuntu-18.04.tar.xz ...
```
```
Downloading to /scratch/mkandes/job_40829790/MLC/repos/local/cache/install-llvm-prebuilt_ec8257b5/clang+llvm-15.0.6-x86_64-linux-gnu-ubuntu-18.04.tar.xz

Downloaded: 100%
[2025-07-02 08:07:08,063 module.py:5128 INFO] -              ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/install-llvm-prebuilt_ec8257b5
[2025-07-02 08:07:08,064 module.py:5129 INFO] -              ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/install-llvm-prebuilt/run.sh from tmp-run.sh

Unarchiving clang+llvm-15.0.6-x86_64-linux-gnu-ubuntu-18.04.tar.xz ...
[2025-07-02 08:08:06,789 module.py:5274 INFO] -              ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/install-llvm-prebuilt/customize.py
[2025-07-02 08:08:06,818 module.py:2166 INFO] -         - cache UID: ec8257b5bd0d4fd5
[2025-07-02 08:08:06,819 module.py:5128 INFO] -            ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-llvm_ba8ed0f3
[2025-07-02 08:08:06,819 module.py:5129 INFO] -            ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-llvm/run.sh from tmp-run.sh
[2025-07-02 08:08:06,856 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-llvm/customize.py
[2025-07-02 08:08:06,858 customize.py:61 INFO] -         Detected version: 15.0.6
[2025-07-02 08:08:06,888 module.py:576 INFO] -     * mlcr get,compiler-flags
[2025-07-02 08:08:06,907 module.py:576 INFO] -       * mlcr detect,cpu
[2025-07-02 08:08:06,926 module.py:576 INFO] -         * mlcr detect,os
[2025-07-02 08:08:06,929 module.py:5128 INFO] -                ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-llvm_ba8ed0f3
[2025-07-02 08:08:06,929 module.py:5129 INFO] -                ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:06,972 module.py:5274 INFO] -                ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:06,987 module.py:5128 INFO] -              ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-llvm_ba8ed0f3
[2025-07-02 08:08:06,987 module.py:5129 INFO] -              ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-cpu/run.sh from tmp-run.sh
[2025-07-02 08:08:07,166 module.py:5274 INFO] -              ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-cpu/customize.py
[2025-07-02 08:08:07,269 module.py:2166 INFO] -       - cache UID: ba8ed0f34d994885
[2025-07-02 08:08:07,317 module.py:576 INFO] -     * mlcr get,cache,dir,_name.mlperf-inference-sut-descriptions
[2025-07-02 08:08:07,351 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-cache-dir/customize.py
[2025-07-02 08:08:07,368 module.py:2166 INFO] -       - cache UID: 8c51018e53c24ca6
[2025-07-02 08:08:07,371 customize.py:56 INFO] - Generating SUT description file for exp_15_02-onnxruntime
HW description file for exp_15_02 not found. Copying from default!!!
[2025-07-02 08:08:07,403 module.py:5274 INFO] -          ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-mlperf-inference-sut-description/customize.py
[2025-07-02 08:08:07,444 module.py:576 INFO] -   * mlcr get,mlperf,inference,results,dir,_version.r5.0-dev
[2025-07-02 08:08:07,493 module.py:5274 INFO] -          ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-mlperf-inference-results-dir/customize.py
[2025-07-02 08:08:07,509 module.py:2166 INFO] -     - cache UID: d00831dad4d44f8b
[2025-07-02 08:08:07,538 module.py:576 INFO] -   * mlcr install,pip-package,for-mlc-python,_package.tabulate
Collecting tabulate
  Downloading tabulate-0.9.0-py3-none-any.whl.metadata (34 kB)
Downloading tabulate-0.9.0-py3-none-any.whl (35 kB)
Installing collected packages: tabulate
Successfully installed tabulate-0.9.0
[2025-07-02 08:08:08,558 module.py:5274 INFO] -          ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/install-pip-package-for-mlc-python/customize.py
[2025-07-02 08:08:08,583 module.py:2166 INFO] -     - cache UID: 4b41e4c2675b4229
[2025-07-02 08:08:08,634 module.py:576 INFO] -   * mlcr get,mlperf,inference,utils
[2025-07-02 08:08:08,683 module.py:576 INFO] -     * mlcr get,mlperf,inference,src
[2025-07-02 08:08:08,684 module.py:1285 INFO] -          ! load /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-mlperf-inference-src_c7a51a81/mlc-cached-state.json
[2025-07-02 08:08:08,695 module.py:5274 INFO] -          ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-mlperf-inference-utils/customize.py
Using MLCommons Inference source from /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-git-repo_inference-src_cf9867e2/inference
[2025-07-02 08:08:08,710 customize.py:273 INFO] - 
Running loadgen scenario: Offline and mode: performance
[2025-07-02 08:08:08,842 module.py:576 INFO] - * mlcr app,mlperf,inference,generic,_reference,_resnet50,_onnxruntime,_cpu,_test,_r5.0-dev_default,_offline
[2025-07-02 08:08:08,902 module.py:576 INFO] -   * mlcr detect,os
[2025-07-02 08:08:08,912 module.py:5128 INFO] -          ! cd /home/mkandes
[2025-07-02 08:08:08,912 module.py:5129 INFO] -          ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:09,019 module.py:5274 INFO] -          ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:09,071 module.py:576 INFO] -   * mlcr get,sys-utils-cm
[2025-07-02 08:08:09,096 module.py:576 INFO] -     * mlcr detect,os
[2025-07-02 08:08:09,099 module.py:5128 INFO] -            ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-sys-utils-cm_c07d2966
[2025-07-02 08:08:09,099 module.py:5129 INFO] -            ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:09,131 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:09,153 module.py:576 INFO] -   * mlcr get,python
[2025-07-02 08:08:09,154 module.py:1285 INFO] -        ! load /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-python3_256c8ab7/mlc-cached-state.json
[2025-07-02 08:08:09,154 module.py:2241 INFO] - Path to Python: /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/bin/python
[2025-07-02 08:08:09,154 module.py:2241 INFO] - Python version: 3.12.11
[2025-07-02 08:08:09,171 module.py:576 INFO] -   * mlcr get,mlcommons,inference,src
[2025-07-02 08:08:09,194 module.py:576 INFO] -     * mlcr detect,os
[2025-07-02 08:08:09,197 module.py:5128 INFO] -            ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-mlperf-inference-src_d192069d
[2025-07-02 08:08:09,197 module.py:5129 INFO] -            ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:09,232 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:09,253 module.py:576 INFO] -     * mlcr get,python3
[2025-07-02 08:08:09,253 module.py:1285 INFO] -          ! load /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-python3_256c8ab7/mlc-cached-state.json
[2025-07-02 08:08:09,254 module.py:2241 INFO] - Path to Python: /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/bin/python
[2025-07-02 08:08:09,254 module.py:2241 INFO] - Python version: 3.12.11
[2025-07-02 08:08:09,283 module.py:576 INFO] -     * mlcr get,git,repo,_branch.master,_repo.https://github.com/mlcommons/inference
[2025-07-02 08:08:09,284 module.py:1285 INFO] -          ! load /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-git-repo_inference-src_cf9867e2/mlc-cached-state.json
[2025-07-02 08:08:09,284 module.py:2241 INFO] - MLC cache path to the Git repo: /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-git-repo_inference-src_cf9867e2/inference
[2025-07-02 08:08:09,285 module.py:5274 INFO] -          ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-mlperf-inference-src/customize.py
[2025-07-02 08:08:09,309 module.py:2166 INFO] -     - cache UID: d192069d507a4cfa
[2025-07-02 08:08:09,327 module.py:576 INFO] -   * mlcr get,mlperf,inference,utils
[2025-07-02 08:08:09,365 module.py:576 INFO] -     * mlcr get,mlperf,inference,src
[2025-07-02 08:08:09,366 module.py:1285 INFO] -          ! load /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-mlperf-inference-src_d192069d/mlc-cached-state.json
[2025-07-02 08:08:09,369 module.py:5274 INFO] -          ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-mlperf-inference-utils/customize.py
[2025-07-02 08:08:09,383 module.py:576 INFO] -   * mlcr get,dataset-aux,imagenet-aux
[2025-07-02 08:08:09,426 module.py:576 INFO] -     * mlcr download-and-extract,_extract,_wget,_url.https://armi.in/files/caffe_ilsvrc12.tar.gz
[2025-07-02 08:08:09,463 module.py:576 INFO] -       * mlcr download,file,_wget,_url.https://armi.in/files/caffe_ilsvrc12.tar.gz
[2025-07-02 08:08:09,496 module.py:576 INFO] -         * mlcr detect,os
[2025-07-02 08:08:09,499 module.py:5128 INFO] -                ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/download-file_imagenet-aux-da_14e659c8
[2025-07-02 08:08:09,500 module.py:5129 INFO] -                ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:09,540 module.py:5274 INFO] -                ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:09,562 customize.py:78 INFO] - 
[2025-07-02 08:08:09,562 customize.py:79 INFO] - Downloading from https://armi.in/files/caffe_ilsvrc12.tar.gz
[2025-07-02 08:08:09,562 customize.py:204 INFO] - wget -nc  --tries=3 -O 'caffe_ilsvrc12.tar.gz'  https://armi.in/files/caffe_ilsvrc12.tar.gz || ((rm -f caffe_ilsvrc12.tar.gz || true) && wget -nc  --tries=3 -O 'caffe_ilsvrc12.tar.gz'  https://www.dropbox.com/s/92n2fyej3lzy3s3/caffe_ilsvrc12.tar.gz)
[2025-07-02 08:08:09,563 module.py:5128 INFO] -              ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/download-file_imagenet-aux-da_14e659c8
[2025-07-02 08:08:09,563 module.py:5129 INFO] -              ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/download-file/run.sh from tmp-run.sh

Downloading: wget -nc  --tries=3 -O 'caffe_ilsvrc12.tar.gz'  https://armi.in/files/caffe_ilsvrc12.tar.gz || ((rm -f caffe_ilsvrc12.tar.gz || true) && wget -nc  --tries=3 -O 'caffe_ilsvrc12.tar.gz'  https://www.dropbox.com/s/92n2fyej3lzy3s3/caffe_ilsvrc12.tar.gz)
--2025-07-02 08:08:09--  https://armi.in/files/caffe_ilsvrc12.tar.gz
Resolving armi.in (armi.in)... 104.21.48.1, 104.21.112.1, 104.21.16.1, ...
Connecting to armi.in (armi.in)|104.21.48.1|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 17852691 (17M) [application/x-gzip]
Saving to: ‘caffe_ilsvrc12.tar.gz’

caffe_ilsvrc12.tar.gz                    100%[==================================================================================>]  17.03M  --.-KB/s    in 0.06s   

2025-07-02 08:08:10 (306 MB/s) - ‘caffe_ilsvrc12.tar.gz’ saved [17852691/17852691]


Verifying checksum after download: echo ee346d67141e476df9c1a3f813552503 'caffe_ilsvrc12.tar.gz' | md5sum  -c - || echo ee346d67141e476df9c1a3f813552503 'caffe_ilsvrc12.tar.gz' | md5sum  -c -
caffe_ilsvrc12.tar.gz: OK
[2025-07-02 08:08:10,592 module.py:5274 INFO] -              ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/download-file/customize.py
[2025-07-02 08:08:10,618 module.py:2166 INFO] -         - cache UID: 14e659c8949145b2
[2025-07-02 08:08:10,619 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/download-and-extract/customize.py
[2025-07-02 08:08:10,631 module.py:576 INFO] -     * mlcr extract,file,_keep,_path./scratch/mkandes/job_40829790/MLC/repos/local/cache/download-file_imagenet-aux-da_14e659c8/caffe_ilsvrc12.tar.gz
[2025-07-02 08:08:10,715 module.py:576 INFO] -       * mlcr detect,os
[2025-07-02 08:08:10,718 module.py:5128 INFO] -              ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/extract-file_imagenet-aux-da_8808115e
[2025-07-02 08:08:10,718 module.py:5129 INFO] -              ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:10,759 module.py:5274 INFO] -              ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:10,774 customize.py:168 INFO] - 
[2025-07-02 08:08:10,774 customize.py:169 INFO] - Current directory: /scratch/mkandes/job_40829790/MLC/repos/local/cache/extract-file_imagenet-aux-da_8808115e
[2025-07-02 08:08:10,774 customize.py:170 INFO] - Command line: "tar    --skip-old-files -xvzf  /scratch/mkandes/job_40829790/MLC/repos/local/cache/download-file_imagenet-aux-da_14e659c8/caffe_ilsvrc12.tar.gz"
[2025-07-02 08:08:10,774 customize.py:171 INFO] - 
[2025-07-02 08:08:10,775 module.py:5128 INFO] -            ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/extract-file_imagenet-aux-da_8808115e
[2025-07-02 08:08:10,775 module.py:5129 INFO] -            ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/extract-file/run.sh from tmp-run.sh

tar    --skip-old-files -xvzf  /scratch/mkandes/job_40829790/MLC/repos/local/cache/download-file_imagenet-aux-da_14e659c8/caffe_ilsvrc12.tar.gz
det_synset_words.txt
imagenet.bet.pickle
imagenet_mean.binaryproto
synsets.txt
synset_words.txt
test.txt
train.txt
val.txt


[2025-07-02 08:08:11,070 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/extract-file/customize.py
[2025-07-02 08:08:11,096 module.py:2166 INFO] -       - cache UID: 8808115e530245f1
[2025-07-02 08:08:11,121 module.py:2166 INFO] -       - cache UID: 8e31a78df2864bcc
[2025-07-02 08:08:11,137 module.py:2166 INFO] -     - cache UID: a76bc0fec2f440c7
[2025-07-02 08:08:11,229 module.py:576 INFO] -   * mlcr app,mlperf,reference,inference,_cpu,_onnxruntime,_offline,_resnet50,_fp32
[2025-07-02 08:08:11,245 module.py:576 INFO] -     * mlcr detect,os
[2025-07-02 08:08:11,248 module.py:5128 INFO] -            ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-sys-utils-cm_c07d2966
[2025-07-02 08:08:11,248 module.py:5129 INFO] -            ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:11,283 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:11,300 module.py:576 INFO] -     * mlcr detect,cpu
[2025-07-02 08:08:11,318 module.py:576 INFO] -       * mlcr detect,os
[2025-07-02 08:08:11,322 module.py:5128 INFO] -              ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-sys-utils-cm_c07d2966
[2025-07-02 08:08:11,322 module.py:5129 INFO] -              ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:11,353 module.py:5274 INFO] -              ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:11,368 module.py:5128 INFO] -            ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-sys-utils-cm_c07d2966
[2025-07-02 08:08:11,368 module.py:5129 INFO] -            ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-cpu/run.sh from tmp-run.sh
[2025-07-02 08:08:11,547 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-cpu/customize.py
[2025-07-02 08:08:11,569 module.py:576 INFO] -     * mlcr get,sys-utils-cm
[2025-07-02 08:08:11,594 module.py:576 INFO] -       * mlcr detect,os
[2025-07-02 08:08:11,597 module.py:5128 INFO] -              ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-sys-utils-cm_c07d2966
[2025-07-02 08:08:11,597 module.py:5129 INFO] -              ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:11,630 module.py:5274 INFO] -              ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:11,653 module.py:576 INFO] -     * mlcr get,python
[2025-07-02 08:08:11,653 module.py:1285 INFO] -          ! load /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-python3_256c8ab7/mlc-cached-state.json
[2025-07-02 08:08:11,653 module.py:2241 INFO] - Path to Python: /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/bin/python
[2025-07-02 08:08:11,653 module.py:2241 INFO] - Python version: 3.12.11
[2025-07-02 08:08:11,757 module.py:576 INFO] -     * mlcr get,generic-python-lib,_onnxruntime
[2025-07-02 08:08:11,798 module.py:576 INFO] -       * mlcr detect,os
[2025-07-02 08:08:11,801 module.py:5128 INFO] -              ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-generic-python-lib_1a318afa
[2025-07-02 08:08:11,801 module.py:5129 INFO] -              ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:11,838 module.py:5274 INFO] -              ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:11,872 module.py:576 INFO] -       * mlcr detect,cpu
[2025-07-02 08:08:11,887 module.py:576 INFO] -         * mlcr detect,os
[2025-07-02 08:08:11,891 module.py:5128 INFO] -                ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-generic-python-lib_1a318afa
[2025-07-02 08:08:11,891 module.py:5129 INFO] -                ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:11,937 module.py:5274 INFO] -                ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:11,960 module.py:5128 INFO] -              ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-generic-python-lib_1a318afa
[2025-07-02 08:08:11,960 module.py:5129 INFO] -              ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-cpu/run.sh from tmp-run.sh
[2025-07-02 08:08:12,086 module.py:5274 INFO] -              ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-cpu/customize.py
[2025-07-02 08:08:12,108 module.py:576 INFO] -       * mlcr get,python3
[2025-07-02 08:08:12,109 module.py:1285 INFO] -            ! load /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-python3_256c8ab7/mlc-cached-state.json
[2025-07-02 08:08:12,109 module.py:2241 INFO] - Path to Python: /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/bin/python
[2025-07-02 08:08:12,109 module.py:2241 INFO] - Python version: 3.12.11
[2025-07-02 08:08:12,164 module.py:576 INFO] -       * mlcr get,generic-python-lib,_pip
[2025-07-02 08:08:12,187 module.py:576 INFO] -         * mlcr detect,os
[2025-07-02 08:08:12,191 module.py:5128 INFO] -                ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-generic-python-lib_cf7ba60c
[2025-07-02 08:08:12,191 module.py:5129 INFO] -                ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:12,220 module.py:5274 INFO] -                ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:12,245 module.py:576 INFO] -         * mlcr detect,cpu
[2025-07-02 08:08:12,263 module.py:576 INFO] -           * mlcr detect,os
[2025-07-02 08:08:12,267 module.py:5128 INFO] -                  ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-generic-python-lib_cf7ba60c
[2025-07-02 08:08:12,267 module.py:5129 INFO] -                  ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:12,301 module.py:5274 INFO] -                  ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:12,323 module.py:5128 INFO] -                ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-generic-python-lib_cf7ba60c
[2025-07-02 08:08:12,323 module.py:5129 INFO] -                ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-cpu/run.sh from tmp-run.sh
[2025-07-02 08:08:12,477 module.py:5274 INFO] -                ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-cpu/customize.py
[2025-07-02 08:08:12,499 module.py:576 INFO] -         * mlcr get,python3
[2025-07-02 08:08:12,500 module.py:1285 INFO] -              ! load /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-python3_256c8ab7/mlc-cached-state.json
[2025-07-02 08:08:12,500 module.py:2241 INFO] - Path to Python: /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/bin/python
[2025-07-02 08:08:12,500 module.py:2241 INFO] - Python version: 3.12.11
[2025-07-02 08:08:12,504 module.py:5128 INFO] -                  ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-generic-python-lib_cf7ba60c
[2025-07-02 08:08:12,504 module.py:5129 INFO] -                  ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-generic-python-lib/run.sh from tmp-run.sh
[2025-07-02 08:08:12,579 module.py:5274 INFO] -                  ! call "detect_version" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-generic-python-lib/customize.py
[2025-07-02 08:08:12,582 customize.py:152 INFO] -             Detected version: 25.1.1
[2025-07-02 08:08:12,582 module.py:5128 INFO] -              ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-generic-python-lib_cf7ba60c
[2025-07-02 08:08:12,582 module.py:5129 INFO] -              ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-generic-python-lib/run.sh from tmp-run.sh
[2025-07-02 08:08:12,658 module.py:5274 INFO] -              ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-generic-python-lib/customize.py
[2025-07-02 08:08:12,686 module.py:2166 INFO] -         - cache UID: cf7ba60ce4bf4ff0
[2025-07-02 08:08:12,690 module.py:5128 INFO] -                ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-generic-python-lib_1a318afa
[2025-07-02 08:08:12,690 module.py:5129 INFO] -                ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-generic-python-lib/run.sh from tmp-run.sh
[2025-07-02 08:08:12,765 module.py:5274 INFO] -                ! call "detect_version" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-generic-python-lib/customize.py
[2025-07-02 08:08:12,769 customize.py:152 INFO] -           Detected version: 1.22.0
[2025-07-02 08:08:12,770 module.py:5128 INFO] -            ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-generic-python-lib_1a318afa
[2025-07-02 08:08:12,770 module.py:5129 INFO] -            ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-generic-python-lib/run.sh from tmp-run.sh
[2025-07-02 08:08:12,846 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-generic-python-lib/customize.py
[2025-07-02 08:08:12,874 module.py:2166 INFO] -       - cache UID: 1a318afad5fa446e
[2025-07-02 08:08:12,924 module.py:576 INFO] -     * mlcr get,ml-model,image-classification,resnet50,raw,_fp32,_onnx
[2025-07-02 08:08:12,964 module.py:576 INFO] -       * mlcr download-and-extract,_url.https://armi.in/files/resnet50_v1_op11/resnet50_v1.onnx
[2025-07-02 08:08:13,010 module.py:576 INFO] -         * mlcr download,file,_cmutil,_url.https://armi.in/files/resnet50_v1_op11/resnet50_v1.onnx
[2025-07-02 08:08:13,053 module.py:576 INFO] -           * mlcr detect,os
[2025-07-02 08:08:13,056 module.py:5128 INFO] -                  ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/download-file_ml-model-resnet_409cf42f
[2025-07-02 08:08:13,056 module.py:5129 INFO] -                  ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:13,098 module.py:5274 INFO] -                  ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:13,120 customize.py:78 INFO] - 
[2025-07-02 08:08:13,120 customize.py:79 INFO] - Downloading from https://armi.in/files/resnet50_v1_op11/resnet50_v1.onnx
Downloading to /scratch/mkandes/job_40829790/MLC/repos/local/cache/download-file_ml-model-resnet_409cf42f/resnet50_v1.onnx

Downloaded: 100%
[2025-07-02 08:08:20,426 module.py:5128 INFO] -                ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/download-file_ml-model-resnet_409cf42f
[2025-07-02 08:08:20,426 module.py:5129 INFO] -                ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/download-file/run.sh from tmp-run.sh

Checking checksum: echo f6a4da60cd5f084d97efc2c1ddb10beb 'resnet50_v1.onnx' | md5sum  -c -
resnet50_v1.onnx: OK

Verifying checksum after download: echo f6a4da60cd5f084d97efc2c1ddb10beb 'resnet50_v1.onnx' | md5sum  -c -
resnet50_v1.onnx: OK
[2025-07-02 08:08:20,791 module.py:5274 INFO] -                ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/download-file/customize.py
[2025-07-02 08:08:20,811 module.py:2166 INFO] -           - cache UID: 409cf42f9c024d1b
[2025-07-02 08:08:20,812 module.py:5274 INFO] -              ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/download-and-extract/customize.py
[2025-07-02 08:08:20,838 module.py:2166 INFO] -         - cache UID: e189f1da8e9348e2
[2025-07-02 08:08:20,839 module.py:5274 INFO] -            ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/get-ml-model-resnet50/customize.py
[2025-07-02 08:08:20,865 module.py:2166 INFO] -       - cache UID: 7f3b2a8f33474b18
[2025-07-02 08:08:20,865 module.py:2241 INFO] - Path to the ML model: /scratch/mkandes/job_40829790/MLC/repos/local/cache/download-file_ml-model-resnet_409cf42f/resnet50_v1.onnx
[2025-07-02 08:08:20,918 module.py:576 INFO] -     * mlcr get,dataset,image-classification,imagenet,preprocessed,_-for.mobilenet,_full,_NCHW
[2025-07-02 08:08:20,964 module.py:576 INFO] -       * mlcr get,python3
[2025-07-02 08:08:20,965 module.py:1285 INFO] -            ! load /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-python3_256c8ab7/mlc-cached-state.json
[2025-07-02 08:08:20,965 module.py:2241 INFO] - Path to Python: /scratch/mkandes/job_40829790/miniconda3/envs/mlperf-inference-vision-image-classification-resnet50-imagenet-python-edge-onnxruntime-cpu/bin/python
[2025-07-02 08:08:20,965 module.py:2241 INFO] - Python version: 3.12.11
[2025-07-02 08:08:20,979 module.py:576 INFO] -       * mlcr get,dataset,image-classification,original,_full
[2025-07-02 08:08:21,011 module.py:576 INFO] -         * mlcr detect,os
[2025-07-02 08:08:21,014 module.py:5128 INFO] -                ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-dataset-imagenet-val_c89294d7
[2025-07-02 08:08:21,014 module.py:5129 INFO] -                ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:21,053 module.py:5274 INFO] -                ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:21,087 module.py:576 INFO] -         * mlcr download-and-extract,file,_extract,_url.https://image-net.org/data/ILSVRC/2012/ILSVRC2012_img_val.tar
[2025-07-02 08:08:21,103 module.py:576 INFO] -           * mlcr download,file,_cmutil,_url.https://image-net.org/data/ILSVRC/2012/ILSVRC2012_img_val.tar
[2025-07-02 08:08:21,115 module.py:576 INFO] -             * mlcr detect,os
[2025-07-02 08:08:21,119 module.py:5128 INFO] -                    ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-dataset-imagenet-val_c89294d7
[2025-07-02 08:08:21,119 module.py:5129 INFO] -                    ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/run.sh from tmp-run.sh
[2025-07-02 08:08:21,160 module.py:5274 INFO] -                    ! call "postprocess" from /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/detect-os/customize.py
[2025-07-02 08:08:21,175 customize.py:78 INFO] - 
[2025-07-02 08:08:21,175 customize.py:79 INFO] - Downloading from https://image-net.org/data/ILSVRC/2012/ILSVRC2012_img_val.tar
Downloading to /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-dataset-imagenet-val_c89294d7/ILSVRC2012_img_val.tar

Downloaded:   0%
```
```
Downloading to /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-dataset-imagenet-val_c89294d7/ILSVRC2012_img_val.tar

Downloaded: 100%
[2025-07-02 08:17:40,011 module.py:5128 INFO] -                  ! cd /scratch/mkandes/job_40829790/MLC/repos/local/cache/get-dataset-imagenet-val_c89294d7
[2025-07-02 08:17:40,011 module.py:5129 INFO] -                  ! call /scratch/mkandes/job_40829790/MLC/repos/mlcommons@mlperf-automations/script/download-file/run.sh from tmp-run.sh

Checking checksum: echo 29b22e2961454d5413ddabcf34fc5622 'ILSVRC2012_img_val.tar' | md5sum  -c -
ILSVRC2012_img_val.tar: OK

Verifying checksum after download: echo 29b22e2961454d5413ddabcf34fc5622 'ILSVRC2012_img_val.tar' | md5sum  -c -
```
