# systemd timers

```
[mkandes@login01 ~]$ cat /etc/cron.allow
cw3eml
cw3eprod
mulroony
sroj
xgalaxy
[mkandes@login01 ~]$
```

```
[mkandes@login01 ~]$ cat .config/systemd/user/get-batch-scripts.service 
[Unit]
Description="Get batch scripts for all new jobs in Slurm queue"

[Service]
ExecStart=%h/scripts/get-batch-scripts.sh
[mkandes@login01 ~]$ cat .config/systemd/user/get-batch-scripts.timer
[Unit]
Description="Run get-batch-scipts.service every 2 minutes"

[Timer]
OnCalendar=*-*-* *:0/2:00
Unit=get-batch-scripts.service

[Install]
WantedBy=timers.target
[mkandes@login01 ~]$
```

```
[mkandes@login01 ~]$ systemd-analyze verify .config/systemd/user/get-batch-scripts.*
/usr/lib/systemd/system/rdma-ndd.service:25: Unknown lvalue 'ProtectHostname' in section 'Service'
/usr/lib/systemd/system/rdma-ndd.service:26: Unknown lvalue 'ProtectKernelLogs' in section 'Service'
[mkandes@login01 ~]$
```

```
[mkandes@login01 ~]$ systemctl --user enable get-batch-scripts.timer
Created symlink /home/mkandes/.config/systemd/user/timers.target.wants/get-batch-scripts.timer → /home/mkandes/.config/systemd/user/get-batch-scripts.timer.
[mkandes@login01 ~]$ systemctl --user start get-batch-scripts.timer
[mkandes@login01 ~]$ systemctl --user status get-batch-scripts.timer
● get-batch-scripts.timer - "Run get-batch-scipts.service every 2 minutes"
   Loaded: loaded (/home/mkandes/.config/systemd/user/get-batch-scripts.timer; >
   Active: active (waiting) since Thu 2025-10-09 09:35:58 PDT; 20s ago
  Trigger: Thu 2025-10-09 09:38:00 PDT; 1min 41s left

Oct 09 09:35:58 login01 systemd[115983]: Started "Run get-batch-scipts.service
```

# Reference(s):
- https://wiki.archlinux.org/title/Systemd/Timers
- https://documentation.suse.com/smart/systems-management/html/systemd-working-with-timers/index.html
- https://fedoramagazine.org/systemd-timers-for-scheduling-tasks/
