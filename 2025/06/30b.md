# How to install and run MLCFlow (on Expanse) [Part IV]
- https://docs.mlcommons.org/ck/installation-cuda/

```
mkandes@hardtack:~$ ssh expanse
Last login: Mon Jun 30 16:07:59 2025 from 208.58.212.11
[mkandes@login02 ~]$ cat mlcflow-dev.yaml
name: mlcflow-dev

channels:
  - conda-forge
  - nvidia

dependencies:
  - python
  - pip
  - jupyterlab

variables:
  ENV_VAR: 'THIS IS HOW WE CAN APPEND MLC_ENV_VARS TO YOUR CONDA ENV'
[mkandes@login02 ~]$ export PATH="/cm/shared/apps/sdsc/galyleo:${PATH}"
[mkandes@login02 ~]$ galyleo launch --account use300 --partition debug --cpus 8 --memory 16 --time-limit 00:30:00 --conda-yml mlcflow-dev.yaml
Preparing galyleo for launch into Jupyter orbit ...
Listing all launch parameters ...
  command-line options       : values
    -A | --account           : use300
    -R | --reservation       : 
    -p | --partition         : debug
    -q | --qos               : 
    -N | --nodes             : 1
    -c | --cpus              : 8
    -m | --memory            : 16 GB
    -g | --gpus              : 
       | --gres              : 
    -t | --time-limit        : 00:30:00
    -C | --constraint        : 
    -i | --interface         : lab
    -d | --notebook-dir      : 
       | --scratch-dir       : "/scratch/${USER}/job_${SLURM_JOB_ID}"
    -e | --env-modules       : singularitypro
       | --append-modulepath : 
    -s | --sif               : 
    -B | --bind              : 
       | --nv                : 
       | --conda-init        : 
       | --conda-env         : 
       | --conda-yml         : /home/mkandes/mlcflow-dev.yaml
       | --conda-version     : latest
       | --mamba             : false
       | --cache             : false
       | --spark-home        : 
       | --disable-checklist : false
       | --checklist-timeout : 10 s
    -Q | --quiet             : 1
Your token is 
anyway-exemplary-carless
200
Generating Jupyter launch script ...
md5sum: mlcflow-dev.md5: No such file or directory
Submitted Jupyter launch script to Slurm. Your SLURM_JOB_ID is 40791416.
Success! Token linked to jobid.
Please copy and paste the HTTPS URL provided below into your web browser.
Do not share this URL with others. It is the password to your Jupyter notebook session.
Your Jupyter notebook session will begin once compute resources are allocated to your job by the scheduler.
https://anyway-exemplary-carless.expanse-user-content.sdsc.edu/?token=c0b7f4c3ee825419
[mkandes@login02 ~]$
```


```
[mkandes@exp-9-56 ~]$ export MLC_REPOS="${SLURM_TMPDIR}/MLC/repos"
[mkandes@exp-9-56 ~]$ pip install mlcflow
Collecting mlcflow
  Downloading mlcflow-1.0.18-py3-none-any.whl.metadata (19 kB)
Requirement already satisfied: requests in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from mlcflow) (2.32.4)
Requirement already satisfied: pyyaml in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from mlcflow) (6.0.2)
Collecting giturlparse (from mlcflow)
  Downloading giturlparse-0.12.0-py2.py3-none-any.whl.metadata (4.5 kB)
Collecting colorama (from mlcflow)
  Downloading colorama-0.4.6-py2.py3-none-any.whl.metadata (17 kB)
Requirement already satisfied: charset_normalizer<4,>=2 in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from requests->mlcflow) (3.4.2)
Requirement already satisfied: idna<4,>=2.5 in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from requests->mlcflow) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from requests->mlcflow) (2.5.0)
Requirement already satisfied: certifi>=2017.4.17 in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from requests->mlcflow) (2025.6.15)
Downloading mlcflow-1.0.18-py3-none-any.whl (47 kB)
Downloading colorama-0.4.6-py2.py3-none-any.whl (25 kB)
Downloading giturlparse-0.12.0-py2.py3-none-any.whl (15 kB)
Installing collected packages: giturlparse, colorama, mlcflow
Successfully installed colorama-0.4.6 giturlparse-0.12.0 mlcflow-1.0.18
[mkandes@exp-9-56 ~]$ mlc repos list
[2025-06-30 16:15:23,030 action.py:194 INFO] - Created repos.json in /scratch/mkandes/job_40791416/MLC and initialised with local cache folder path: /scratch/mkandes/job_40791416/MLC/repos/local
usage: mlc {run,pull,test,add,show,list,find,search,rm,cp,mv,docker,experiment,doc,load,help} ...
mlc: error: argument command: invalid choice: 'repos' (choose from run, pull, test, add, show, list, find, search, rm, cp, mv, docker, experiment, doc, load, help)
[mkandes@exp-9-56 ~]$ pip install mlc-scripts
Collecting mlc-scripts
  Downloading mlc_scripts-1.0.2.tar.gz (9.5 kB)
  Installing build dependencies ... done
  Getting requirements to build wheel ... done
  Preparing metadata (pyproject.toml) ... done
Requirement already satisfied: requests in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from mlc-scripts) (2.32.4)
Requirement already satisfied: pyyaml in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from mlc-scripts) (6.0.2)
Requirement already satisfied: mlcflow in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from mlc-scripts) (1.0.18)
Requirement already satisfied: giturlparse in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from mlc-scripts) (0.12.0)
Requirement already satisfied: colorama in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from mlcflow->mlc-scripts) (0.4.6)
Requirement already satisfied: charset_normalizer<4,>=2 in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from requests->mlc-scripts) (3.4.2)
Requirement already satisfied: idna<4,>=2.5 in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from requests->mlc-scripts) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from requests->mlc-scripts) (2.5.0)
Requirement already satisfied: certifi>=2017.4.17 in /scratch/mkandes/job_40791416/miniconda3/envs/mlcflow-dev/lib/python3.13/site-packages (from requests->mlc-scripts) (2025.6.15)
Building wheels for collected packages: mlc-scripts
  Building wheel for mlc-scripts (pyproject.toml) ... done
  Created wheel for mlc-scripts: filename=mlc_scripts-1.0.2-py3-none-any.whl size=10680 sha256=52e9f667ec786e128abddbc464f0f55d419222db5eba4658119d6a9227db99ba
  Stored in directory: /home/mkandes/.cache/pip/wheels/ba/d5/6e/c5cbb15c90b0138b2667fa221952ceed50a714c11f17693668
Successfully built mlc-scripts
Installing collected packages: mlc-scripts
Successfully installed mlc-scripts-1.0.2
[mkandes@exp-9-56 ~]$ mlc repos list
usage: mlc {run,pull,test,add,show,list,find,search,rm,cp,mv,docker,experiment,doc,load,help} ...
mlc: error: argument command: invalid choice: 'repos' (choose from run, pull, test, add, show, list, find, search, rm, cp, mv, docker, experiment, doc, load, help)
[mkandes@exp-9-56 ~]$ mlc list repo
[2025-06-30 16:16:57,603 repo_action.py:467 INFO] - Listing all repositories.

Repositories:
-------------
- Alias: local
  Path:  /scratch/mkandes/job_40791416/MLC/repos/local

- Alias: mlcommons@mlperf-automations
  Path:  /scratch/mkandes/job_40791416/MLC/repos/mlcommons@mlperf-automations

-------------
[2025-06-30 16:16:57,603 repo_action.py:474 INFO] - Repository listing ended
[mkandes@exp-9-56 ~]$
```
