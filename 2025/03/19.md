# Spack Mirrors + Build Caches

```
[mkandes@login01 gpu]$ spack buildcache create my-s3-mirror 
==> Error: `spack buildcache push` requires an environment
  activate an environment first:
      spack env activate ENV
  or use:
      spack -e ENV buildcache push ...
[mkandes@login01 gpu]$
```

```
[mkandes@login01 dev]$ spack buildcache create my-s3-mirror bzip2@1.0.8 % gcc@8.5.0
==> Selected 4 specs to push to s3://sdsc-public/spack-0.21.2/exp/gpu/dev
==> Error: The following 4 errors occurred while pushing specs to the buildcache
    bzip2@1.0.8/6t2uszm: ModuleNotFoundError: No module named 'boto3'
    diffutils@3.9/swp7j5e: ModuleNotFoundError: No module named 'boto3'
    gmake@4.4.1/cbv6ksg: ModuleNotFoundError: No module named 'boto3'
    libiconv@1.17/xxyacpw: ModuleNotFoundError: No module named 'boto3'
[mkandes@login01 dev]$ python --version
Python 3.6.8
[mkandes@login01 dev]$ pip install --user boto3
-bash: pip: command not found
[mkandes@login01 dev]$ pip3 install --user boto3
Collecting boto3
  Downloading https://files.pythonhosted.org/packages/75/ca/d917b244919f1ebf96f7bbd5a00e4641f7e9191b0d070258f5dc10f5eaad/boto3-1.23.10-py3-none-any.whl (132kB)
    100% |████████████████████████████████| 133kB 744kB/s 
Collecting botocore<1.27.0,>=1.26.10 (from boto3)
  Downloading https://files.pythonhosted.org/packages/09/b8/794e0bd260198538ded90c26b353ddb632eab01950d4e7e2e2b8ee510d12/botocore-1.26.10-py3-none-any.whl (8.8MB)
    100% |████████████████████████████████| 8.8MB 147kB/s 
Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /usr/lib/python3.6/site-packages (from boto3)
Collecting s3transfer<0.6.0,>=0.5.0 (from boto3)
  Downloading https://files.pythonhosted.org/packages/7b/9c/f51775ebe7df5a7aa4e7c79ed671bde94e154bd968aca8d65bb24aba0c8c/s3transfer-0.5.2-py3-none-any.whl (79kB)
    100% |████████████████████████████████| 81kB 864kB/s 
Collecting urllib3<1.27,>=1.25.4 (from botocore<1.27.0,>=1.26.10->boto3)
  Downloading https://files.pythonhosted.org/packages/33/cf/8435d5a7159e2a9c83a95896ed596f68cf798005fe107cc655b5c5c14704/urllib3-1.26.20-py2.py3-none-any.whl (144kB)
    100% |████████████████████████████████| 153kB 1.1MB/s 
Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /usr/lib/python3.6/site-packages (from botocore<1.27.0,>=1.26.10->boto3)
Requirement already satisfied: six>=1.5 in /usr/lib/python3.6/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.27.0,>=1.26.10->boto3)
Installing collected packages: urllib3, botocore, s3transfer, boto3
Successfully installed boto3-1.23.10 botocore-1.26.10 s3transfer-0.5.2 urllib3-1.26.20
[mkandes@login01 dev]$ spack buildcache create my-s3-mirror bzip2@1.0.8 % gcc@8.5.0
==> Selected 4 specs to push to s3://sdsc-public/spack-0.21.2/exp/gpu/dev
gpg: keybox '/home/mkandes/software/spack/repos/sdsc/gpu/opt/spack/gpg/pubring.kbx' created
gpg: /home/mkandes/software/spack/repos/sdsc/gpu/opt/spack/gpg/trustdb.gpg: trustdb created
==> Error: No default key available for signing.
Use spack gpg init and spack gpg create to create a default key.
[mkandes@login01 dev]$
```
