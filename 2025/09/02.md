# Setting up perfSONAR archiver on JS2

```
root@perfsonar-archiver:~# systemctl status logstash
● logstash.service - logstash
     Loaded: loaded (/usr/lib/systemd/system/logstash.service; enabled; preset: enabled)
    Drop-In: /etc/systemd/system/logstash.service.d
             └─override.conf, timeout-override.conf
     Active: active (running) since Tue 2025-09-02 14:07:31 UTC; 6min ago
   Main PID: 12118 (java)
      Tasks: 109 (limit: 35946)
     Memory: 1.4G (peak: 1.4G)
        CPU: 1min 42.342s
     CGroup: /system.slice/logstash.service
             └─12118 /usr/share/logstash/jdk/bin/java -Xms1g -Xmx1g -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djruby.compile.invokedynamic=t>

Sep 02 14:07:44 perfsonar-archiver logstash[12118]: [2025-09-02T14:07:44,072][INFO ][logstash.filters.geoip   ][pscheduler] DatabaseManager is not>
Sep 02 14:07:44 perfsonar-archiver logstash[12118]: [2025-09-02T14:07:44,084][INFO ][logstash.filters.geoip   ][pscheduler] Using geoip database {>
Sep 02 14:07:44 perfsonar-archiver logstash[12118]: [2025-09-02T14:07:44,098][INFO ][logstash.javapipeline    ][pscheduler] Starting pipeline {:pi>
Sep 02 14:07:44 perfsonar-archiver logstash[12118]: [2025-09-02T14:07:44,897][INFO ][logstash.javapipeline    ][prometheus] Pipeline Java executio>
Sep 02 14:07:44 perfsonar-archiver logstash[12118]: [2025-09-02T14:07:44,921][INFO ][logstash.javapipeline    ][prometheus] Pipeline started {"pip>
Sep 02 14:07:45 perfsonar-archiver logstash[12118]: [2025-09-02T14:07:45,564][INFO ][logstash.javapipeline    ][pscheduler] Pipeline Java executio>
Sep 02 14:07:45 perfsonar-archiver logstash[12118]: [2025-09-02T14:07:45,678][INFO ][logstash.javapipeline    ][pscheduler] Pipeline started {"pip>
Sep 02 14:07:45 perfsonar-archiver logstash[12118]: [2025-09-02T14:07:45,680][INFO ][logstash.inputs.http     ][pscheduler][4d121e6e24f1d4243fae8c>
Sep 02 14:07:45 perfsonar-archiver logstash[12118]: [2025-09-02T14:07:45,690][INFO ][logstash.agent           ] Pipelines running {:count=>2, :run>
Sep 02 14:07:45 perfsonar-archiver logstash[12118]: /usr/share/logstash/vendor/bundle/jruby/3.1.0/gems/manticore-0.9.1-java/lib/manticore/client.r>
root@perfsonar-archiver:~#
```

```
root@perfsonar-archiver:~# systemctl status opensearch
● opensearch.service - OpenSearch
     Loaded: loaded (/usr/lib/systemd/system/opensearch.service; enabled; preset: enabled)
    Drop-In: /etc/systemd/system/opensearch.service.d
             └─override.conf
     Active: active (running) since Tue 2025-09-02 14:07:10 UTC; 7min ago
       Docs: https://opensearch.org/
   Main PID: 11578 (java)
      Tasks: 126 (limit: 35946)
     Memory: 9.0G (peak: 9.0G)
        CPU: 1min 46.725s
     CGroup: /system.slice/opensearch.service
             └─11578 /usr/share/opensearch/jdk/bin/java -Xshare:auto -Dopensearch.networkaddress.cache.ttl=60 -Dopensearch.networkaddress.cache.ne>

Sep 02 14:07:00 perfsonar-archiver systemd-entrypoint[11578]: WARNING: System::setSecurityManager has been called by org.opensearch.bootstrap.Open>
Sep 02 14:07:00 perfsonar-archiver systemd-entrypoint[11578]: WARNING: Please consider reporting this to the maintainers of org.opensearch.bootstr>
Sep 02 14:07:00 perfsonar-archiver systemd-entrypoint[11578]: WARNING: System::setSecurityManager will be removed in a future release
Sep 02 14:07:01 perfsonar-archiver systemd-entrypoint[11578]: Sep 02, 2025 2:07:01 PM sun.util.locale.provider.LocaleProviderAdapter <clinit>
Sep 02 14:07:01 perfsonar-archiver systemd-entrypoint[11578]: WARNING: COMPAT locale provider will be removed in a future release
Sep 02 14:07:01 perfsonar-archiver systemd-entrypoint[11578]: WARNING: A terminally deprecated method in java.lang.System has been called
Sep 02 14:07:01 perfsonar-archiver systemd-entrypoint[11578]: WARNING: System::setSecurityManager has been called by org.opensearch.bootstrap.Secu>
Sep 02 14:07:01 perfsonar-archiver systemd-entrypoint[11578]: WARNING: Please consider reporting this to the maintainers of org.opensearch.bootstr>
Sep 02 14:07:01 perfsonar-archiver systemd-entrypoint[11578]: WARNING: System::setSecurityManager will be removed in a future release
Sep 02 14:07:10 perfsonar-archiver systemd[1]: Started opensearch.service - OpenSearch.
root@perfsonar-archiver:~#
```

```
root@perfsonar-archiver:~# cat /etc/perfsonar/opensearch/logstash_login
perfsonar:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXx.
```

```
root@perfsonar-archiver:~# psarchive troubleshoot
OpenSearch running ...... OK
Logstash running ...... OK
OpenSearch API (Localhost) ...... OK
Logstash Endpoint (Localhost) ...... OK
OpenSearch API (HTTPS Proxy) ...... OK
Logstash Proxy Credentials ...... OK
Logstash Endpoint (HTTPS Proxy) ...... OK
Logstash->OpenSearch Credentials ...... OK
Logstash->OpenSearch Authentication ...... OK
OpenSearch Data Exists ...... FAIL

There is no data in the database. This may be expected if this is a new archive and/or you have not yet setup measurements. If you reached this point, then the basic operations of your archive seem to be functioning. A good next step would be to login to a host running measurements and do the following:
1. Run pscheduler troubleshoot to make sure pScheduler is functioning
2. Run psconfig stats pscheduler to check if pSConfig is configuring pscheduler tests
3. If the measurement host is separate from this archive host, run psarchive troubleshoot --host ARCHIVE_HOSTNAME (replace ARCHIVE_HOSTNAME with the address of this host) from the measurement host

root@perfsonar-archiver:~# psarchive troubleshoot –skip-opensearch-data
usage: troubleshoot [-h] [--host HOST] [--quiet] [--skip-logstash-proxy] [--skip-opensearch-data]
troubleshoot: error: unrecognized arguments: –skip-opensearch-data
root@perfsonar-archiver:~# psarchive troubleshoot --skip-opensearch-data
OpenSearch running ...... OK
Logstash running ...... OK
OpenSearch API (Localhost) ...... OK
Logstash Endpoint (Localhost) ...... OK
OpenSearch API (HTTPS Proxy) ...... OK
Logstash Proxy Credentials ...... OK
Logstash Endpoint (HTTPS Proxy) ...... OK
Logstash->OpenSearch Credentials ...... OK
Logstash->OpenSearch Authentication ...... OK
root@perfsonar-archiver:~#
```

```
root@perfsonar-archiver:~# ls /etc/apache2/
apache2.conf  conf-available  conf-enabled  envvars  magic  mods-available  mods-enabled  ports.conf  sites-available  sites-enabled
root@perfsonar-archiver:~#
```

```
root@perfsonar-archiver:/var/log/apache2# systemctl status apache2
● apache2.service - The Apache HTTP Server
     Loaded: loaded (/usr/lib/systemd/system/apache2.service; enabled; preset: enabled)
     Active: active (running) since Tue 2025-09-02 14:07:32 UTC; 55min ago
       Docs: https://httpd.apache.org/docs/2.4/
    Process: 12622 ExecStart=/usr/sbin/apachectl start (code=exited, status=0/SUCCESS)
   Main PID: 12625 (apache2)
      Tasks: 71 (limit: 35946)
     Memory: 79.6M (peak: 81.1M)
        CPU: 2.519s
     CGroup: /system.slice/apache2.service
             ├─12625 /usr/sbin/apache2 -k start
             ├─12628 "elmond           " -k start
             ├─12629 "host_exporter    " -k start
             ├─12630 /usr/sbin/apache2 -k start
             └─12631 /usr/sbin/apache2 -k start

Sep 02 14:07:32 perfsonar-archiver systemd[1]: Starting apache2.service - The Apache HTTP Server...
Sep 02 14:07:32 perfsonar-archiver systemd[1]: Started apache2.service - The Apache HTTP Server.
root@perfsonar-archiver:/var/log/apache2#
```

# Setting up perfSonar measurement hosts on ARA

```
mckandes@ara-jbox:~$ nmap -Pn 149.165.151.187
Starting Nmap 7.80 ( https://nmap.org ) at 2025-09-02 10:15 CDT
Nmap scan report for perfsonar-archiver.sta160003.projects.jetstream-cloud.org (149.165.151.187)
Host is up (0.00066s latency).
Not shown: 997 closed ports
PORT    STATE    SERVICE
53/tcp  filtered domain
80/tcp  filtered http
443/tcp open     https

Nmap done: 1 IP address (1 host up) scanned in 1.35 seconds
mckandes@ara-jbox:~$
```

```
mckandes@ara-jbox:~$ curl -k https://149.165.151.187/logstash
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>401 Unauthorized</title>
</head><body>
<h1>Unauthorized</h1>
<p>This server could not verify that you
are authorized to access the document
requested.  Either you supplied the wrong
credentials (e.g., bad password), or your
browser doesn't understand how to supply
the credentials required.</p>
<hr>
<address>Apache/2.4.58 (Ubuntu) Server at 149.165.151.187 Port 443</address>
</body></html>
mckandes@ara-jbox:~$
```

```
mckandes@ara-jbox:~$ ssh icicle@10.189.10.177

The programs included with the Ubuntu system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by
applicable law.

To run a command as administrator (user "root"), use "sudo <command>".
See "man sudo_root" for details.

icicle@DataCenter-ComputeNode-Compute-001:~$ curl -k https://149.165.151.187/logstash
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>401 Unauthorized</title>
</head><body>
<h1>Unauthorized</h1>
<p>This server could not verify that you
are authorized to access the document
requested.  Either you supplied the wrong
credentials (e.g., bad password), or your
browser doesn't understand how to supply
the credentials required.</p>
<hr>
<address>Apache/2.4.58 (Ubuntu) Server at 149.165.151.187 Port 443</address>
</body></html>
icicle@DataCenter-ComputeNode-Compute-001:~$
```

```
Setting up pscheduler-server (5.2.1-1) ...
debconf: unable to initialize frontend: Dialog
debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 78.)
debconf: falling back to frontend: Readline
Configuring pscheduler-server
-----------------------------

The pscheduler-server package must have a database installed and configured before it can be used. This can be optionally handled with dbconfig-common.

If you are an advanced database administrator and know that you want to perform this configuration manually, or if your database has already been installed and configured, you should refuse this option. Details on what needs to be done should most likely be provided in
/usr/share/doc/pscheduler-server.

Otherwise, you should probably choose this option.

Configure database for pscheduler-server with dbconfig-common? [yes/no]
```

```
Setting up pscheduler-server (5.2.1-1) ...
debconf: unable to initialize frontend: Dialog
debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 78.)
debconf: falling back to frontend: Readline
Configuring pscheduler-server
-----------------------------

The pscheduler-server package must have a database installed and configured before it can be used. This can be optionally handled with dbconfig-common.

If you are an advanced database administrator and know that you want to perform this configuration manually, or if your database has already been installed and configured, you should refuse this option. Details on what needs to be done should most likely be provided in
/usr/share/doc/pscheduler-server.

Otherwise, you should probably choose this option.

Configure database for pscheduler-server with dbconfig-common? [yes/no] yes

Please select the remote hostname to use, or select "new host" to enter a new host.

  1. new host  2. localhost
Host name of the PostgreSQL database server for pscheduler-server: 2

Please provide a password for pscheduler-server to register with the database server. If left blank, a random password will be generated.

If you are using "ident" authentication, the supplied password will not be used and can be left blank. Otherwise, PostgreSQL access may need to be reconfigured to allow password-authenticated access.

PostgreSQL application password for pscheduler-server: 

Password confirmation: 

 * Stopping Apache httpd web server apache2                                                                                                                                                                                                                                                      
 * 
 * Restarting PostgreSQL 14 database server                                                                                                                                                                                                                                               [ OK ] 
Found postgresql 10+ running, skipping automatic upgrade
dbconfig-common: writing config to /etc/dbconfig-common/pscheduler-server.conf

Creating config file /etc/dbconfig-common/pscheduler-server.conf with new version
creating postgres user pscheduler:  success.
verifying creation of user: success.
creating database pscheduler: success.
verifying database pscheduler exists: success.
populating database via administrative sql...  done.
populating database via sql...  done.
dbconfig-common: flushing administrative password
 * Restarting PostgreSQL 14 database server                                                                                                                                                                                                                                               [ OK ] 
apache2_invoke: Enable module ssl
invoke-rc.d: could not determine current runlevel
invoke-rc.d: policy-rc.d denied execution of restart.
apache2_invoke: Enable site default-ssl
invoke-rc.d: could not determine current runlevel
invoke-rc.d: policy-rc.d denied execution of reload.
apache2_invoke: Enable configuration pscheduler-server.conf
invoke-rc.d: could not determine current runlevel
invoke-rc.d: policy-rc.d denied execution of restart.
rsyslog: unrecognized service
dpkg: error processing package pscheduler-server (--configure):
 installed pscheduler-server package post-installation script subprocess returned error exit status 1
dpkg: dependency problems prevent configuration of pscheduler-context-changefail:
 pscheduler-context-changefail depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-context-changefail (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-ethr:
 pscheduler-tool-ethr depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-tool-ethr (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-tracepath:
 pscheduler-tool-tracepath depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-tool-tracepath (--configure):
 dependency problems - leaving unconfigured
o apport report written because the error message indicates its a followup error from a previous failure.
                                                                                                         No apport report written because the error message indicates its a followup error from a previous failure.
                                                                                                                                                                                                                   No apport report written because MaxReports is reached already
                                                                                                                                                                                                                                                                                 No apport report
 written because MaxReports is reached already
                                              No apport report written because MaxReports is reached already
                                                                                                            mdpkg: dependency problems prevent configuration of pscheduler-tool-ping:
 pscheduler-tool-ping depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-tool-ping (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-test-http:
 pscheduler-test-http depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-test-http (--configure):
 dependency problems - leaving unconfigured
Setting up libdevel-overloadinfo-perl (0.007-1) ...
Setting up build-essential (12.9ubuntu3) ...
Setting up libaprutil1-dev (1.6.1-5ubuntu4.22.04.2) ...
Setting up libclass-load-xs-perl (0.10-1build7) ...
dpkg: dependency problems prevent configuration of pscheduler-test-psresponse:
 pscheduler-test-psresponse depends on pscheduler-server; however:
  Package pscNo apport report written because MaxReports is reached already
                                                                           No apport report written because MaxReports is reached already
                                                                                                                                         No apport report written because MaxReports is reached already
                                                                                                                                                                                                       No apport report written because MaxReports is reached already
                                                                                                                                                                                                                                                                     No apport report written bec
ause MaxReports is reached already
                                  No apport report written because MaxReports is reached already
                                                                                                heduler-server is not configured yet.

dpkg: error processing package pscheduler-test-psresponse (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-twping:
 pscheduler-tool-twping depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-tool-twping (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-psclock:
 pscheduler-tool-psclock depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-tool-psclock (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-test-trace:
 pscheduler-test-trace depends on pscheduler-server (>= 1.1.6); however:
  Package pscheduler-serNo apport report written because MaxReports is reached already
                                                                                      No apport report written because MaxReports is reached already
                                                                                                                                                    No apport report written because MaxReports is reached already
                                                                                                                                                                                                                  No apport report written because MaxReports is reached already
                                                                                                                                                                                                                                                                                No apport report 
written because MaxReports is reached already
                                             No apport report written because MaxReports is reached already
                                                                                                           No apport report written because MaxReports is reached already
                                                                                                                                                                         No apport report written because MaxReports is reached already
                                                                                                                                                                                                                                       No apport report written because MaxReports is reached alr
eady
    No apport report written because MaxReports is reached already
                                                                  ver is not configured yet.

dpkg: error processing package pscheduler-test-trace (--configure):
 dependency problems - leaving unconfigured
Setting up libparams-validate-perl:amd64 (1.30-1build3) ...
Setting up libb-hooks-endofscope-perl (0.25-1) ...
dpkg: dependency problems prevent configuration of pscheduler-test-idle:
 pscheduler-test-idle depends on pscheduler-server (>= 1.1.6); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-test-idle (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-traceroute:
 pscheduler-tool-traceroute depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.
 pscheduler-tool-traceroute depends on pscheduler-test-trace; however:
  Package pscheduler-test-trace is not configured yet.

dpkg: error processing package pscheduler-tool-traceroute (--configure):No apport report written because MaxReports is reached already
                                                                                                                                      No apport report written because MaxReports is reached already
                                                                                                                                                                                                    No apport report written because MaxReports is reached already
                                                                                                                                                                                                                                                                  No apport report written becaus
e MaxReports is reached already
                               No apport report written because MaxReports is reached already
                                                                                             No apport report written because MaxReports is reached already
                                                                                                                                                           No apport report written because MaxReports is reached already
                                                                                                                                                                                                                         No apport report written because MaxReports is reached already
                                                                                                                                                                                                                                                                                       No apport 
report written because MaxReports is reached already

 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-bssidscanner:
 pscheduler-tool-bssidscanner depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-tool-bssidscanner (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-archiver-tcp:
 pscheduler-archiver-tcp depends on pscheduler-server (>= 1.1.6.1); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-archiver-tcp (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-archiver-kafka:
 pscheduler-archiver-kafka depends on pscheduler-server (>= 1.0.2); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-archiver-kafka (--configNo apport report written because MaxReports is reached already
                                                                                                                                No apport report written because MaxReports is reached already
                                                                                                                                                                                              No apport report written because MaxReports is reached already
                                                                                                                                                                                                                                                            No apport report written because MaxR
eports is reached already
                         No apport report written because MaxReports is reached already
                                                                                       No apport report written because MaxReports is reached already
                                                                                                                                                     No apport report written because MaxReports is reached already
                                                                                                                                                                                                                   No apport report written because MaxReports is reached already
                                                                                                                                                                                                                                                                                 No apport report
 written because MaxReports is reached already
                                              No apport report written because MaxReports is reached already
                                                                                                            No apport report written because MaxReports is reached already
                                                                                                                                                                          ure):
 dependency problems - leaving unconfigured
Setting up apache2-dev (2.4.52-1ubuntu4.16) ...
dpkg: dependency problems prevent configuration of pscheduler-tool-paris-traceroute:
 pscheduler-tool-paris-traceroute depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.
 pscheduler-tool-paris-traceroute depends on pscheduler-test-trace; however:
  Package pscheduler-test-trace is not configured yet.

dpkg: error processing package pscheduler-tool-paris-traceroute (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-test-rtt:
 pscheduler-test-rtt depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-test-rtt (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-bundle-full:
 pscheduler-bundle-fullNo apport report written because MaxReports is reached already
                                                                                     No apport report written because MaxReports is reached already
                                                                                                                                                   No apport report written because MaxReports is reached already
                                                                                                                                                                                                                  depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.
 pscheduler-bundle-full depends on pscheduler-test-idle; however:
  Package pscheduler-test-idle is not configured yet.
 pscheduler-bundle-full depends on pscheduler-test-http; however:
  Package pscheduler-test-http is not configured yet.
 pscheduler-bundle-full depends on pscheduler-test-psresponse; however:
  Package pscheduler-test-psresponse is not configured yet.
 pscheduler-bundle-full depends on pscheduler-test-rtt; however:
  Package pscheduler-test-rtt is not configured yet.
 pscheduler-bundle-full depends on pscheduler-test-trace; however:
  Package pscheduler-test-trace is not configured yet.
 pscheduler-bundle-full depends on pscheduler-tool-bssidscanner; however:
  Package pscheduler-tool-bssidscanner is not configured yet.
 pscheduler-bundle-full depends on pscheduler-tool-ethr; however:
  Package pscheduler-tool-ethr is not configured yet.
 pscheduler-bundle-full depends on pscheduler-tool-twping; however:
  Package pscheduler-tool-twping is not configured yet.
 pscheduler-bundle-full depends on pscheduler-tool-paris-traceroute; however:
  Package pscheduler-tool-paris-traceroute is not configured yet.
 pscheduler-bundle-full depends on pscheduler-tool-ping; however:
  Package pscheduler-tool-ping is not configured yet.
 pscheduler-bundle-full depends on pscheduler-tool-psclock; however:
  Package pscheduler-tool-psclock is not configured yet.
 pscheduler-bundle-full depends on pscheduler-tool-tracepath; however:
  Package pscheduler-tool-tracepath is not configured yet.
 pscheduler-bundle-full depends on pscheduler-tool-traceroute; however:
  Package pscheduler-tool-traceroute is not configured yet.
 pscheduler-bundle-full depends on pscheduler-archiver-kafka; however:
  Package pscheduler-archiver-kafka is not configured yet.
 pscheduler-bundle-full depends on pscheduler-archiver-tcp; however:
  Package pscheduler-archiver-tcp is not configured yet.
 pscheduler-bundle-full depends on pscheduler-context-changefail; however:
  Package pscheduler-context-changefail is not configured yet.

dpkg: error processing package pscheduler-bundle-full (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-curl:
 pscheduler-tool-curl depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-tool-curl (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-test-latencybg:
 pscheduler-test-latencybg depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-test-latencybg (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-test-throughput:
 pscheduler-test-throughput depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-test-throughput (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-test-idleex:
 pscheduler-test-idleex depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-test-idleex (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-passthrough:
 pscheduler-tool-passthrough depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-tool-passthrough (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-halfping:
 pscheduler-tool-halfping depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.
 pscheduler-tool-halfping depends on pscheduler-test-rtt; however:
  Package pscheduler-test-rtt is not configured yet.

dpkg: error processing package pscheduler-tool-halfping (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-test-idlebgm:
 pscheduler-test-idlebgm depends on pscheduler-server (>= 1.1.6); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-test-idlebgm (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-archiver-http:
 pscheduler-archiver-http depends on pscheduler-server (>= 1.1.6.1); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-archiver-http (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-archiver-syslog:
 pscheduler-archiver-syslog depends on pscheduler-server (>= 1.1.6); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-archiver-syslog (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-test-noop:
 pscheduler-test-noop depends on pscheduler-server (>= 1.1.6); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-test-noop (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-snooze:
 pscheduler-tool-snooze depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.
 pscheduler-tool-snooze depends on pscheduler-test-idle; however:
  Package pscheduler-test-idle is not configured yet.

dpkg: error processing package pscheduler-tool-snooze (--configure):
 dependency problems - leaving unconfigured
Setting up libmoose-perl:amd64 (2.2200-1build1) ...
dpkg: dependency problems prevent configuration of pscheduler-archiver-failer:
 pscheduler-archiver-failer depends on pscheduler-server (>= 1.1.6); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-archiver-failer (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-sleep:
 pscheduler-tool-sleep depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.
 pscheduler-tool-sleep depends on pscheduler-test-idle; however:
  Package pscheduler-test-idle is not configured yet.

dpkg: error processing package pscheduler-tool-sleep (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-archiver-postgresql:
 pscheduler-archiver-postgresql depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-archiver-postgresql (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-tracemtu:
 pscheduler-tool-tracemtu depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-tool-tracemtu (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-sleepbgm:
 pscheduler-tool-sleepbgm depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.
 pscheduler-tool-sleepbgm depends on pscheduler-test-idle; however:
  Package pscheduler-test-idle is not configured yet.

dpkg: error processing package pscheduler-tool-sleepbgm (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-pstimer:
 pscheduler-tool-pstimer depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.
 pscheduler-tool-pstimer depends on pscheduler-test-psresponse; however:
  Package pscheduler-test-psresponse is not configured yet.

dpkg: error processing package pscheduler-tool-pstimer (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-test-simplestream:
 pscheduler-test-simplestream depends on pscheduler-server (>= 1.1.6); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-test-simplestream (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-owping:
 pscheduler-tool-owping depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-tool-owping (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-fwmtu:
 pscheduler-tool-fwmtu depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-tool-fwmtu (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-tcpping:
 pscheduler-tool-tcpping depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.
 pscheduler-tool-tcpping depends on pscheduler-test-rtt; however:
  Package pscheduler-test-rtt is not configured yet.

dpkg: error processing package pscheduler-tool-tcpping (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-iperf2:
 pscheduler-tool-iperf2 depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.
 pscheduler-tool-iperf2 depends on pscheduler-test-throughput; however:
  Package pscheduler-test-throughput is not configured yet.

dpkg: error processing package pscheduler-tool-iperf2 (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-context-changenothing:
 pscheduler-context-changenothing depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-context-changenothing (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-dnspy:
 pscheduler-tool-dnspy depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-tool-dnspy (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-nuttcp:
 pscheduler-tool-nuttcp depends on pscheduler-server (>= 4.4.0~); however:
  Package pscheduler-server is not configured yet.
 pscheduler-tool-nuttcp depends on pscheduler-test-throughput; however:
  Package pscheduler-test-throughput is not configured yet.

dpkg: error processing package pscheduler-tool-nuttcp (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-test-dns:
 pscheduler-test-dns depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-test-dns (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-simplestreamer:
 pscheduler-tool-simplestreamer depends on pscheduler-server (>= 4.3.0); however:
  Package pscheduler-server is not configured yet.
 pscheduler-tool-simplestreamer depends on pscheduler-test-simplestream; however:
  Package pscheduler-test-simplestream is not configured yet.

dpkg: error processing package pscheduler-tool-simplestreamer (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of pscheduler-tool-iperf3:
 pscheduler-tool-iperf3 depends on pscheduler-server (>= 4.4.0~); however:
  Package pscheduler-server is not configured yet.
 pscheduler-tool-iperf3 depends on pscheduler-test-throughput; however:
  Package pscheduler-test-throughput is not configured yet.

dpkg: error processing package pscheduler-tool-iperf3 (--configure):
 dependency problems - leaving unconfigured
No apport report written because MaxReports is reached already
                                                              dpkg: dependency problems prevent configuration of pscheduler-context-linuxnns:
 pscheduler-context-linuxnns depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-context-linuxnns (--configure):
 dependency problems - leaving unconfigured
No apport report written because MaxReports is reached already
                                                              dpkg: dependency problems prevent configuration of pscheduler-test-latency:
 pscheduler-test-latency depends on pscheduler-server (>= 1.1.6); however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-test-latency (--configure):
 dependency problems - leaving unconfigured
No apport report written because MaxReports is reached already
                                                              dpkg: dependency problems prevent configuration of pscheduler-test-wifibssid:
 pscheduler-test-wifibssid depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-test-wifibssid (--configure):
 dependency problems - leaving unconfigured
No apport report written because MaxReports is reached already
                                                              No apport report written because MaxReports is reached already
                                                                                                                            dpkg: dependency problems prevent configuration of pscheduler-test-mtu:
 pscheduler-test-mtu depends on pscheduler-server; however:
  Package pscheduler-server is not configured yet.

dpkg: error processing package pscheduler-test-mtu (--configure):
 dependency problems - leaving unconfigured
dpkg: too many errors, stopping
Errors were encountered while processing:
 pscheduler-server
 pscheduler-context-changefail
 pscheduler-tool-ethr
 pscheduler-tool-tracepath
 pscheduler-tool-ping
 pscheduler-test-http
 pscheduler-test-psresponse
 pscheduler-tool-twping
 pscheduler-tool-psclock
 pscheduler-test-trace
 pscheduler-test-idle
 pscheduler-tool-traceroute
 pscheduler-tool-bssidscanner
 pscheduler-archiver-tcp
 pscheduler-archiver-kafka
 pscheduler-tool-paris-traceroute
 pscheduler-test-rtt
 pscheduler-bundle-full
 pscheduler-tool-curl
 pscheduler-test-latencybg
 pscheduler-test-throughput
 pscheduler-test-idleex
 pscheduler-tool-passthrough
 pscheduler-tool-halfping
 pscheduler-test-idlebgm
 pscheduler-archiver-http
 pscheduler-archiver-syslog
 pscheduler-test-noop
 pscheduler-tool-snooze
 pscheduler-archiver-failer
 pscheduler-tool-sleep
 pscheduler-archiver-postgresql
 pscheduler-tool-tracemtu
 pscheduler-tool-sleepbgm
 pscheduler-tool-pstimer
 pscheduler-test-simplestream
 pscheduler-tool-owping
 pscheduler-tool-fwmtu
 pscheduler-tool-tcpping
 pscheduler-tool-iperf2
 pscheduler-context-changenothing
 pscheduler-tool-dnspy
 pscheduler-tool-nuttcp
 pscheduler-test-dns
 pscheduler-tool-simplestreamer
 pscheduler-tool-iperf3
 pscheduler-context-linuxnns
 pscheduler-test-latency
 pscheduler-test-wifibssid
 pscheduler-test-mtu
Processing was halted because there were too many errors.
needrestart is being skipped since dpkg has failed
E: Sub-process /usr/bin/dpkg returned an error code (1)
root@DataCenter-ComputeNode-Compute-000:~# 
```

```
root@DataCenter-ComputeNode-Compute-000:/tmp/perfsonar-testpoint-docker# /usr/bin/supervisord -c /etc/supervisord.conf
2025-09-02 18:12:35,449 CRIT Supervisor is running as root.  Privileges were not dropped because no user is specified in the config file.  If you intend to run as root, you can set user=root in the config file to avoid this message.
2025-09-02 18:12:35,450 INFO supervisord started with pid 24508
2025-09-02 18:12:36,452 INFO spawned: 'apache2' with pid 24509
2025-09-02 18:12:36,453 INFO spawned: 'owamp-server' with pid 24510
2025-09-02 18:12:36,454 INFO spawned: 'perfsonar-host-exporter' with pid 24511
2025-09-02 18:12:36,455 INFO spawned: 'perfsonar-lsregistrationdaemon' with pid 24512
2025-09-02 18:12:36,456 INFO spawned: 'postgresql' with pid 24513
2025-09-02 18:12:36,457 INFO spawned: 'pscheduler-archiver' with pid 24514
2025-09-02 18:12:36,458 INFO spawned: 'pscheduler-runner' with pid 24516
2025-09-02 18:12:36,459 INFO spawned: 'pscheduler-scheduler' with pid 24517
2025-09-02 18:12:36,459 INFO spawned: 'pscheduler-ticker' with pid 24518
2025-09-02 18:12:36,460 INFO spawned: 'psconfig-pscheduler-agent' with pid 24519
2025-09-02 18:12:36,461 INFO spawned: 'rsyslog' with pid 24520
2025-09-02 18:12:36,462 INFO spawned: 'twamp-server' with pid 24521
2025-09-02 18:12:36,463 INFO exited: owamp-server (exit status 0; not expected)
2025-09-02 18:12:36,466 INFO exited: rsyslog (exit status 1; not expected)
2025-09-02 18:12:36,466 INFO exited: twamp-server (exit status 0; not expected)
2025-09-02 18:12:36,469 INFO exited: postgresql (exit status 1; not expected)
2025-09-02 18:12:36,471 INFO exited: perfsonar-host-exporter (exit status 2; not expected)
/usr/lib/pscheduler/daemons/ticker:110: DeprecationWarning: setDaemon() is deprecated, set the daemon attribute instead
  http_queue_worker.setDaemon(True)
2025-09-02 18:12:36.700 UTC [24780] ERROR:  duplicate key value violates unique constraint "heartbeat_pkey"
2025-09-02 18:12:36.700 UTC [24780] DETAIL:  Key (name)=(runner) already exists.
2025-09-02 18:12:36.700 UTC [24780] CONTEXT:  SQL statement "INSERT INTO heartbeat (name)
	    VALUES
	        ('ticker'),
		('scheduler'),
		('runner'),
		('archiver')"
	PL/pgSQL function heartbeat_cold_boot() line 4 at SQL statement
	SQL statement "SELECT heartbeat_cold_boot()"
	PL/pgSQL function cold_boot() line 3 at PERFORM
2025-09-02 18:12:36.700 UTC [24780] STATEMENT:  SELECT cold_boot()
Traceback (most recent call last):
  File "/usr/lib/pscheduler/daemons/ticker", line 155, in <module>
    main_program()
  File "/usr/lib/pscheduler/daemons/ticker", line 120, in main_program
    cursor.execute("SELECT cold_boot()")
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "heartbeat_pkey"
DETAIL:  Key (name)=(runner) already exists.
CONTEXT:  SQL statement "INSERT INTO heartbeat (name)
    VALUES
        ('ticker'),
	('scheduler'),
	('runner'),
	('archiver')"
PL/pgSQL function heartbeat_cold_boot() line 4 at SQL statement
SQL statement "SELECT heartbeat_cold_boot()"
PL/pgSQL function cold_boot() line 3 at PERFORM

2025-09-02 18:12:36,992 INFO exited: pscheduler-ticker (exit status 1; not expected)
2025-09-02 18:12:38,159 INFO success: apache2 entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2025-09-02 18:12:38,160 INFO spawned: 'owamp-server' with pid 24792
2025-09-02 18:12:38,161 INFO spawned: 'perfsonar-host-exporter' with pid 24793
2025-09-02 18:12:38,161 INFO success: perfsonar-lsregistrationdaemon entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2025-09-02 18:12:38,162 INFO spawned: 'postgresql' with pid 24794
2025-09-02 18:12:38,162 INFO success: pscheduler-archiver entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2025-09-02 18:12:38,162 INFO success: pscheduler-runner entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2025-09-02 18:12:38,162 INFO success: pscheduler-scheduler entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2025-09-02 18:12:38,163 INFO spawned: 'pscheduler-ticker' with pid 24795
2025-09-02 18:12:38,163 INFO success: psconfig-pscheduler-agent entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2025-09-02 18:12:38,164 INFO spawned: 'rsyslog' with pid 24797
2025-09-02 18:12:38,165 INFO spawned: 'twamp-server' with pid 24798
2025-09-02 18:12:38,165 INFO exited: owamp-server (exit status 0; not expected)
2025-09-02 18:12:38,168 INFO exited: rsyslog (exit status 1; not expected)
2025-09-02 18:12:38,173 INFO exited: twamp-server (exit status 0; not expected)
2025-09-02 18:12:38,176 INFO exited: postgresql (exit status 1; not expected)
2025-09-02 18:12:38,178 INFO exited: perfsonar-host-exporter (exit status 2; not expected)
/usr/lib/pscheduler/daemons/ticker:110: DeprecationWarning: setDaemon() is deprecated, set the daemon attribute instead
  http_queue_worker.setDaemon(True)
2025-09-02 18:12:38,907 INFO exited: pscheduler-archiver (exit status 0; expected)
2025-09-02 18:12:39,909 INFO success: pscheduler-ticker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2025-09-02 18:12:40,910 INFO spawned: 'owamp-server' with pid 24909
2025-09-02 18:12:40,912 INFO spawned: 'perfsonar-host-exporter' with pid 24910
2025-09-02 18:12:40,912 INFO spawned: 'postgresql' with pid 24911
2025-09-02 18:12:40,913 INFO spawned: 'rsyslog' with pid 24912
2025-09-02 18:12:40,914 INFO spawned: 'twamp-server' with pid 24914
2025-09-02 18:12:40,915 INFO exited: owamp-server (exit status 0; not expected)
2025-09-02 18:12:40,918 INFO exited: rsyslog (exit status 1; not expected)
2025-09-02 18:12:40,918 INFO exited: twamp-server (exit status 0; not expected)
2025-09-02 18:12:40,927 INFO exited: postgresql (exit status 1; not expected)
2025-09-02 18:12:40,929 INFO exited: perfsonar-host-exporter (exit status 2; not expected)
2025-09-02 18:12:43,933 INFO spawned: 'owamp-server' with pid 24916
2025-09-02 18:12:43,934 INFO spawned: 'perfsonar-host-exporter' with pid 24917
2025-09-02 18:12:43,935 INFO spawned: 'postgresql' with pid 24918
2025-09-02 18:12:43,936 INFO spawned: 'rsyslog' with pid 24919
2025-09-02 18:12:43,937 INFO spawned: 'twamp-server' with pid 24921
2025-09-02 18:12:43,937 INFO exited: owamp-server (exit status 0; not expected)
2025-09-02 18:12:43,940 INFO gave up: owamp-server entered FATAL state, too many start retries too quickly
2025-09-02 18:12:43,940 INFO exited: rsyslog (exit status 1; not expected)
2025-09-02 18:12:43,940 INFO exited: twamp-server (exit status 0; not expected)
2025-09-02 18:12:43,946 INFO gave up: rsyslog entered FATAL state, too many start retries too quickly
2025-09-02 18:12:43,946 INFO gave up: twamp-server entered FATAL state, too many start retries too quickly
2025-09-02 18:12:43,949 INFO exited: postgresql (exit status 1; not expected)
2025-09-02 18:12:43,951 INFO gave up: postgresql entered FATAL state, too many start retries too quickly
2025-09-02 18:12:43,951 INFO exited: perfsonar-host-exporter (exit status 2; not expected)
2025-09-02 18:12:44,952 INFO gave up: perfsonar-host-exporter entered FATAL state, too many start retries too quickly
```

```
root@DataCenter-ComputeNode-Compute-000:/var/log# pscheduler troubleshoot
Performing basic troubleshooting of DataCenter-ComputeNode-Compute-000.

DataCenter-ComputeNode-Compute-000:

  Checking that host "DataCenter-ComputeNode-Compute-000" resolves... 10.0.4.69
  Measuring MTU... N/A (Local)
  Looking for pScheduler... OK.
  Fetching API level... 6
  Checking clock... OK.
  Exercising API... Archivers... Contexts... Tests... Tools... OK.
  Fetching service status... OK.
  Checking services... Ticker... Failed.

The Ticker service does not appear to be running.
root@DataCenter-ComputeNode-Compute-000:/var/log#
```

```
root@DataCenter-ComputeNode-Compute-000:/var/log# pscheduler ping localhost
localhost: pScheduler is alive
root@DataCenter-ComputeNode-Compute-000:/var/log#
```

```
root@DataCenter-ComputeNode-Compute-000:~# pscheduler troubleshoot
Performing basic troubleshooting of DataCenter-ComputeNode-Compute-000.

DataCenter-ComputeNode-Compute-000:

  Checking that host "DataCenter-ComputeNode-Compute-000" resolves... 10.0.4.175
  Measuring MTU... N/A (Local)
  Looking for pScheduler... OK.
  Fetching API level... 6
  Checking clock... OK.
  Exercising API... Archivers... Contexts... Tests... Tools... OK.
  Fetching service status... OK.
  Checking services... Ticker... Scheduler... Runner... Archiver... OK.
  Checking limits... OK.
  Last run scheduled... Never
  Last run completed... Never
  Idle test.... 9 seconds... Finished... Checking archiving... Failed.

Archiving never completed.
root@DataCenter-ComputeNode-Compute-000:~#
```

```
root@perfsonar-archiver:/var/log/logstash# grep -H 216.15.51.171 logstash-plain.log 
logstash-plain.log:[2025-09-02T22:31:10,803][WARN ][org.logstash.dissect.Dissector][pscheduler][d0c83a28792c25a5dde35eff02146f9880d9f53249982c6b5c65ae174b921407] Dissector mapping, field not found in event {"field"=>"[pscheduler][task_href]", "event"=>{"another_key"=>123, "@version"=>"1", "headers"=>{"content_type"=>"application/json", "x_forwarded_host"=>"149.165.151.187", "x_forwarded_server"=>"perfsonar-archiver.js2local", "connection"=>"Keep-Alive", "content_length"=>"38", "http_host"=>"149.165.151.187", "http_version"=>"HTTP/1.1", "http_accept"=>"*/*", "request_method"=>"PUT", "x_forwarded_for"=>"216.15.51.171", "request_path"=>"/", "http_user_agent"=>"curl/8.5.0"}, "key"=>"value", "host"=>"127.0.0.1", "@timestamp"=>2025-09-02T22:31:10.702219600Z}}
logstash-plain.log:[2025-09-02T22:31:10,804][WARN ][org.logstash.dissect.Dissector][pscheduler][d0c83a28792c25a5dde35eff02146f9880d9f53249982c6b5c65ae174b921407] Dissector mapping, field not found in event {"field"=>"[pscheduler][run_href]", "event"=>{"another_key"=>123, "@version"=>"1", "headers"=>{"content_type"=>"application/json", "x_forwarded_host"=>"149.165.151.187", "x_forwarded_server"=>"perfsonar-archiver.js2local", "connection"=>"Keep-Alive", "content_length"=>"38", "http_host"=>"149.165.151.187", "http_version"=>"HTTP/1.1", "http_accept"=>"*/*", "request_method"=>"PUT", "x_forwarded_for"=>"216.15.51.171", "request_path"=>"/", "http_user_agent"=>"curl/8.5.0"}, "key"=>"value", "host"=>"127.0.0.1", "@timestamp"=>2025-09-02T22:31:10.702219600Z}}
root@perfsonar-archiver:/var/log/logstash#
```

```
root@perfsonar-archiver:/var/log/logstash# grep -H 64.113.95.241 logstash-plain.log 
logstash-plain.log:[2025-09-02T22:36:17,341][WARN ][org.logstash.dissect.Dissector][pscheduler][d0c83a28792c25a5dde35eff02146f9880d9f53249982c6b5c65ae174b921407] Dissector mapping, field not found in event {"field"=>"[pscheduler][task_href]", "event"=>{"another_key"=>321, "@version"=>"1", "headers"=>{"content_type"=>"application/json", "x_forwarded_host"=>"149.165.151.187", "x_forwarded_server"=>"perfsonar-archiver.js2local", "connection"=>"Keep-Alive", "content_length"=>"38", "http_host"=>"149.165.151.187", "http_version"=>"HTTP/1.1", "http_accept"=>"*/*", "request_method"=>"PUT", "x_forwarded_for"=>"64.113.95.241", "request_path"=>"/", "http_user_agent"=>"curl/7.81.0"}, "key"=>"value", "host"=>"127.0.0.1", "@timestamp"=>2025-09-02T22:36:17.240399884Z}}
logstash-plain.log:[2025-09-02T22:36:17,341][WARN ][org.logstash.dissect.Dissector][pscheduler][d0c83a28792c25a5dde35eff02146f9880d9f53249982c6b5c65ae174b921407] Dissector mapping, field not found in event {"field"=>"[pscheduler][run_href]", "event"=>{"another_key"=>321, "@version"=>"1", "headers"=>{"content_type"=>"application/json", "x_forwarded_host"=>"149.165.151.187", "x_forwarded_server"=>"perfsonar-archiver.js2local", "connection"=>"Keep-Alive", "content_length"=>"38", "http_host"=>"149.165.151.187", "http_version"=>"HTTP/1.1", "http_accept"=>"*/*", "request_method"=>"PUT", "x_forwarded_for"=>"64.113.95.241", "request_path"=>"/", "http_user_agent"=>"curl/7.81.0"}, "key"=>"value", "host"=>"127.0.0.1", "@timestamp"=>2025-09-02T22:36:17.240399884Z}}
root@perfsonar-archiver:/var/log/logstash#
```

# Reference(s):
- https://docs.perfsonar.net/install_debian.html
- https://docs.perfsonar.net/troubleshooting_overview.html
- https://docs.perfsonar.net/manage_logs.html
- https://github.com/perfsonar/perfsonar-testpoint-docker/blob/master/Dockerfile
