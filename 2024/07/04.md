# AraHaul Experiment #1: [Aviat Link Configuration and Status Check](https://arawireless.readthedocs.io/en/latest/ara_experiments/arahaul_experiments/aviat_status_check.html#arahaul-experiment-link-configuration)

### Configure SSH on ARA JumpBox to disable HostKeyChecking
```
mkandes@hardtack:~$ ssh ara
mckandes@ara-jbox:~$ cat .ssh/config 
Host *
ServerAliveInterval 60
ServerAliveCountMax 2
StrictHostKeyChecking no
UserKnownHostsFile /dev/null
LogLevel QUIET
mckandes@ara-jbox:~$
```
### [Checking the Status of Link/Radio](https://arawireless.readthedocs.io/en/latest/ara_experiments/arahaul_experiments/aviat_status_check.html#checking-the-status-of-link-radio)

*Command*
```
aviatcli carrier show capabilities Carrier1/1
```

*Output*
```
root@WilsonHallAviat:~# aviatcli carrier show capabilities Carrier1/1
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(

  File "/usr/local/lib/python3.10/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err

  File "/usr/local/lib/python3.10/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py", line 790, in urlopen
    response = self._make_request(

  File "/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py", line 496, in _make_request
    conn.request(

  File "/usr/local/lib/python3.10/site-packages/urllib3/connection.py", line 395, in request
    self.endheaders()

  File "/usr/local/lib/python3.10/http/client.py", line 1278, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)

  File "/usr/local/lib/python3.10/http/client.py", line 1038, in _send_output
    self.send(msg)

  File "/usr/local/lib/python3.10/http/client.py", line 976, in send
    self.connect()

  File "/usr/local/lib/python3.10/site-packages/urllib3/connection.py", line 243, in connect
    self.sock = self._new_conn()

  File "/usr/local/lib/python3.10/site-packages/urllib3/connection.py", line 218, in _new_conn
    raise NewConnectionError(

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f6fb0257c70>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(

  File "/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py", line 844, in urlopen
    retries = retries.increment(

  File "/usr/local/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.188.0.131', port=5001): Max retries exceeded with url: /Measurement/Carrier11Capabilities (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6fb0257c70>: Failed to establish a new connection: [Errno 111] Connection refused'))


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/usr/local/bin/aviatcli", line 8, in <module>
    sys.exit(main())

  File "/usr/local/lib/python3.10/site-packages/aviat_cli/__main__.py", line 7, in main
    app(prog_name=__app_name__)

  File "/usr/local/lib/python3.10/site-packages/aviat_cli/commands/carrier/show.py", line 31, in check_capabilities
    response = get_carrier11_capabilities(remote)

  File "/usr/local/lib/python3.10/site-packages/aviat_client/get_requests.py", line 18, in get_carrier11_capabilities
    response = get(url)

  File "/usr/local/lib/python3.10/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)

  File "/usr/local/lib/python3.10/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)

  File "/usr/local/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)

  File "/usr/local/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)

  File "/usr/local/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)

requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.188.0.131', port=5001): Max retries exceeded with url: /Measurement/Carrier11Capabilities (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6fb0257c70>: Failed to establish a new connection: [Errno 111] Connection refused'))

root@WilsonHallAviat:~#
```

Checking networking config ...

```
root@WilsonHallAviat:~# apt-get install net-tools
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following NEW packages will be installed:
  net-tools
0 upgraded, 1 newly installed, 0 to remove and 1 not upgraded.
Need to get 243 kB of archives.
After this operation, 1001 kB of additional disk space will be used.
Get:1 http://deb.debian.org/debian bookworm/main amd64 net-tools amd64 2.10-0.1 [243 kB]
Fetched 243 kB in 0s (1032 kB/s)
perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
	LANGUAGE = (unset),
	LC_ALL = (unset),
	LANG = "en_US.UTF-8"
    are supported and installed on your system.
perl: warning: Falling back to the standard locale ("C").
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package net-tools.
(Reading database ... 15287 files and directories currently installed.)
Preparing to unpack .../net-tools_2.10-0.1_amd64.deb ...
Unpacking net-tools (2.10-0.1) ...
Setting up net-tools (2.10-0.1) ...
root@WilsonHallAviat:~# ifconfig
eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1350
        inet 10.0.4.132  netmask 255.255.255.0  broadcast 10.0.4.255
        ether fa:16:3e:08:74:89  txqueuelen 1000  (Ethernet)
        RX packets 910  bytes 320259 (312.7 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 586  bytes 68594 (66.9 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 4  bytes 386 (386.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 4  bytes 386 (386.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

root@WilsonHallAviat:~#
```

*Command*
```
aviatcli carrier show capabilities mmwCarrier1/1
```

*Output*
```
root@WilsonHallAviat:~# aviatcli carrier show capabilities mmwCarrier1/1
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(

  File "/usr/local/lib/python3.10/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err

  File "/usr/local/lib/python3.10/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py", line 790, in urlopen
    response = self._make_request(

  File "/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py", line 496, in _make_request
    conn.request(

  File "/usr/local/lib/python3.10/site-packages/urllib3/connection.py", line 395, in request
    self.endheaders()

  File "/usr/local/lib/python3.10/http/client.py", line 1278, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)

  File "/usr/local/lib/python3.10/http/client.py", line 1038, in _send_output
    self.send(msg)

  File "/usr/local/lib/python3.10/http/client.py", line 976, in send
    self.connect()

  File "/usr/local/lib/python3.10/site-packages/urllib3/connection.py", line 243, in connect
    self.sock = self._new_conn()

  File "/usr/local/lib/python3.10/site-packages/urllib3/connection.py", line 218, in _new_conn
    raise NewConnectionError(

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f2735df03a0>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(

  File "/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py", line 844, in urlopen
    retries = retries.increment(

  File "/usr/local/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.188.0.131', port=5001): Max retries exceeded with url: /Measurement/mmwCarrier11Capabilities (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f2735df03a0>: Failed to establish a new connection: [Errno 111] Connection refused'))


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/usr/local/bin/aviatcli", line 8, in <module>
    sys.exit(main())

  File "/usr/local/lib/python3.10/site-packages/aviat_cli/__main__.py", line 7, in main
    app(prog_name=__app_name__)

  File "/usr/local/lib/python3.10/site-packages/aviat_cli/commands/carrier/show.py", line 34, in check_capabilities
    response = get_mmwave_carrier11_capabilities(remote)

  File "/usr/local/lib/python3.10/site-packages/aviat_client/get_requests.py", line 28, in get_mmwave_carrier11_capabilities
    response = get(url)

  File "/usr/local/lib/python3.10/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)

  File "/usr/local/lib/python3.10/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)

  File "/usr/local/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)

  File "/usr/local/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)

  File "/usr/local/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)

requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.188.0.131', port=5001): Max retries exceeded with url: /Measurement/mmwCarrier11Capabilities (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f2735df03a0>: Failed to establish a new connection: [Errno 111] Connection refused'))

root@WilsonHallAviat:~#
```

Same problem at AgronomyFarm ...

*Command*
```
aviatcli carrier show status mmwCarrier1/1
```

*Output*
```
root@AgronomyFarmAviat:~# aviatcli carrier show status mmwCarrier1/1
Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(

  File "/usr/local/lib/python3.10/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err

  File "/usr/local/lib/python3.10/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py", line 790, in urlopen
    response = self._make_request(

  File "/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py", line 496, in _make_request
    conn.request(

  File "/usr/local/lib/python3.10/site-packages/urllib3/connection.py", line 395, in request
    self.endheaders()

  File "/usr/local/lib/python3.10/http/client.py", line 1278, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)

  File "/usr/local/lib/python3.10/http/client.py", line 1038, in _send_output
    self.send(msg)

  File "/usr/local/lib/python3.10/http/client.py", line 976, in send
    self.connect()

  File "/usr/local/lib/python3.10/site-packages/urllib3/connection.py", line 243, in connect
    self.sock = self._new_conn()

  File "/usr/local/lib/python3.10/site-packages/urllib3/connection.py", line 218, in _new_conn
    raise NewConnectionError(

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f377807b100>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(

  File "/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py", line 844, in urlopen
    retries = retries.increment(

  File "/usr/local/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='10.188.0.131', port=5001): Max retries exceeded with url: /Measurement/mmwCarrier11Status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f377807b100>: Failed to establish a new connection: [Errno 111] Connection refused'))


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/usr/local/bin/aviatcli", line 8, in <module>
    sys.exit(main())

  File "/usr/local/lib/python3.10/site-packages/aviat_cli/__main__.py", line 7, in main
    app(prog_name=__app_name__)

  File "/usr/local/lib/python3.10/site-packages/aviat_cli/commands/carrier/show.py", line 61, in check_status
    response = get_mmwave_carrier11_status(remote)

  File "/usr/local/lib/python3.10/site-packages/aviat_client/get_requests.py", line 33, in get_mmwave_carrier11_status
    response = get(url)

  File "/usr/local/lib/python3.10/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)

  File "/usr/local/lib/python3.10/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)

  File "/usr/local/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)

  File "/usr/local/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)

  File "/usr/local/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)

requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.188.0.131', port=5001): Max retries exceeded with url: /Measurement/mmwCarrier11Status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f377807b100>: Failed to establish a new connection: [Errno 111] Connection refused'))

root@AgronomyFarmAviat:~#
```

No basic networking tools installed ...

```
root@AgronomyFarmAviat:~# host 10.188.0.131
-bash: host: command not found
root@AgronomyFarmAviat:~# which host
root@AgronomyFarmAviat:~# apt-get install dnsutils
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  bind9-dnsutils bind9-host
The following NEW packages will be installed:
  bind9-dnsutils bind9-host dnsutils
0 upgraded, 3 newly installed, 0 to remove and 55 not upgraded.
Need to get 969 kB of archives.
After this operation, 1417 kB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://deb.debian.org/debian bookworm/main amd64 bind9-host amd64 1:9.18.24-1 [305 kB]
Get:2 http://deb.debian.org/debian bookworm/main amd64 bind9-dnsutils amd64 1:9.18.24-1 [403 kB]
Get:3 http://deb.debian.org/debian bookworm/main amd64 dnsutils all 1:9.18.24-1 [261 kB]
Fetched 969 kB in 0s (4177 kB/s) 
perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
	LANGUAGE = (unset),
	LC_ALL = (unset),
	LANG = "en_US.UTF-8"
    are supported and installed on your system.
perl: warning: Falling back to the standard locale ("C").
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package bind9-host.
(Reading database ... 15401 files and directories currently installed.)
Preparing to unpack .../bind9-host_1%3a9.18.24-1_amd64.deb ...
Unpacking bind9-host (1:9.18.24-1) ...
Selecting previously unselected package bind9-dnsutils.
Preparing to unpack .../bind9-dnsutils_1%3a9.18.24-1_amd64.deb ...
Unpacking bind9-dnsutils (1:9.18.24-1) ...
Selecting previously unselected package dnsutils.
Preparing to unpack .../dnsutils_1%3a9.18.24-1_all.deb ...
Unpacking dnsutils (1:9.18.24-1) ...
Setting up bind9-host (1:9.18.24-1) ...
Setting up bind9-dnsutils (1:9.18.24-1) ...
Setting up dnsutils (1:9.18.24-1) ...
root@AgronomyFarmAviat:~# host 10.188.0.131
131.0.188.10.in-addr.arpa domain name pointer WilsonHall-Host-000.
root@AgronomyFarmAviat:~#
```

# [ARA Edge Usage](https://arawireless.readthedocs.io/en/latest/ara_experiments/additional_experiments/ara_edge_experiment.html)

```
root@AgronomyFarmEdge:~# apt-get update
Get:1 http://security.ubuntu.com/ubuntu focal-security InRelease [128 kB]
Get:2 https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64  InRelease [1581 B]
Hit:3 http://archive.ubuntu.com/ubuntu focal InRelease                         
Err:2 https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64  InRelease
  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY A4B469963BF863CC
Ign:4 https://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu2004/x86_64  InRelease
Get:5 http://archive.ubuntu.com/ubuntu focal-updates InRelease [128 kB]
Hit:6 https://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu2004/x86_64  Release
Get:7 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 Packages [30.9 kB]
Get:9 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages [1245 kB]
Get:10 http://security.ubuntu.com/ubuntu focal-security/main amd64 Packages [3758 kB]
Get:11 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 Packages [3733 kB]
Get:12 http://archive.ubuntu.com/ubuntu focal-backports InRelease [128 kB]     
Get:13 http://archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 Packages [33.5 kB]
Get:14 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [4228 kB]
Get:15 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [1530 kB]
Get:16 http://archive.ubuntu.com/ubuntu focal-updates/restricted amd64 Packages [3882 kB]
Reading package lists... Done                               
W: GPG error: https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64  InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY A4B469963BF863CC
E: The repository 'https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64  InRelease' is not signed.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
N: See apt-secure(8) manpage for repository creation and user configuration details.
root@AgronomyFarmEdge:~# apt-get install pciutils
Reading package lists... Done
Building dependency tree       
Reading state information... Done
pciutils is already the newest version (1:3.6.4-1ubuntu0.20.04.1).
0 upgraded, 0 newly installed, 0 to remove and 12 not upgraded.
root@AgronomyFarmEdge:~# which nvidia-smi
/usr/bin/nvidia-smi
root@AgronomyFarmEdge:~# nvidia-smi
root@AgronomyFarmEdge:~# echo $?
0
root@AgronomyFarmEdge:~# lscpi | grep NVIDIA
-bash: lscpi: command not found
root@AgronomyFarmEdge:~# lspci | grep NVIDIA
17:00.0 VGA compatible controller: NVIDIA Corporation TU104GL [Quadro RTX 5000] (rev a1)
17:00.1 Audio device: NVIDIA Corporation TU104 HD Audio Controller (rev a1)
17:00.2 USB controller: NVIDIA Corporation TU104 USB 3.1 Host Controller (rev a1)
17:00.3 Serial bus controller [0c80]: NVIDIA Corporation TU104 USB Type-C UCSI Controller (rev a1)
root@AgronomyFarmEdge:~# python3 test_gpu.py 
^NCPU Execution Time: 15.464436769485474
GPU Execution Time: 2.4450018405914307
root@AgronomyFarmEdge:~# python3 test_gpu.py 
CPU Execution Time: 15.510637521743774
GPU Execution Time: 2.525779962539673
root@AgronomyFarmEdge:~#
```

