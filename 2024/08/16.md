# Resync the deployment branch of a fork with its upstream

In this example, we start with a existing cloned repo, where a new Spack instance is already under development as feature branch of the deployment branch for this version of Spack. 

```
[mkandes@login01 spack]$ pwd
/home/mkandes/software/spack/repositories/mkandes/spack
[mkandes@login01 spack]$ ls
activate-shared-spack-instance.sh   COPYRIGHT       LICENSE-MIT     README.md
bin                                 DEPLOYMENT.md   NOTICE          SECURITY.md
CHANGELOG.md                        etc             opt             share
configure-shared-spack-instance.sh  lib             pyproject.toml  var
CONTRIBUTING.md                     LICENSE-APACHE  pytest.ini
[mkandes@login01 spack]$ git branch
  sdsc-0.17.3
* sdsc-0.17.3-gh-124-inst-exp-cpu-dev
[mkandes@login01 spack]$ git log -1 --stat
commit f854004d83462a27457f4bf2b7293fc60a9a0866 (HEAD -> sdsc-0.17.3-gh-124-inst-exp-cpu-dev, origin/sdsc-0.17.3-gh-124-inst-exp-cpu-dev)
Author: Marty Kandes <mkandes@sdsc.edu>
Date:   Tue Jul 23 12:20:55 2024 -0700

    Update amdlibflame@3.1-omp % gcc@10.2.0 for exp/0.17.3/cpu/dev
    
    Change #SBATCH --time=48:00:00 to #SBATCH --time=00:30:00, which is the
    wallclock time request for the other amdlibflame spec build scripts for
     gcc@10.2.0.

 .../sdsc/expanse/0.17.3/cpu/dev/specs/gcc@10.2.0/amdlibflame@3.1-omp.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
[mkandes@login01 spack]$ git remote -v
origin	https://github.com/mkandes/spack.git (fetch)
origin	https://github.com/mkandes/spack.git (push)
[mkandes@login01 spack]$
```

First checkout the deployment branch, and then add the remote upstream.

```
[mkandes@login01 spack]$ git checkout sdsc-0.17.3
Updating files: 100% (410/410), done.
Switched to branch 'sdsc-0.17.3'
Your branch is up to date with 'origin/sdsc-0.17.3'.
[mkandes@login01 spack]$ git remote add upstream https://github.com/sdsc/spack.git
[mkandes@login01 spack]$ git branch
* sdsc-0.17.3
  sdsc-0.17.3-gh-124-inst-exp-cpu-dev
[mkandes@login01 spack]$ git remote -v
origin	https://github.com/mkandes/spack.git (fetch)
origin	https://github.com/mkandes/spack.git (push)
upstream	https://github.com/sdsc/spack.git (fetch)
upstream	https://github.com/sdsc/spack.git (push)
[mkandes@login01 spack]$
```

Next, fetch all changes from the upstream.

```
[mkandes@login01 spack]$ git fetch --tags upstream
remote: Enumerating objects: 16388, done.
remote: Counting objects: 100% (5000/5000), done.
remote: Total 16388 (delta 5000), reused 5000 (delta 5000), pack-reused 11388 (from 1)
Receiving objects: 100% (16388/16388), 196.24 MiB | 55.04 MiB/s, done.
Resolving deltas: 100% (9866/9866), completed with 1190 local objects.
From https://github.com/sdsc/spack
 * [new branch]            FASTMath/ATPESC18      -> upstream/FASTMath/ATPESC18
 * [new branch]            FASTMath/ATPESC19      -> upstream/FASTMath/ATPESC19
 * [new branch]            PR/openblas            -> upstream/PR/openblas
 * [new branch]            PR/pymock              -> upstream/PR/pymock
 * [new branch]            add-miniconda3@4.8.2-and-revert-4.7.12.1 -> upstream/add-miniconda3@4.8.2-and-revert-4.7.12.1
 * [new branch]            amklinv/amanzi         -> upstream/amklinv/amanzi
 * [new branch]            ascent                 -> upstream/ascent
 * [new branch]            autotools-cflags       -> upstream/autotools-cflags
 * [new branch]            barry/ceed             -> upstream/barry/ceed
 * [new branch]            boost-intel-toolset    -> upstream/boost-intel-toolset
 * [new branch]            bugfix/buildable-true-override-virtual -> upstream/bugfix/buildable-true-override-virtual
 * [new branch]            bugfix/bz2-libs        -> upstream/bugfix/bz2-libs
 * [new branch]            bugfix/compare-abstract-specs -> upstream/bugfix/compare-abstract-specs
 * [new branch]            bugfix/cray-no-module-preloaded -> upstream/bugfix/cray-no-module-preloaded
 * [new branch]            bugfix/env-activate-only-installed-concrete-specs -> upstream/bugfix/env-activate-only-installed-concrete-specs
 * [new branch]            bugfix/improved-uid-detection -> upstream/bugfix/improved-uid-detection
 * [new branch]            bugfix/m4_sierra_gcc_2 -> upstream/bugfix/m4_sierra_gcc_2
 * [new branch]            bugfix/multiarch-detection -> upstream/bugfix/multiarch-detection
 * [new branch]            bugfix/ordered-compiler-names -> upstream/bugfix/ordered-compiler-names
 * [new branch]            bugfix/sbang-filter-non-ascii-python-3 -> upstream/bugfix/sbang-filter-non-ascii-python-3
 * [new branch]            bugfix/setup-env       -> upstream/bugfix/setup-env
 * [new branch]            bugfix/shasta-hotfix-live-branch -> upstream/bugfix/shasta-hotfix-live-branch
 * [new branch]            bugfix/target-args-cray-compilers -> upstream/bugfix/target-args-cray-compilers
 * [new branch]            cdash/xsdk             -> upstream/cdash/xsdk
 * [new branch]            chain-doc-minor-improvement -> upstream/chain-doc-minor-improvement
 * [new branch]            concretizer            -> upstream/concretizer
 * [new branch]            cray-libsci-and-ver    -> upstream/cray-libsci-and-ver
 * [new branch]            dependabot/github_actions/actions/setup-python-4.6.0 -> upstream/dependabot/github_actions/actions/setup-python-4.6.0
 * [new branch]            dependabot/github_actions/docker/build-push-action-4.0.0 -> upstream/dependabot/github_actions/docker/build-push-action-4.0.0
 * [new branch]            dependabot/github_actions/docker/login-action-2.1.0 -> upstream/dependabot/github_actions/docker/login-action-2.1.0
 * [new branch]            dependabot/github_actions/docker/setup-buildx-action-2.5.0 -> upstream/dependabot/github_actions/docker/setup-buildx-action-2.5.0
 * [new branch]            dependabot/github_actions/docker/setup-qemu-action-2.1.0 -> upstream/dependabot/github_actions/docker/setup-qemu-action-2.1.0
 * [new branch]            develop                -> upstream/develop
 * [new branch]            docs/environment-scopes -> upstream/docs/environment-scopes
 * [new branch]            documentation/asp_based_solver -> upstream/documentation/asp_based_solver
 * [new branch]            eaf/200402-SpackEnvironmentDocs -> upstream/eaf/200402-SpackEnvironmentDocs
 * [new branch]            efischer/190121-SetupEnv -> upstream/efischer/190121-SetupEnv
 * [new branch]            efischer/190923-MultiPackagePrototype -> upstream/efischer/190923-MultiPackagePrototype
 * [new branch]            efischer/docs2         -> upstream/efischer/docs2
 * [new branch]            features/add-buildcache-list-to-database -> upstream/features/add-buildcache-list-to-database
 * [new branch]            features/anonymous_specs-fix -> upstream/features/anonymous_specs-fix
 * [new branch]            features/arch-swapping -> upstream/features/arch-swapping
 * [new branch]            features/cached-cmake-build-system -> upstream/features/cached-cmake-build-system
 * [new branch]            features/cflags-resuse -> upstream/features/cflags-resuse
 * [new branch]            features/cmake_deps    -> upstream/features/cmake_deps
 * [new branch]            features/compil        -> upstream/features/compil
 * [new branch]            features/detect-and-swap-current-python -> upstream/features/detect-and-swap-current-python
 * [new branch]            features/env-improvements-release -> upstream/features/env-improvements-release
 * [new branch]            features/env-pre-cmd   -> upstream/features/env-pre-cmd
 * [new branch]            features/find-linux-compilers-by-module -> upstream/features/find-linux-compilers-by-module
 * [new branch]            features/fix-cc-wrapper -> upstream/features/fix-cc-wrapper
 * [new branch]            features/improved-python-detection -> upstream/features/improved-python-detection
 * [new branch]            features/libs-command  -> upstream/features/libs-command
 * [new branch]            features/make-platform-command-line-option -> upstream/features/make-platform-command-line-option
 * [new branch]            features/more-coverage -> upstream/features/more-coverage
 * [new branch]            features/multi-download -> upstream/features/multi-download
 * [new branch]            features/parallel-mirror -> upstream/features/parallel-mirror
 * [new branch]            features/rstudio       -> upstream/features/rstudio
 * [new branch]            features/sandbox-builds -> upstream/features/sandbox-builds
 * [new branch]            features/setup_py      -> upstream/features/setup_py
 * [new branch]            features/shebang-warning-to-msg -> upstream/features/shebang-warning-to-msg
 * [new branch]            features/solver        -> upstream/features/solver
 * [new branch]            features/spack-mirror-verify -> upstream/features/spack-mirror-verify
 * [new branch]            features/spack-test-add-show-subcommand -> upstream/features/spack-test-add-show-subcommand
 * [new branch]            features/spack-test-hdf5-fix -> upstream/features/spack-test-hdf5-fix
 * [new branch]            features/spack-test-openmpi -> upstream/features/spack-test-openmpi
 * [new branch]            features/spack-test-openmpi-add-tests -> upstream/features/spack-test-openmpi-add-tests
 * [new branch]            features/stat_coral_test -> upstream/features/stat_coral_test
 * [new branch]            features/tty-output    -> upstream/features/tty-output
 * [new branch]            features/view-with-env -> upstream/features/view-with-env
 * [new branch]            features/virtual-packages -> upstream/features/virtual-packages
 * [new branch]            fish-shell-1           -> upstream/fish-shell-1
 * [new branch]            fix_cc                 -> upstream/fix_cc
 * [new branch]            flake8-sha256          -> upstream/flake8-sha256
 * [new branch]            fugaku-cross-compilation -> upstream/fugaku-cross-compilation
 * [new branch]            gh-pages               -> upstream/gh-pages
 * [new branch]            github/pr_templates    -> upstream/github/pr_templates
 * [new branch]            implicit-variables-setup -> upstream/implicit-variables-setup
 * [new branch]            legion-update          -> upstream/legion-update
 * [new branch]            libfabric-191-seems-to-work-on-darwin -> upstream/libfabric-191-seems-to-work-on-darwin
 * [new branch]            mfem                   -> upstream/mfem
 * [new branch]            mfem-updates           -> upstream/mfem-updates
 * [new branch]            mfu-cmake              -> upstream/mfu-cmake
 * [new branch]            mpbelhorn-aomp-3.9.0-wip-patch -> upstream/mpbelhorn-aomp-3.9.0-wip-patch
 * [new branch]            package/archer         -> upstream/package/archer
 * [new branch]            packages/gsl-external-cblas -> upstream/packages/gsl-external-cblas
 * [new branch]            packages/pruners-mpi   -> upstream/packages/pruners-mpi
 * [new branch]            packages/tulip         -> upstream/packages/tulip
 * [new branch]            parse-oneapi-version   -> upstream/parse-oneapi-version
 * [new branch]            pipelines-fix-develop-ambiguity -> upstream/pipelines-fix-develop-ambiguity
 * [new branch]            pipelines-improve-ci-job-label -> upstream/pipelines-improve-ci-job-label
 * [new branch]            proto/sys-packages-old -> upstream/proto/sys-packages-old
 * [new branch]            py-cffi-fix-checksum   -> upstream/py-cffi-fix-checksum
 * [new branch]            py26-bootstrap         -> upstream/py26-bootstrap
 * [new branch]            release_pipeline       -> upstream/release_pipeline
 * [new branch]            releases/v0.10.0       -> upstream/releases/v0.10.0
 * [new branch]            releases/v0.11.0       -> upstream/releases/v0.11.0
 * [new branch]            releases/v0.11.1       -> upstream/releases/v0.11.1
 * [new branch]            releases/v0.11.2       -> upstream/releases/v0.11.2
 * [new branch]            releases/v0.12         -> upstream/releases/v0.12
 * [new branch]            releases/v0.13         -> upstream/releases/v0.13
 * [new branch]            releases/v0.13-hwlloc-master -> upstream/releases/v0.13-hwlloc-master
 * [new branch]            releases/v0.14         -> upstream/releases/v0.14
 * [new branch]            releases/v0.15         -> upstream/releases/v0.15
 * [new branch]            releases/v0.16         -> upstream/releases/v0.16
 * [new branch]            retry_serial           -> upstream/retry_serial
 * [new branch]            revert-4.7.12.1        -> upstream/revert-4.7.12.1
 * [new branch]            sdsc-0.15.4            -> upstream/sdsc-0.15.4
 * [new branch]            sdsc-0.17.1            -> upstream/sdsc-0.17.1
 * [new branch]            sdsc-0.17.2            -> upstream/sdsc-0.17.2
 * [new branch]            sdsc-0.17.3            -> upstream/sdsc-0.17.3
 * [new branch]            sdsc-0.18.0            -> upstream/sdsc-0.18.0
 * [new branch]            sdsc-0.19.1            -> upstream/sdsc-0.19.1
 * [new branch]            separate-wrapper-decorator -> upstream/separate-wrapper-decorator
 * [new branch]            shorten-install-status-help -> upstream/shorten-install-status-help
 * [new branch]            silo-qt4               -> upstream/silo-qt4
 * [new branch]            spacktivate            -> upstream/spacktivate
 * [new branch]            spec-language-ideas    -> upstream/spec-language-ideas
 * [new branch]            spec-parse-inequalities -> upstream/spec-parse-inequalities
 * [new branch]            spec-target-flag-option -> upstream/spec-target-flag-option
 * [new branch]            stacks-debugging       -> upstream/stacks-debugging
 * [new branch]            test-gitlab-check-stays-pending -> upstream/test-gitlab-check-stays-pending
 * [new branch]            test/v0.13-with-fast-environments -> upstream/test/v0.13-with-fast-environments
 * [new branch]            testing/wip_xsdk       -> upstream/testing/wip_xsdk
 * [new branch]            tests/vtk-m-smoke-test-fix -> upstream/tests/vtk-m-smoke-test-fix
 * [new branch]            topic-libSplash160     -> upstream/topic-libSplash160
 * [new branch]            tutorials/advanced_packaging -> upstream/tutorials/advanced_packaging
 * [new branch]            update/ipopt           -> upstream/update/ipopt
 * [new branch]            v-dobrev/extend-default-spec-queries -> upstream/v-dobrev/extend-default-spec-queries
 * [new branch]            vendor-clingo          -> upstream/vendor-clingo
 * [new branch]            z3-bootstrap-2.6       -> upstream/z3-bootstrap-2.6
 * [new branch]            z3-concretizer         -> upstream/z3-concretizer
 ! [rejected]              releases/latest        -> releases/latest  (would clobber existing tag)
[mkandes@login01 spack]$
```

Then merge all changes into the local copy of the deployment branch.

```
[mkandes@login01 spack]$ git merge upstream/sdsc-0.17.3
Already up to date.
[mkandes@login01 spack]$
```

Finally, push all changes back to your fork on GitHub. 

```
[mkandes@login01 spack]$ git push
Username for 'https://github.com': mkandes
Password for 'https://mkandes@github.com': 
Everything up-to-date
[mkandes@login01 spack]$ git push --tags
Everything up-to-date
[mkandes@login01 spack]$
```

# Create a new feature branch and submit a pull request

If you would like to deploy a new Spack config, package, or spec into any production instance at SDSC, you must first submit your changes to the deployment branch for the target version of Spack as a pull request. This process begins with creating a new feature branch off of a resynchonized deployment branch. Once the deployment branch is resynchonized, create your feature branch.

```
[mkandes@login01 spack]$ git branch
* sdsc-0.17.3
  sdsc-0.17.3-gh-124-inst-exp-cpu-dev
[mkandes@login01 spack]$ git checkout -b sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf
Switched to a new branch 'sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf'
[mkandes@login01 spack]$ git checkout sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf
Already on 'sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf'
[mkandes@login01 spack]$ git branch
  sdsc-0.17.3
  sdsc-0.17.3-gh-124-inst-exp-cpu-dev
* sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf
[mkandes@login01 spack]$
```

As shown above, please label each feature branch with a reference to the GitHub issue it is intended to address. In this case, the feature branch will address GitHub issue https://github.com/sdsc/spack/issues/125, which requires a set of Spack specs to build and install PGI-compiled versions of the NetCDF libraries within the `expanse/0.17.3/cpu/b` instance.

```
[mkandes@login01 specs]$ git status
On branch sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf
Untracked files:
  (use "git add <file>..." to include in what will be committed)
	../../../../../../compilers.yaml
	../../../../../../licenses/
	../../../../../../modules.yaml
	../../../../../../packages.yaml
	cmake@3.21.4.sh
	nvhpc@21.9.sh
	nvhpc@21.9/
	../../dev/

nothing added to commit but untracked files present (use "git add" to track)
[mkandes@login01 specs]$ git add cmake@3.21.4.sh 
[mkandes@login01 specs]$ git add nvhpc@21.9.sh 
[mkandes@login01 specs]$ git nvhpc@21.9/
git: 'nvhpc@21.9/' is not a git command. See 'git --help'.
[mkandes@login01 specs]$ git add nvhpc@21.9/
[mkandes@login01 specs]$ git status
On branch sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
	new file:   cmake@3.21.4.sh
	new file:   nvhpc@21.9.sh
	new file:   nvhpc@21.9/hdf5@1.10.7.sh
	new file:   nvhpc@21.9/netcdf-c@4.8.1.sh
	new file:   nvhpc@21.9/netcdf-fortran@4.5.3.sh

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	../../../../../../compilers.yaml
	../../../../../../licenses/
	../../../../../../modules.yaml
	../../../../../../packages.yaml
	../../dev/

[mkandes@login01 specs]$ git branch
  sdsc-0.17.3
  sdsc-0.17.3-gh-124-inst-exp-cpu-dev
* sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf
[mkandes@login01 specs]$ git commit
[sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf 2eccf08949] Add nvhpc@21.9 % gcc@8.5.0 + netcdf-* to exp/0.17.3/cpu/b
 5 files changed, 351 insertions(+)
 create mode 100644 etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/cmake@3.21.4.sh
 create mode 100644 etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh
 create mode 100644 etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/hdf5@1.10.7.sh
 create mode 100644 etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/netcdf-c@4.8.1.sh
 create mode 100644 etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/netcdf-fortran@4.5.3.sh
[mkandes@login01 specs]$ git log
commit 2eccf0894939f5e1f34d8bde648884b6ad5f0d79 (HEAD -> sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf)
Author: Marty Kandes <mkandes@sdsc.edu>
Date:   Fri Aug 16 11:33:00 2024 -0700

    Add nvhpc@21.9 % gcc@8.5.0 + netcdf-* to exp/0.17.3/cpu/b
    
    We are deploying nvhpc@21.9 to exp/0.17.3/cpu/b as a compiler option to
    support a specific use case [1], where the end user can currently only
    compile their custom code with PGI-based compilers and a set of
    compatible NetCDF libraries.
    
    [1] https://github.com/sdsc/spack/issues/125

commit 3cbfd1ba45d6e0971ad48628b616b6dd34233f85 (upstream/sdsc-0.17.3, origin/sdsc-0.17.3, origin/HEAD, sdsc-0.17.3)
Author: Marty Kandes <mkandes@sdsc.edu>
Date:   Wed Oct 18 18:17:05 2023 -0700

    Add vasp6@6.4.2 % intel@19.1.3.304 ^intel-mpi@2019.10.317 to exp/0.17.3/cpu/b
    
    This deployment is in support of recent user requests for VASP v6.4.x
    compiled with Wannier90 integration [1]. Please note, however, to
    satisfy the requests, we have utlized an updated Spack package from
    @jerrypgreenberg for VASP v6.4.x, which has significant changes to its
    build process and GPU support --- e.g., moving from CUDA to OpenACC. As
    such, the Spack package in the sdsc package repo has been update as
    well, but will not be backwards-compatible with earlier versions of
    VASP.
    
    [1] https://github.com/sdsc/spack/issues/51

commit 9e638607059c35789f1315666990c4aa930b655b
Author: Marty Kandes <mkandes@sdsc.edu>
Date:   Wed Oct 18 16:37:27 2023 -0700

    Add wannier90@3.1.0 % intel@19.1.3.304 ^intel-mpi@2019.10.317 to exp/0.17.3/cpu/b
    
    This deployment is in support of recent user requests for VASP v6.4.x
    compiled with Wannier90 integration [1].
    
    [1] https://github.com/sdsc/spack/issues/51

commit f9fffade29451a1dd92bb784c250caee47ad313e
Author: Marty Kandes <mkandes@sdsc.edu>
Date:   Fri Oct 6 12:47:47 2023 -0700

    Add shared instance config and activation scripts

commit c9225f36924e1addde8e86d3303b1325a418f663
Author: Marty Kandes <mkandes@sdsc.edu>
Date:   Tue Oct 3 14:34:53 2023 -0700

    Revert sdsc's custom amber pkg to support expanse/0.17.3/cpu/b
    
    After successfully using one of the latest amber Spack packages
    developed by Jerry Greenberg here at SDSC to deploy a GPU-accelerated
    version of Amber22 and AmberTool23 into expanse/0.17.3/gpu/b, it was
    found this package was incapable of redeploying the same CPU-only
    version into expanse/0.17.3/cpu/b. As such, we've had to revert to the
    original configuration of the package used to deploy into
    expanse/0.17.3/cpu/b. We'll eventaully need to reconcile these issues as
    neither of these packages support older versions of Amber either. See
    [1] for more information.
    
    [1] https://github.com/sdsc/spack/issues/50

commit 778f7ffa1cae4983af7c4df8c10c78f70e01fbb5
Author: Marty Kandes <mkandes@sdsc.edu>
Date:   Tue Oct 3 13:34:23 2023 -0700

[mkandes@login01 specs]$
```

Push changes to your fork.

```
[mkandes@login01 specs]$ git push
fatal: The current branch sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf has no upstream branch.
To push the current branch and set the remote as upstream, use

    git push --set-upstream origin sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf

To have this happen automatically for branches without a tracking
upstream, see 'push.autoSetupRemote' in 'git help config'.

[mkandes@login01 specs]$ git remote -v
origin	https://github.com/mkandes/spack.git (fetch)
origin	https://github.com/mkandes/spack.git (push)
upstream	https://github.com/sdsc/spack.git (fetch)
upstream	https://github.com/sdsc/spack.git (push)
[mkandes@login01 specs]$ git push --set-upstream origin sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf
Username for 'https://github.com': mkandes
Password for 'https://mkandes@github.com': 
Enumerating objects: 25, done.
Counting objects: 100% (25/25), done.
Delta compression using up to 64 threads
Compressing objects: 100% (13/13), done.
Writing objects: 100% (16/16), 2.68 KiB | 2.68 MiB/s, done.
Total 16 (delta 7), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (7/7), completed with 3 local objects.
remote: 
remote: Create a pull request for 'sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf' on GitHub by visiting:
remote:      https://github.com/mkandes/spack/pull/new/sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf
remote: 
To https://github.com/mkandes/spack.git
 * [new branch]            sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf -> sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf
branch 'sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf' set up to track 'origin/sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf'.
[mkandes@login01 specs]$
```

Then submit pull request.

https://github.com/sdsc/spack/pull/126

# Deploy merged pull request(s) to a production instance

Login to the deployment role account, start an interactive session on the deployment node, and then navigate to the production instances SPACK_ROOT.

```
[spack_cpu@login01 ~]$ srun --partition=ind-shared --reservation=root_73  --account=use300 --nodes=1 --nodelist=exp-15-56 --ntasks-per-node=1 --cpus-per-task=16 --mem=32G --time=12:00:00 --pty --wait=0 /bin/bash
[spack_cpu@exp-15-56 ~]$ cd /cm/shared/apps/spack/0.17.3/cpu/b/
[spack_cpu@exp-15-56 b]$ git log -1
commit 3cbfd1ba45d6e0971ad48628b616b6dd34233f85 (HEAD -> sdsc-0.17.3, origin/sdsc-0.17.3, origin/HEAD)
Author: Marty Kandes <mkandes@sdsc.edu>
Date:   Wed Oct 18 18:17:05 2023 -0700

    Add vasp6@6.4.2 % intel@19.1.3.304 ^intel-mpi@2019.10.317 to exp/0.17.3/cpu/b
    
    This deployment is in support of recent user requests for VASP v6.4.x
    compiled with Wannier90 integration [1]. Please note, however, to
    satisfy the requests, we have utlized an updated Spack package from
    @jerrypgreenberg for VASP v6.4.x, which has significant changes to its
    build process and GPU support --- e.g., moving from CUDA to OpenACC. As
    such, the Spack package in the sdsc package repo has been update as
    well, but will not be backwards-compatible with earlier versions of
    VASP.
    
    [1] https://github.com/sdsc/spack/issues/51
[spack_cpu@exp-15-56 b]$ git branch
* sdsc-0.17.3
[spack_cpu@exp-15-56 b]$
```

Pull changes from recent pull requests to production instance.

```
[spack_cpu@exp-15-56 b]$ git fetch origin
remote: Enumerating objects: 52657, done.
remote: Counting objects: 100% (15772/15772), done.
remote: Compressing objects: 100% (32/32), done.
remote: Total 52657 (delta 15737), reused 15771 (delta 15737), pack-reused 36885 (from 1)
Receiving objects: 100% (52657/52657), 16.17 MiB | 31.84 MiB/s, done.
Resolving deltas: 100% (23790/23790), completed with 5325 local objects.
From https://github.com/sdsc/spack
   3cbfd1ba45..5495adc21f  sdsc-0.17.3 -> origin/sdsc-0.17.3
   eee8fdc438..14209a86a6  develop     -> origin/develop
 * [new tag]               develop-2023-09-17 -> develop-2023-09-17
 * [new tag]               develop-2023-09-24 -> develop-2023-09-24
 * [new tag]               develop-2023-10-01 -> develop-2023-10-01
 * [new tag]               develop-2023-10-08 -> develop-2023-10-08
 * [new tag]               develop-2023-10-15 -> develop-2023-10-15
 * [new tag]               develop-2023-10-22 -> develop-2023-10-22
 * [new tag]               develop-2023-10-29 -> develop-2023-10-29
 * [new tag]               develop-2023-11-05 -> develop-2023-11-05
 * [new tag]               develop-2023-11-12 -> develop-2023-11-12
 * [new tag]               develop-2023-11-19 -> develop-2023-11-19
 * [new tag]               develop-2023-11-26 -> develop-2023-11-26
 * [new tag]               develop-2023-12-03 -> develop-2023-12-03
 * [new tag]               develop-2023-12-10 -> develop-2023-12-10
 * [new tag]               develop-2023-12-17 -> develop-2023-12-17
 * [new tag]               develop-2023-12-24 -> develop-2023-12-24
 * [new tag]               develop-2023-12-31 -> develop-2023-12-31
 * [new tag]               develop-2024-01-07 -> develop-2024-01-07
 * [new tag]               develop-2024-01-14 -> develop-2024-01-14
 * [new tag]               develop-2024-01-21 -> develop-2024-01-21
 * [new tag]               develop-2024-01-28 -> develop-2024-01-28
 * [new tag]               develop-2024-02-04 -> develop-2024-02-04
 * [new tag]               develop-2024-02-11 -> develop-2024-02-11
 * [new tag]               develop-2024-02-18 -> develop-2024-02-18
 * [new tag]               develop-2024-02-25 -> develop-2024-02-25
 * [new tag]               develop-2024-03-03 -> develop-2024-03-03
[spack_cpu@exp-15-56 b]$ git log -1
commit 3cbfd1ba45d6e0971ad48628b616b6dd34233f85 (HEAD -> sdsc-0.17.3)
Author: Marty Kandes <mkandes@sdsc.edu>
Date:   Wed Oct 18 18:17:05 2023 -0700

    Add vasp6@6.4.2 % intel@19.1.3.304 ^intel-mpi@2019.10.317 to exp/0.17.3/cpu/b
    
    This deployment is in support of recent user requests for VASP v6.4.x
    compiled with Wannier90 integration [1]. Please note, however, to
    satisfy the requests, we have utlized an updated Spack package from
    @jerrypgreenberg for VASP v6.4.x, which has significant changes to its
    build process and GPU support --- e.g., moving from CUDA to OpenACC. As
    such, the Spack package in the sdsc package repo has been update as
    well, but will not be backwards-compatible with earlier versions of
    VASP.
    
    [1] https://github.com/sdsc/spack/issues/51
[spack_cpu@exp-15-56 b]$ git pull
Updating 3cbfd1ba45..5495adc21f
Fast-forward
 etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/cmake@3.21.4.sh              | 68 ++++++++++++++++++++++++++++++
 etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh                | 74 +++++++++++++++++++++++++++++++++
 etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/hdf5@1.10.7.sh    | 68 ++++++++++++++++++++++++++++++
 etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/netcdf-c@4.8.1.sh | 74 +++++++++++++++++++++++++++++++++
 .../sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/netcdf-fortran@4.5.3.sh | 67 +++++++++++++++++++++++++++++
 5 files changed, 351 insertions(+)
 create mode 100644 etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/cmake@3.21.4.sh
 create mode 100644 etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh
 create mode 100644 etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/hdf5@1.10.7.sh
 create mode 100644 etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/netcdf-c@4.8.1.sh
 create mode 100644 etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/netcdf-fortran@4.5.3.sh
[spack_cpu@exp-15-56 b]$ git log -1
commit 5495adc21fbccffe4c737dd84e55ea61459449e7 (HEAD -> sdsc-0.17.3, origin/sdsc-0.17.3, origin/HEAD)
Merge: 3cbfd1ba45 2eccf08949
Author: Marty Kandes <mkandes@sdsc.edu>
Date:   Fri Aug 16 11:40:33 2024 -0700

    Merge pull request #126 from mkandes/sdsc-0.17.3-gh-125-spec-exp-cpu-pgi-netcdf
    
    Add nvhpc@21.9 % gcc@8.5.0 + netcdf-* to exp/0.17.3/cpu/b
[spack_cpu@exp-15-56 b]$
```

Go deploy each new config, package, and/or spec as needed. If problems arise, address and commit required changes back.

```
[spack_cpu@exp-15-56 b]$ cd etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/
[spack_cpu@exp-15-56 specs]$ ls
anaconda3@2021.05.o21694095.exp-15-56           intel@19.1.3.304.sh
anaconda3@2021.05.sh                            libxsmm@1.16.3.sh
aocc@3.2.0                                      matlab@2022b.sh
aocc@3.2.0.o21740680.exp-15-56                  mercurial@5.8.o21693989.exp-15-56
aocc@3.2.0.o21740726.exp-15-56                  mercurial@5.8.sh
aocc@3.2.0.sh                                   nvhpc@21.3
aria2@1.35.0.o21694011.exp-15-56                nvhpc@21.3.sh
aria2@1.35.0.sh                                 nvhpc@21.9
cmake@3.21.4.sh                                 nvhpc@21.9.sh
entrezdirect@10.7.20190114.o21694065.exp-15-56  parallel@20210922.o21693459.exp-15-56
entrezdirect@10.7.20190114.sh                   parallel@20210922.sh
gcc@10.2.0                                      pgi@18.10
gcc@10.2.0.o21694812.exp-15-56                  pgi@18.10.sh
gcc@10.2.0.sh                                   pigz@2.6.o21693610.exp-15-56
gh@2.0.0.o21693793.exp-15-56                    pigz@2.6.sh
gh@2.0.0.sh                                     rclone@1.56.2.o21694048.exp-15-56
git@2.31.1.o21693612.exp-15-56                  rclone@1.56.2.sh
git@2.31.1.sh                                   sratoolkit@2.10.9.o21694059.exp-15-56
git-lfs@2.11.0.o21693736.exp-15-56              sratoolkit@2.10.9.sh
git-lfs@2.11.0.sh                               subversion@1.14.0.o21693810.exp-15-56
intel@19.1.3.304                                subversion@1.14.0.sh
intel@19.1.3.304.o21749258.exp-15-56            ucx@1.10.1.o21745904.exp-15-56
intel@19.1.3.304.o21749373.exp-15-56            ucx@1.10.1.sh
[spack_cpu@exp-15-56 specs]$ less nvhpc@21.9.sh 
[spack_cpu@exp-15-56 specs]$ vi nvhpc@21.9.sh 
[spack_cpu@exp-15-56 specs]$ sbatch nvhpc@21.9.sh 
Submitted batch job 33146549
[spack_cpu@exp-15-56 specs]$ squeue -u $USER
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
          33146549 ind-share nvhpc@21 spack_cp  R       0:07      1 exp-15-56
          33146274 ind-share     bash spack_cp  R       8:57      1 exp-15-56
[spack_cpu@exp-15-56 specs]$ git diff
diff --git a/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh b/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh
index bd384cb1a7..b46c3ccbdf 100644
--- a/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh
+++ b/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh
@@ -70,5 +70,3 @@ if [[ "${?}" -ne 0 ]]; then
 fi
 
 spack compiler add --scope site "$(spack location -i ${SPACK_PACKAGE})"
-
-sleep 30
[spack_cpu@exp-15-56 specs]$
```

```
[spack_cpu@exp-15-56 specs]$ cp /cm/shared/apps/spack/0.17.3/cpu/b/etc/spack/compilers.yaml ../yamls/compilers.yaml 
[spack_cpu@exp-15-56 specs]$ git diff
diff --git a/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh b/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh
index bd384cb1a7..b46c3ccbdf 100644
--- a/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh
+++ b/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh
@@ -70,5 +70,3 @@ if [[ "${?}" -ne 0 ]]; then
 fi
 
 spack compiler add --scope site "$(spack location -i ${SPACK_PACKAGE})"
-
-sleep 30
diff --git a/etc/spack/sdsc/expanse/0.17.3/cpu/b/yamls/compilers.yaml b/etc/spack/sdsc/expanse/0.17.3/cpu/b/yamls/compilers.yaml
index d34ec0490b..e0c576c48d 100644
--- a/etc/spack/sdsc/expanse/0.17.3/cpu/b/yamls/compilers.yaml
+++ b/etc/spack/sdsc/expanse/0.17.3/cpu/b/yamls/compilers.yaml
@@ -63,3 +63,19 @@ compilers:
     modules: []
     environment: {}
     extra_rpaths: []
+- compiler:
+    spec: nvhpc@21.9
+    paths:
+      cc: /cm/shared/apps/spack/0.17.3/cpu/b/opt/spack/linux-rocky8-zen/gcc-8.5.0/nvhpc-21.9-xxpthf52cloih3j5abdsx65rlg4yk2kk/Linux_x86_64/21.9/compilers/bin/nvc
+      cxx: /cm/shared/apps/spack/0.17.3/cpu/b/opt/spack/linux-rocky8-zen/gcc-8.5.0/nvhpc-21.9-xxpthf52cloih3j5abdsx65rlg4yk2kk/Linux_x86_64/21.9/compilers/bin/nvc++
+      f77: /cm/shared/apps/spack/0.17.3/cpu/b/opt/spack/linux-rocky8-zen/gcc-8.5.0/nvhpc-21.9-xxpthf52cloih3j5abdsx65rlg4yk2kk/Linux_x86_64/21.9/compilers/bin/nvfortran
+      fc: /cm/shared/apps/spack/0.17.3/cpu/b/opt/spack/linux-rocky8-zen/gcc-8.5.0/nvhpc-21.9-xxpthf52cloih3j5abdsx65rlg4yk2kk/Linux_x86_64/21.9/compilers/bin/nvfortran
+    flags:
+      cflags: -fast
+      cxxflags: -fast
+      fflags: -fast
+    operating_system: rocky8
+    target: x86_64
+    modules: []
+    environment: {}
+    extra_rpaths: []
[spack_cpu@exp-15-56 specs]$ git status
On branch sdsc-0.17.3
Your branch is up to date with 'origin/sdsc-0.17.3'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   nvhpc@21.9.sh
	modified:   ../yamls/compilers.yaml

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	../../../../../../compilers.yaml
	../../../../../../licenses/
	../../../../../../modules.yaml
	../../../../../../packages.yaml
	nvhpc@21.9.o33146549.exp-15-56
	../../../../../../../../var/spack/repos/sdsc/packages/amber.configure/


It took 2.09 seconds to enumerate untracked files. 'status -uno'
may speed it up, but you have to be careful not to forget to add
new files yourself (see 'git help status').
no changes added to commit (use "git add" and/or "git commit -a")
[spack_cpu@exp-15-56 specs]$
```

```
[spack_cpu@exp-15-56 specs]$ vi cmake@3.21.4.sh 
[spack_cpu@exp-15-56 specs]$ sbatch cmake@3.21.4.sh 
Submitted batch job 33147784
[spack_cpu@exp-15-56 specs]$ squeue -u $USER
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
          33147784 ind-share cmake@3. spack_cp  R       0:18      1 exp-15-56
          33146274 ind-share     bash spack_cp  R      43:52      1 exp-15-56
[spack_cpu@exp-15-56 specs]$
```

```
[spack_cpu@exp-15-56 specs]$ cd nvhpc@21.9/
[spack_cpu@exp-15-56 nvhpc@21.9]$ ls
hdf5@1.10.7.sh  netcdf-c@4.8.1.sh  netcdf-fortran@4.5.3.sh
[spack_cpu@exp-15-56 nvhpc@21.9]$ sbatch hdf5@1.10.7.sh 
Submitted batch job 33147797
[spack_cpu@exp-15-56 nvhpc@21.9]$ squeue -u $USER
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
          33147797 ind-share hdf5@1.1 spack_cp  R       0:01      1 exp-15-56
          33146274 ind-share     bash spack_cp  R      45:44      1 exp-15-56
[spack_cpu@exp-15-56 nvhpc@21.9]$
```

```
[spack_cpu@exp-15-56 nvhpc@21.9]$ sbatch netcdf-c@4.8.1.sh
Submitted batch job 33148039
[spack_cpu@exp-15-56 nvhpc@21.9]$ squeue -u $USER
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
          33148039 ind-share netcdf-c spack_cp  R       0:03      1 exp-15-56
          33146274 ind-share     bash spack_cp  R      51:21      1 exp-15-56
[spack_cpu@exp-15-56 nvhpc@21.9]$
```

```
[spack_cpu@exp-15-56 specs]$ git status
On branch sdsc-0.17.3
Your branch is up to date with 'origin/sdsc-0.17.3'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   nvhpc@21.9.sh
	modified:   nvhpc@21.9/hdf5@1.10.7.sh
	modified:   nvhpc@21.9/netcdf-c@4.8.1.sh
	modified:   ../yamls/compilers.yaml

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	../../../../../../compilers.yaml
	../../../../../../licenses/
	../../../../../../modules.yaml
	../../../../../../packages.yaml
	cmake@3.21.4.o33147784.exp-15-56
	nvhpc@21.9.o33146549.exp-15-56
	nvhpc@21.9/hdf5@1.10.7.o33147827.exp-15-56
	nvhpc@21.9/netcdf-c@4.8.1.o33148039.exp-15-56
	nvhpc@21.9/netcdf-fortran@4.5.3.o33148097.exp-15-56
	../../../../../../../../var/spack/repos/sdsc/packages/amber.configure/

no changes added to commit (use "git add" and/or "git commit -a")
[spack_cpu@exp-15-56 specs]$ git diff nvhpc@21.9.sh
diff --git a/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh b/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh
index bd384cb1a7..b46c3ccbdf 100644
--- a/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh
+++ b/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9.sh
@@ -70,5 +70,3 @@ if [[ "${?}" -ne 0 ]]; then
 fi
 
 spack compiler add --scope site "$(spack location -i ${SPACK_PACKAGE})"
-
-sleep 30
[spack_cpu@exp-15-56 specs]$ git diff nvhpc@21.9/hdf5@1.10.7.sh
diff --git a/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/hdf5@1.10.7.sh b/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/hdf5@1.10.7.sh
index 6b5418f645..85e065a343 100644
--- a/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/hdf5@1.10.7.sh
+++ b/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/hdf5@1.10.7.sh
@@ -42,7 +42,7 @@ module list
 declare -xr SPACK_PACKAGE='hdf5@1.10.7'
 declare -xr SPACK_COMPILER='nvhpc@21.9'
 declare -xr SPACK_VARIANTS='+cxx +fortran +hl ~ipo ~java ~mpi +shared +szip ~threadsafe +tools'
-declare -xr SPACK_DEPENDENCIES="^cmake@3.21.4/$(spack find --format '{hash:7}' hdf5@1.10.7 % gcc@8.5.0)"
+declare -xr SPACK_DEPENDENCIES="^cmake@3.21.4/$(spack find --format '{hash:7}' cmake@3.21.4 % gcc@8.5.0)"
 declare -xr SPACK_SPEC="${SPACK_PACKAGE} % ${SPACK_COMPILER} ${SPACK_VARIANTS} ${SPACK_DEPENDENCIES}"
 
 printenv
[spack_cpu@exp-15-56 specs]$ git diff nvhpc@21.9/netcdf-c@4.8.1.sh
diff --git a/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/netcdf-c@4.8.1.sh b/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/netcdf-c@4.8.1.sh
index bcfdeb72a0..38b8c8e1b6 100644
--- a/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/netcdf-c@4.8.1.sh
+++ b/etc/spack/sdsc/expanse/0.17.3/cpu/b/specs/nvhpc@21.9/netcdf-c@4.8.1.sh
@@ -66,9 +66,3 @@ if [[ "${?}" -ne 0 ]]; then
   echo 'ERROR: spack install failed.'
   exit 1
 fi
-
-#spack module lmod refresh --delete-tree -y
-
-sbatch --dependency="afterok:${SLURM_JOB_ID}" 'netcdf-cxx4@4.3.1.sh'
-
-sleep 30
[spack_cpu@exp-15-56 specs]$ git diff ../yamls/compilers.yaml
diff --git a/etc/spack/sdsc/expanse/0.17.3/cpu/b/yamls/compilers.yaml b/etc/spack/sdsc/expanse/0.17.3/cpu/b/yamls/compilers.yaml
index d34ec0490b..e0c576c48d 100644
--- a/etc/spack/sdsc/expanse/0.17.3/cpu/b/yamls/compilers.yaml
+++ b/etc/spack/sdsc/expanse/0.17.3/cpu/b/yamls/compilers.yaml
@@ -63,3 +63,19 @@ compilers:
     modules: []
     environment: {}
     extra_rpaths: []
+- compiler:
+    spec: nvhpc@21.9
+    paths:
+      cc: /cm/shared/apps/spack/0.17.3/cpu/b/opt/spack/linux-rocky8-zen/gcc-8.5.0/nvhpc-21.9-xxpthf52cloih3j5abdsx65rlg4yk2kk/Linux_x86_64/21.9/compilers/bin/nvc
+      cxx: /cm/shared/apps/spack/0.17.3/cpu/b/opt/spack/linux-rocky8-zen/gcc-8.5.0/nvhpc-21.9-xxpthf52cloih3j5abdsx65rlg4yk2kk/Linux_x86_64/21.9/compilers/bin/nvc++
+      f77: /cm/shared/apps/spack/0.17.3/cpu/b/opt/spack/linux-rocky8-zen/gcc-8.5.0/nvhpc-21.9-xxpthf52cloih3j5abdsx65rlg4yk2kk/Linux_x86_64/21.9/compilers/bin/nvfortran
+      fc: /cm/shared/apps/spack/0.17.3/cpu/b/opt/spack/linux-rocky8-zen/gcc-8.5.0/nvhpc-21.9-xxpthf52cloih3j5abdsx65rlg4yk2kk/Linux_x86_64/21.9/compilers/bin/nvfortran
+    flags:
+      cflags: -fast
+      cxxflags: -fast
+      fflags: -fast
+    operating_system: rocky8
+    target: x86_64
+    modules: []
+    environment: {}
+    extra_rpaths: []
[spack_cpu@exp-15-56 specs]$
```
